(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const I of document.querySelectorAll('link[rel="modulepreload"]'))V(I);new MutationObserver(I=>{for(const _e of I)if(_e.type==="childList")for(const ne of _e.addedNodes)ne.tagName==="LINK"&&ne.rel==="modulepreload"&&V(ne)}).observe(document,{childList:!0,subtree:!0});function E(I){const _e={};return I.integrity&&(_e.integrity=I.integrity),I.referrerPolicy&&(_e.referrerPolicy=I.referrerPolicy),I.crossOrigin==="use-credentials"?_e.credentials="include":I.crossOrigin==="anonymous"?_e.credentials="omit":_e.credentials="same-origin",_e}function V(I){if(I.ep)return;I.ep=!0;const _e=E(I);fetch(I.href,_e)}})();const xi=(e,a)=>e===a,Nr=Symbol("solid-proxy"),ki=Symbol("solid-track"),Ai=Symbol("solid-dev-component"),Lr={equals:xi};let Zn=ni;const ir=1,Dr=2,Qn={owned:null,cleanups:null,context:null,owner:null},en={};var Nt=null;let tn=null,Ft=null,Kt=null,tr=null,Hr=0;function Mr(e,a){const E=Ft,V=Nt,I=e.length===0,_e=I?Qn:{owned:null,cleanups:null,context:null,owner:a===void 0?V:a},ne=I?e:()=>e(()=>Wt(()=>Wr(_e)));Nt=_e,Ft=null;try{return nr(ne,!0)}finally{Ft=E,Nt=V}}function Zt(e,a){a=a?Object.assign({},Lr,a):Lr;const E={value:e,observers:null,observerSlots:null,comparator:a.equals||void 0},V=I=>(typeof I=="function"&&(I=I(E.value)),ri(E,I));return[ti.bind(E),V]}function En(e,a,E){const V=Gr(e,a,!0,ir);br(V)}function Jt(e,a,E){const V=Gr(e,a,!1,ir);br(V)}function On(e,a,E){Zn=Fi;const V=Gr(e,a,!1,ir);(!E||!E.render)&&(V.user=!0),tr?tr.push(V):br(V)}function Lt(e,a,E){E=E?Object.assign({},Lr,E):Lr;const V=Gr(e,a,!0,0);return V.observers=null,V.observerSlots=null,V.comparator=E.equals||void 0,br(V),ti.bind(V)}function Ei(e,a,E){let V,I,_e;arguments.length===2&&typeof a=="object"||arguments.length===1?(V=!0,I=e,_e=a||{}):(V=e,I=a,_e=E||{});let ne=null,ae=en,ue=!1,B="initialValue"in _e,Ae=typeof V=="function"&&Lt(V);const ze=new Set,[xe,Ue]=(_e.storage||Zt)(_e.initialValue),[Ke,qe]=Zt(void 0),[re,Fe]=Zt(void 0,{equals:!1}),[Ve,Me]=Zt(B?"ready":"unresolved");function Ie(Re,ie,pe,Q){return ne===Re&&(ne=null,Q!==void 0&&(B=!0),(Re===ae||ie===ae)&&_e.onHydrated&&queueMicrotask(()=>_e.onHydrated(Q,{value:ie})),ae=en,ce(ie,pe)),ie}function ce(Re,ie){nr(()=>{ie===void 0&&Ue(()=>Re),Me(ie!==void 0?"errored":B?"ready":"unresolved"),qe(ie);for(const pe of ze.keys())pe.decrement();ze.clear()},!1)}function ye(){const Re=Ii,ie=xe(),pe=Ke();if(pe!==void 0&&!ne)throw pe;return Ft&&!Ft.user&&Re&&En(()=>{re(),ne&&(Re.resolved||ze.has(Re)||(Re.increment(),ze.add(Re)))}),ie}function le(Re=!0){if(Re!==!1&&ue)return;ue=!1;const ie=Ae?Ae():V;if(ie==null||ie===!1){Ie(ne,Wt(xe));return}const pe=ae!==en?ae:Wt(()=>I(ie,{value:xe(),refetching:Re}));return typeof pe!="object"||!(pe&&"then"in pe)?(Ie(ne,pe,void 0,ie),pe):(ne=pe,ue=!0,queueMicrotask(()=>ue=!1),nr(()=>{Me(B?"refreshing":"pending"),Fe()},!1),pe.then(Q=>Ie(pe,Q,void 0,ie),Q=>Ie(pe,void 0,Ni(Q),ie)))}return Object.defineProperties(ye,{state:{get:()=>Ve()},error:{get:()=>Ke()},loading:{get(){const Re=Ve();return Re==="pending"||Re==="refreshing"}},latest:{get(){if(!B)return ye();const Re=Ke();if(Re&&!ne)throw Re;return xe()}}}),Ae?En(()=>le(!1)):le(!1),[ye,{refetch:le,mutate:Ue}]}function Wt(e){if(Ft===null)return e();const a=Ft;Ft=null;try{return e()}finally{Ft=a}}function ei(e,a,E){const V=Array.isArray(e);let I,_e=E&&E.defer;return ne=>{let ae;if(V){ae=Array(e.length);for(let B=0;B<e.length;B++)ae[B]=e[B]()}else ae=e();if(_e){_e=!1;return}const ue=Wt(()=>a(ae,I,ne));return I=ae,ue}}function Si(e){On(()=>Wt(e))}function Kr(e){return Nt===null||(Nt.cleanups===null?Nt.cleanups=[e]:Nt.cleanups.push(e)),e}function Ci(){return Nt}function qi(e,a){const E=Nt,V=Ft;Nt=e,Ft=null;try{return nr(a,!0)}catch(I){vn(I)}finally{Nt=E,Ft=V}}function Ri(e){const a=Ft,E=Nt;return Promise.resolve().then(()=>{Ft=a,Nt=E;let V;return nr(e,!1),Ft=Nt=null,V?V.done:void 0})}function Yr(e,a){const E=Symbol("context");return{id:E,Provider:Li(E),defaultValue:e}}function Ar(e){let a;return(a=si(Nt,e.id))!==void 0?a:e.defaultValue}function gn(e){const a=Lt(e),E=Lt(()=>cn(a()));return E.toArray=()=>{const V=E();return Array.isArray(V)?V:V!=null?[V]:[]},E}let Ii;function ti(){if(this.sources&&this.state)if(this.state===ir)br(this);else{const e=Kt;Kt=null,nr(()=>Pr(this),!1),Kt=e}if(Ft){const e=this.observers?this.observers.length:0;Ft.sources?(Ft.sources.push(this),Ft.sourceSlots.push(e)):(Ft.sources=[this],Ft.sourceSlots=[e]),this.observers?(this.observers.push(Ft),this.observerSlots.push(Ft.sources.length-1)):(this.observers=[Ft],this.observerSlots=[Ft.sources.length-1])}return this.value}function ri(e,a,E){let V=e.value;return(!e.comparator||!e.comparator(V,a))&&(e.value=a,e.observers&&e.observers.length&&nr(()=>{for(let I=0;I<e.observers.length;I+=1){const _e=e.observers[I],ne=tn&&tn.running;ne&&tn.disposed.has(_e),(ne?!_e.tState:!_e.state)&&(_e.pure?Kt.push(_e):tr.push(_e),_e.observers&&ii(_e)),ne||(_e.state=ir)}if(Kt.length>1e6)throw Kt=[],new Error},!1)),a}function br(e){if(!e.fn)return;Wr(e);const a=Nt,E=Ft,V=Hr;Ft=Nt=e,Ti(e,e.value,V),Ft=E,Nt=a}function Ti(e,a,E){let V;try{V=e.fn(a)}catch(I){return e.pure&&(e.state=ir,e.owned&&e.owned.forEach(Wr),e.owned=null),e.updatedAt=E+1,vn(I)}(!e.updatedAt||e.updatedAt<=E)&&(e.updatedAt!=null&&"observers"in e?ri(e,V):e.value=V,e.updatedAt=E)}function Gr(e,a,E,V=ir,I){const _e={fn:e,state:V,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:a,owner:Nt,context:null,pure:E};return Nt===null||Nt!==Qn&&(Nt.owned?Nt.owned.push(_e):Nt.owned=[_e]),_e}function Br(e){if(e.state===0)return;if(e.state===Dr)return Pr(e);if(e.suspense&&Wt(e.suspense.inFallback))return e.suspense.effects.push(e);const a=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Hr);)e.state&&a.push(e);for(let E=a.length-1;E>=0;E--)if(e=a[E],e.state===ir)br(e);else if(e.state===Dr){const V=Kt;Kt=null,nr(()=>Pr(e,a[0]),!1),Kt=V}}function nr(e,a){if(Kt)return e();let E=!1;a||(Kt=[]),tr?E=!0:tr=[],Hr++;try{const V=e();return zi(E),V}catch(V){E||(tr=null),Kt=null,vn(V)}}function zi(e){if(Kt&&(ni(Kt),Kt=null),e)return;const a=tr;tr=null,a.length&&nr(()=>Zn(a),!1)}function ni(e){for(let a=0;a<e.length;a++)Br(e[a])}function Fi(e){let a,E=0;for(a=0;a<e.length;a++){const V=e[a];V.user?e[E++]=V:Br(V)}for(a=0;a<E;a++)Br(e[a])}function Pr(e,a){e.state=0;for(let E=0;E<e.sources.length;E+=1){const V=e.sources[E];if(V.sources){const I=V.state;I===ir?V!==a&&(!V.updatedAt||V.updatedAt<Hr)&&Br(V):I===Dr&&Pr(V,a)}}}function ii(e){for(let a=0;a<e.observers.length;a+=1){const E=e.observers[a];E.state||(E.state=Dr,E.pure?Kt.push(E):tr.push(E),E.observers&&ii(E))}}function Wr(e){let a;if(e.sources)for(;e.sources.length;){const E=e.sources.pop(),V=e.sourceSlots.pop(),I=E.observers;if(I&&I.length){const _e=I.pop(),ne=E.observerSlots.pop();V<I.length&&(_e.sourceSlots[ne]=V,I[V]=_e,E.observerSlots[V]=ne)}}if(e.owned){for(a=e.owned.length-1;a>=0;a--)Wr(e.owned[a]);e.owned=null}if(e.cleanups){for(a=e.cleanups.length-1;a>=0;a--)e.cleanups[a]();e.cleanups=null}e.state=0,e.context=null}function Ni(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function vn(e){throw e}function si(e,a){return e?e.context&&e.context[a]!==void 0?e.context[a]:si(e.owner,a):void 0}function cn(e){if(typeof e=="function"&&!e.length)return cn(e());if(Array.isArray(e)){const a=[];for(let E=0;E<e.length;E++){const V=cn(e[E]);Array.isArray(V)?a.push.apply(a,V):a.push(V)}return a}return e}function Li(e,a){return function(V){let I;return Jt(()=>I=Wt(()=>(Nt.context={[e]:V.value},gn(()=>V.children))),void 0),I}}const Sn=Symbol("fallback");function Cn(e){for(let a=0;a<e.length;a++)e[a]()}function Di(e,a,E={}){let V=[],I=[],_e=[],ne=[],ae=0,ue;return Kr(()=>Cn(_e)),()=>{const B=e()||[];return B[ki],Wt(()=>{if(B.length===0)return ae!==0&&(Cn(_e),_e=[],V=[],I=[],ae=0,ne=[]),E.fallback&&(V=[Sn],I[0]=Mr(ze=>(_e[0]=ze,E.fallback())),ae=1),I;for(V[0]===Sn&&(_e[0](),_e=[],V=[],I=[],ae=0),ue=0;ue<B.length;ue++)ue<V.length&&V[ue]!==B[ue]?ne[ue](()=>B[ue]):ue>=V.length&&(I[ue]=Mr(Ae));for(;ue<V.length;ue++)_e[ue]();return ae=ne.length=_e.length=B.length,V=B.slice(0),I=I.slice(0,ae)});function Ae(ze){_e[ue]=ze;const[xe,Ue]=Zt(B[ue]);return ne[ue]=Ue,a(xe,ue)}}}function Tt(e,a){return Wt(()=>e(a||{}))}function Rr(){return!0}const fn={get(e,a,E){return a===Nr?E:e.get(a)},has(e,a){return a===Nr?!0:e.has(a)},set:Rr,deleteProperty:Rr,getOwnPropertyDescriptor(e,a){return{configurable:!0,enumerable:!0,get(){return e.get(a)},set:Rr,deleteProperty:Rr}},ownKeys(e){return e.keys()}};function rn(e){return(e=typeof e=="function"?e():e)?e:{}}function Mi(){for(let e=0,a=this.length;e<a;++e){const E=this[e]();if(E!==void 0)return E}}function Er(...e){let a=!1;for(let _e=0;_e<e.length;_e++){const ne=e[_e];a=a||!!ne&&Nr in ne,e[_e]=typeof ne=="function"?(a=!0,Lt(ne)):ne}if(a)return new Proxy({get(_e){for(let ne=e.length-1;ne>=0;ne--){const ae=rn(e[ne])[_e];if(ae!==void 0)return ae}},has(_e){for(let ne=e.length-1;ne>=0;ne--)if(_e in rn(e[ne]))return!0;return!1},keys(){const _e=[];for(let ne=0;ne<e.length;ne++)_e.push(...Object.keys(rn(e[ne])));return[...new Set(_e)]}},fn);const E={},V={};let I=!1;for(let _e=e.length-1;_e>=0;_e--){const ne=e[_e];if(!ne)continue;const ae=Object.getOwnPropertyNames(ne);I=I||_e!==0&&!!ae.length;for(let ue=0,B=ae.length;ue<B;ue++){const Ae=ae[ue];if(!(Ae==="__proto__"||Ae==="constructor"))if(Ae in E){const ze=V[Ae],xe=Object.getOwnPropertyDescriptor(ne,Ae);ze?xe.get?ze.push(xe.get.bind(ne)):xe.value!==void 0&&ze.push(()=>xe.value):E[Ae]===void 0&&(E[Ae]=xe.value)}else{const ze=Object.getOwnPropertyDescriptor(ne,Ae);ze.get?Object.defineProperty(E,Ae,{enumerable:!0,configurable:!0,get:Mi.bind(V[Ae]=[ze.get.bind(ne)])}):E[Ae]=ze.value}}}return E}function bn(e,...a){if(Nr in e){const I=new Set(a.length>1?a.flat():a[0]),_e=a.map(ne=>new Proxy({get(ae){return ne.includes(ae)?e[ae]:void 0},has(ae){return ne.includes(ae)&&ae in e},keys(){return ne.filter(ae=>ae in e)}},fn));return _e.push(new Proxy({get(ne){return I.has(ne)?void 0:e[ne]},has(ne){return I.has(ne)?!1:ne in e},keys(){return Object.keys(e).filter(ne=>!I.has(ne))}},fn)),_e}const E={},V=a.map(()=>({}));for(const I of Object.getOwnPropertyNames(e)){const _e=Object.getOwnPropertyDescriptor(e,I),ne=!_e.get&&!_e.set&&_e.enumerable&&_e.writable&&_e.configurable;let ae=!1,ue=0;for(const B of a)B.includes(I)&&(ae=!0,ne?V[ue][I]=_e.value:Object.defineProperty(V[ue],I,_e)),++ue;ae||(ne?E[I]=_e.value:Object.defineProperty(E,I,_e))}return[...V,E]}const Bi=e=>`Stale read from <${e}>.`;function Pi(e){const a="fallback"in e&&{fallback:()=>e.fallback};return Lt(Di(()=>e.each,e.children,a||void 0))}function kr(e){const a=e.keyed,E=Lt(()=>e.when,void 0,{equals:(V,I)=>a?V===I:!V==!I});return Lt(()=>{const V=E();if(V){const I=e.children;return typeof I=="function"&&I.length>0?Wt(()=>I(a?V:()=>{if(!Wt(E))throw Bi("Show");return e.when})):I}return e.fallback},void 0,void 0)}const ji=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Ui=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...ji]),Hi=new Set(["innerHTML","textContent","innerText","children"]),Ki=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Yi=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Gi(e,a){const E=Yi[e];return typeof E=="object"?E[a]?E.$:void 0:E}const Wi=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Vi=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Xi={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function Ji(e,a,E){let V=E.length,I=a.length,_e=V,ne=0,ae=0,ue=a[I-1].nextSibling,B=null;for(;ne<I||ae<_e;){if(a[ne]===E[ae]){ne++,ae++;continue}for(;a[I-1]===E[_e-1];)I--,_e--;if(I===ne){const Ae=_e<V?ae?E[ae-1].nextSibling:E[_e-ae]:ue;for(;ae<_e;)e.insertBefore(E[ae++],Ae)}else if(_e===ae)for(;ne<I;)(!B||!B.has(a[ne]))&&a[ne].remove(),ne++;else if(a[ne]===E[_e-1]&&E[ae]===a[I-1]){const Ae=a[--I].nextSibling;e.insertBefore(E[ae++],a[ne++].nextSibling),e.insertBefore(E[--_e],Ae),a[I]=E[_e]}else{if(!B){B=new Map;let ze=ae;for(;ze<_e;)B.set(E[ze],ze++)}const Ae=B.get(a[ne]);if(Ae!=null)if(ae<Ae&&Ae<_e){let ze=ne,xe=1,Ue;for(;++ze<I&&ze<_e&&!((Ue=B.get(a[ze]))==null||Ue!==Ae+xe);)xe++;if(xe>Ae-ae){const Ke=a[ne];for(;ae<Ae;)e.insertBefore(E[ae++],Ke)}else e.replaceChild(E[ae++],a[ne++])}else ne++;else a[ne++].remove()}}}const qn="_$DX_DELEGATE";function Zi(e,a,E,V={}){let I;return Mr(_e=>{I=_e,a===document?e():Ht(a,e(),a.firstChild?null:void 0,E)},V.owner),()=>{I(),a.textContent=""}}function Qt(e,a,E){let V;const I=()=>{const ne=document.createElement("template");return ne.innerHTML=e,E?ne.content.firstChild.firstChild:ne.content.firstChild},_e=a?()=>Wt(()=>document.importNode(V||(V=I()),!0)):()=>(V||(V=I())).cloneNode(!0);return _e.cloneNode=_e,_e}function yn(e,a=window.document){const E=a[qn]||(a[qn]=new Set);for(let V=0,I=e.length;V<I;V++){const _e=e[V];E.has(_e)||(E.add(_e),a.addEventListener(_e,is))}}function jr(e,a,E){E==null?e.removeAttribute(a):e.setAttribute(a,E)}function Qi(e,a,E,V){V==null?e.removeAttributeNS(a,E):e.setAttributeNS(a,E,V)}function rr(e,a){a==null?e.removeAttribute("class"):e.className=a}function Oi(e,a,E,V){if(V)Array.isArray(E)?(e[`$$${a}`]=E[0],e[`$$${a}Data`]=E[1]):e[`$$${a}`]=E;else if(Array.isArray(E)){const I=E[0];e.addEventListener(a,E[0]=_e=>I.call(e,E[1],_e))}else e.addEventListener(a,E)}function es(e,a,E={}){const V=Object.keys(a||{}),I=Object.keys(E);let _e,ne;for(_e=0,ne=I.length;_e<ne;_e++){const ae=I[_e];!ae||ae==="undefined"||a[ae]||(Rn(e,ae,!1),delete E[ae])}for(_e=0,ne=V.length;_e<ne;_e++){const ae=V[_e],ue=!!a[ae];!ae||ae==="undefined"||E[ae]===ue||!ue||(Rn(e,ae,!0),E[ae]=ue)}return E}function ts(e,a,E){if(!a)return E?jr(e,"style"):a;const V=e.style;if(typeof a=="string")return V.cssText=a;typeof E=="string"&&(V.cssText=E=void 0),E||(E={}),a||(a={});let I,_e;for(_e in E)a[_e]==null&&V.removeProperty(_e),delete E[_e];for(_e in a)I=a[_e],I!==E[_e]&&(V.setProperty(_e,I),E[_e]=I);return E}function $i(e,a={},E,V){const I={};return V||Jt(()=>I.children=pr(e,a.children,I.children)),Jt(()=>a.ref&&a.ref(e)),Jt(()=>rs(e,a,E,!0,I,!0)),I}function Ht(e,a,E,V){if(E!==void 0&&!V&&(V=[]),typeof a!="function")return pr(e,a,V,E);Jt(I=>pr(e,a(),I,E),V)}function rs(e,a,E,V,I={},_e=!1){a||(a={});for(const ne in I)if(!(ne in a)){if(ne==="children")continue;I[ne]=In(e,ne,null,I[ne],E,_e)}for(const ne in a){if(ne==="children"){V||pr(e,a.children);continue}const ae=a[ne];I[ne]=In(e,ne,ae,I[ne],E,_e)}}function ns(e){return e.toLowerCase().replace(/-([a-z])/g,(a,E)=>E.toUpperCase())}function Rn(e,a,E){const V=a.trim().split(/\s+/);for(let I=0,_e=V.length;I<_e;I++)e.classList.toggle(V[I],E)}function In(e,a,E,V,I,_e){let ne,ae,ue,B,Ae;if(a==="style")return ts(e,E,V);if(a==="classList")return es(e,E,V);if(E===V)return V;if(a==="ref")_e||E(e);else if(a.slice(0,3)==="on:"){const ze=a.slice(3);V&&e.removeEventListener(ze,V),E&&e.addEventListener(ze,E)}else if(a.slice(0,10)==="oncapture:"){const ze=a.slice(10);V&&e.removeEventListener(ze,V,!0),E&&e.addEventListener(ze,E,!0)}else if(a.slice(0,2)==="on"){const ze=a.slice(2).toLowerCase(),xe=Wi.has(ze);if(!xe&&V){const Ue=Array.isArray(V)?V[0]:V;e.removeEventListener(ze,Ue)}(xe||E)&&(Oi(e,ze,E,xe),xe&&yn([ze]))}else if(a.slice(0,5)==="attr:")jr(e,a.slice(5),E);else if((Ae=a.slice(0,5)==="prop:")||(ue=Hi.has(a))||!I&&((B=Gi(a,e.tagName))||(ae=Ui.has(a)))||(ne=e.nodeName.includes("-")))Ae&&(a=a.slice(5),ae=!0),a==="class"||a==="className"?rr(e,E):ne&&!ae&&!ue?e[ns(a)]=E:e[B||a]=E;else{const ze=I&&a.indexOf(":")>-1&&Xi[a.split(":")[0]];ze?Qi(e,ze,a,E):jr(e,Ki[a]||a,E)}return E}function is(e){const a=`$$${e.type}`;let E=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==E&&Object.defineProperty(e,"target",{configurable:!0,value:E}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return E||document}});E;){const V=E[a];if(V&&!E.disabled){const I=E[`${a}Data`];if(I!==void 0?V.call(E,I,e):V.call(E,e),e.cancelBubble)return}E=E._$host||E.parentNode||E.host}}function pr(e,a,E,V,I){for(;typeof E=="function";)E=E();if(a===E)return E;const _e=typeof a,ne=V!==void 0;if(e=ne&&E[0]&&E[0].parentNode||e,_e==="string"||_e==="number")if(_e==="number"&&(a=a.toString()),ne){let ae=E[0];ae&&ae.nodeType===3?ae.data=a:ae=document.createTextNode(a),E=_r(e,E,V,ae)}else E!==""&&typeof E=="string"?E=e.firstChild.data=a:E=e.textContent=a;else if(a==null||_e==="boolean")E=_r(e,E,V);else{if(_e==="function")return Jt(()=>{let ae=a();for(;typeof ae=="function";)ae=ae();E=pr(e,ae,E,V)}),()=>E;if(Array.isArray(a)){const ae=[],ue=E&&Array.isArray(E);if(_n(ae,a,E,I))return Jt(()=>E=pr(e,ae,E,V,!0)),()=>E;if(ae.length===0){if(E=_r(e,E,V),ne)return E}else ue?E.length===0?Tn(e,ae,V):Ji(e,E,ae):(E&&_r(e),Tn(e,ae));E=ae}else if(a.nodeType){if(Array.isArray(E)){if(ne)return E=_r(e,E,V,a);_r(e,E,null,a)}else E==null||E===""||!e.firstChild?e.appendChild(a):e.replaceChild(a,e.firstChild);E=a}else console.warn("Unrecognized value. Skipped inserting",a)}return E}function _n(e,a,E,V){let I=!1;for(let _e=0,ne=a.length;_e<ne;_e++){let ae=a[_e],ue=E&&E[_e],B;if(!(ae==null||ae===!0||ae===!1))if((B=typeof ae)=="object"&&ae.nodeType)e.push(ae);else if(Array.isArray(ae))I=_n(e,ae,ue)||I;else if(B==="function")if(V){for(;typeof ae=="function";)ae=ae();I=_n(e,Array.isArray(ae)?ae:[ae],Array.isArray(ue)?ue:[ue])||I}else e.push(ae),I=!0;else{const Ae=String(ae);ue&&ue.nodeType===3&&ue.data===Ae?e.push(ue):e.push(document.createTextNode(Ae))}}return I}function Tn(e,a,E=null){for(let V=0,I=a.length;V<I;V++)e.insertBefore(a[V],E)}function _r(e,a,E,V){if(E===void 0)return e.textContent="";const I=V||document.createTextNode("");if(a.length){let _e=!1;for(let ne=a.length-1;ne>=0;ne--){const ae=a[ne];if(I!==ae){const ue=ae.parentNode===e;!_e&&!ne?ue?e.replaceChild(I,ae):e.insertBefore(I,E):ue&&ae.remove()}else _e=!0}}else e.insertBefore(I,E);return[I]}const ss=!1,$s="http://www.w3.org/2000/svg";function os(e,a=!1){return a?document.createElementNS($s,e):document.createElement(e)}function as(e){const[a,E]=bn(e,["component"]),V=Lt(()=>a.component);return Lt(()=>{const I=V();switch(typeof I){case"function":return Object.assign(I,{[Ai]:!0}),Wt(()=>I(E));case"string":const _e=Vi.has(I),ne=os(I,_e);return $i(ne,E,_e),ne}})}const ls="_App_5iwmh_20",us="_description_5iwmh_24",nn={App:ls,description:us},cs="_navbar_yhx4p_20",fs={navbar:cs};function _s(e,a,E){return e.addEventListener(a,E),()=>e.removeEventListener(a,E)}function ds([e,a],E,V){return[E?()=>E(e()):e,V?I=>a(V(I)):a]}function hs(e){try{return document.querySelector(e)}catch{return null}}function ps(e,a){const E=hs(`#${e}`);E?E.scrollIntoView():a&&window.scrollTo(0,0)}function ms(e,a,E,V){let I=!1;const _e=ae=>typeof ae=="string"?{value:ae}:ae,ne=ds(Zt(_e(e()),{equals:(ae,ue)=>ae.value===ue.value}),void 0,ae=>(!I&&a(ae),ae));return E&&Kr(E((ae=e())=>{I=!0,ne[1](_e(ae)),I=!1})),{signal:ne,utils:V}}function gs(e){if(e){if(Array.isArray(e))return{signal:e}}else return{signal:Zt({value:""})};return e}function vs(){return ms(()=>({value:window.location.pathname+window.location.search+window.location.hash,state:history.state}),({value:e,replace:a,scroll:E,state:V})=>{a?window.history.replaceState(V,"",e):window.history.pushState(V,"",e),ps(window.location.hash.slice(1),E)},e=>_s(window,"popstate",()=>e()),{go:e=>window.history.go(e)})}function bs(){let e=new Set;function a(I){return e.add(I),()=>e.delete(I)}let E=!1;function V(I,_e){if(E)return!(E=!1);const ne={to:I,options:_e,defaultPrevented:!1,preventDefault:()=>ne.defaultPrevented=!0};for(const ae of e)ae.listener({...ne,from:ae.location,retry:ue=>{ue&&(E=!0),ae.navigate(I,_e)}});return!ne.defaultPrevented}return{subscribe:a,confirm:V}}const ys=/^(?:[a-z0-9]+:)?\/\//i,ws=/^\/+|(\/)\/+$/g;function lr(e,a=!1){const E=e.replace(ws,"$1");return E?a||/^[?#]/.test(E)?E:"/"+E:""}function Tr(e,a,E){if(ys.test(a))return;const V=lr(e),I=E&&lr(E);let _e="";return!I||a.startsWith("/")?_e=V:I.toLowerCase().indexOf(V.toLowerCase())!==0?_e=V+I:_e=I,(_e||"/")+lr(a,!_e)}function xs(e,a){if(e==null)throw new Error(a);return e}function oi(e,a){return lr(e).replace(/\/*(\*.*)?$/g,"")+lr(a)}function ks(e){const a={};return e.searchParams.forEach((E,V)=>{a[V]=E}),a}function As(e,a,E){const[V,I]=e.split("/*",2),_e=V.split("/").filter(Boolean),ne=_e.length;return ae=>{const ue=ae.split("/").filter(Boolean),B=ue.length-ne;if(B<0||B>0&&I===void 0&&!a)return null;const Ae={path:ne?"":"/",params:{}},ze=xe=>E===void 0?void 0:E[xe];for(let xe=0;xe<ne;xe++){const Ue=_e[xe],Ke=ue[xe],qe=Ue[0]===":",re=qe?Ue.slice(1):Ue;if(qe&&sn(Ke,ze(re)))Ae.params[re]=Ke;else if(qe||!sn(Ke,Ue))return null;Ae.path+=`/${Ke}`}if(I){const xe=B?ue.slice(-B).join("/"):"";if(sn(xe,ze(I)))Ae.params[I]=xe;else return null}return Ae}}function sn(e,a){const E=V=>V.localeCompare(e,void 0,{sensitivity:"base"})===0;return a===void 0?!0:typeof a=="string"?E(a):typeof a=="function"?a(e):Array.isArray(a)?a.some(E):a instanceof RegExp?a.test(e):!1}function Es(e){const[a,E]=e.pattern.split("/*",2),V=a.split("/").filter(Boolean);return V.reduce((I,_e)=>I+(_e.startsWith(":")?2:3),V.length-(E===void 0?0:1))}function ai(e){const a=new Map,E=Ci();return new Proxy({},{get(V,I){return a.has(I)||qi(E,()=>a.set(I,Lt(()=>e()[I]))),a.get(I)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function li(e){let a=/(\/?\:[^\/]+)\?/.exec(e);if(!a)return[e];let E=e.slice(0,a.index),V=e.slice(a.index+a[0].length);const I=[E,E+=a[1]];for(;a=/^(\/\:[^\/]+)\?/.exec(V);)I.push(E+=a[1]),V=V.slice(a[0].length);return li(V).reduce((_e,ne)=>[..._e,...I.map(ae=>ae+ne)],[])}const Ss=100,ui=Yr(),Vr=Yr(),Xr=()=>xs(Ar(ui),"Make sure your app is wrapped in a <Router />");let Sr;const wn=()=>Sr||Ar(Vr)||Xr().base,Cs=e=>{const a=wn();return Lt(()=>a.resolvePath(e()))},qs=e=>{const a=Xr();return Lt(()=>{const E=e();return E!==void 0?a.renderPath(E):E})},Rs=()=>Xr().location;function Is(e,a="",E){const{component:V,data:I,children:_e}=e,ne=!_e||Array.isArray(_e)&&!_e.length,ae={key:e,element:V?()=>Tt(V,{}):()=>{const{element:ue}=e;return ue===void 0&&E?Tt(E,{}):ue},preload:e.component?V.preload:e.preload,data:I};return ci(e.path).reduce((ue,B)=>{for(const Ae of li(B)){const ze=oi(a,Ae),xe=ne?ze:ze.split("/*",1)[0];ue.push({...ae,originalPath:Ae,pattern:xe,matcher:As(xe,!ne,e.matchFilters)})}return ue},[])}function Ts(e,a=0){return{routes:e,score:Es(e[e.length-1])*1e4-a,matcher(E){const V=[];for(let I=e.length-1;I>=0;I--){const _e=e[I],ne=_e.matcher(E);if(!ne)return null;V.unshift({...ne,route:_e})}return V}}}function ci(e){return Array.isArray(e)?e:[e]}function fi(e,a="",E,V=[],I=[]){const _e=ci(e);for(let ne=0,ae=_e.length;ne<ae;ne++){const ue=_e[ne];if(ue&&typeof ue=="object"&&ue.hasOwnProperty("path")){const B=Is(ue,a,E);for(const Ae of B){V.push(Ae);const ze=Array.isArray(ue.children)&&ue.children.length===0;if(ue.children&&!ze)fi(ue.children,Ae.pattern,E,V,I);else{const xe=Ts([...V],I.length);I.push(xe)}V.pop()}}}return V.length?I:I.sort((ne,ae)=>ae.score-ne.score)}function zs(e,a){for(let E=0,V=e.length;E<V;E++){const I=e[E].matcher(a);if(I)return I}return[]}function Fs(e,a){const E=new URL("http://sar"),V=Lt(ue=>{const B=e();try{return new URL(B,E)}catch{return console.error(`Invalid path ${B}`),ue}},E,{equals:(ue,B)=>ue.href===B.href}),I=Lt(()=>V().pathname),_e=Lt(()=>V().search,!0),ne=Lt(()=>V().hash),ae=Lt(()=>"");return{get pathname(){return I()},get search(){return _e()},get hash(){return ne()},get state(){return a()},get key(){return ae()},query:ai(ei(_e,()=>ks(V())))}}function Ns(e,a="",E,V){const{signal:[I,_e],utils:ne={}}=gs(e),ae=ne.parsePath||(pe=>pe),ue=ne.renderPath||(pe=>pe),B=ne.beforeLeave||bs(),Ae=Tr("",a),ze=void 0;if(Ae===void 0)throw new Error(`${Ae} is not a valid base path`);Ae&&!I().value&&_e({value:Ae,replace:!0,scroll:!1});const[xe,Ue]=Zt(!1),Ke=async pe=>{Ue(!0);try{await Ri(pe)}finally{Ue(!1)}},[qe,re]=Zt(I().value),[Fe,Ve]=Zt(I().state),Me=Fs(qe,Fe),Ie=[],ce={pattern:Ae,params:{},path:()=>Ae,outlet:()=>null,resolvePath(pe){return Tr(Ae,pe)}};if(E)try{Sr=ce,ce.data=E({data:void 0,params:{},location:Me,navigate:le(ce)})}finally{Sr=void 0}function ye(pe,Q,p){Wt(()=>{if(typeof Q=="number"){Q&&(ne.go?B.confirm(Q,p)&&ne.go(Q):console.warn("Router integration does not support relative routing"));return}const{replace:de,resolve:F,scroll:O,state:D}={replace:!1,resolve:!0,scroll:!0,...p},Ne=F?pe.resolvePath(Q):Tr("",Q);if(Ne===void 0)throw new Error(`Path '${Q}' is not a routable path`);if(Ie.length>=Ss)throw new Error("Too many redirects");const oe=qe();if((Ne!==oe||D!==Fe())&&!ss){if(B.confirm(Ne,p)){const P=Ie.push({value:oe,replace:de,scroll:O,state:Fe()});Ke(()=>{re(Ne),Ve(D)}).then(()=>{Ie.length===P&&Re({value:Ne,state:D})})}}})}function le(pe){return pe=pe||Ar(Vr)||ce,(Q,p)=>ye(pe,Q,p)}function Re(pe){const Q=Ie[0];Q&&((pe.value!==Q.value||pe.state!==Q.state)&&_e({...pe,replace:Q.replace,scroll:Q.scroll}),Ie.length=0)}Jt(()=>{const{value:pe,state:Q}=I();Wt(()=>{pe!==qe()&&Ke(()=>{re(pe),Ve(Q)})})});{let pe=function(Q){if(Q.defaultPrevented||Q.button!==0||Q.metaKey||Q.altKey||Q.ctrlKey||Q.shiftKey)return;const p=Q.composedPath().find(oe=>oe instanceof Node&&oe.nodeName.toUpperCase()==="A");if(!p||!p.hasAttribute("link"))return;const de=p.href;if(p.target||!de&&!p.hasAttribute("state"))return;const F=(p.getAttribute("rel")||"").split(/\s+/);if(p.hasAttribute("download")||F&&F.includes("external"))return;const O=new URL(de);if(O.origin!==window.location.origin||Ae&&O.pathname&&!O.pathname.toLowerCase().startsWith(Ae.toLowerCase()))return;const D=ae(O.pathname+O.search+O.hash),Ne=p.getAttribute("state");Q.preventDefault(),ye(ce,D,{resolve:!1,replace:p.hasAttribute("replace"),scroll:!p.hasAttribute("noscroll"),state:Ne&&JSON.parse(Ne)})};var ie=pe;yn(["click"]),document.addEventListener("click",pe),Kr(()=>document.removeEventListener("click",pe))}return{base:ce,out:ze,location:Me,isRouting:xe,renderPath:ue,parsePath:ae,navigatorFactory:le,beforeLeave:B}}function Ls(e,a,E,V,I){const{base:_e,location:ne,navigatorFactory:ae}=e,{pattern:ue,element:B,preload:Ae,data:ze}=V().route,xe=Lt(()=>V().path);Ae&&Ae();const Ue={parent:a,pattern:ue,get child(){return E()},path:xe,params:I,data:a.data,outlet:B,resolvePath(Ke){return Tr(_e.path(),Ke,xe())}};if(ze)try{Sr=Ue,Ue.data=ze({data:a.data,params:I,location:ne,navigate:ae(Ue)})}finally{Sr=void 0}return Ue}const Ds=Qt("<a link>"),Ms=e=>{const{source:a,url:E,base:V,data:I,out:_e}=e,ne=a||vs(),ae=Ns(ne,V,I);return Tt(ui.Provider,{value:ae,get children(){return e.children}})},Bs=e=>{const a=Xr(),E=wn(),V=gn(()=>e.children),I=Lt(()=>fi(V(),oi(E.pattern,e.base||""),Ps)),_e=Lt(()=>zs(I(),a.location.pathname)),ne=ai(()=>{const Ae=_e(),ze={};for(let xe=0;xe<Ae.length;xe++)Object.assign(ze,Ae[xe].params);return ze});a.out&&a.out.matches.push(_e().map(({route:Ae,path:ze,params:xe})=>({originalPath:Ae.originalPath,pattern:Ae.pattern,path:ze,params:xe})));const ae=[];let ue;const B=Lt(ei(_e,(Ae,ze,xe)=>{let Ue=ze&&Ae.length===ze.length;const Ke=[];for(let qe=0,re=Ae.length;qe<re;qe++){const Fe=ze&&ze[qe],Ve=Ae[qe];xe&&Fe&&Ve.route.key===Fe.route.key?Ke[qe]=xe[qe]:(Ue=!1,ae[qe]&&ae[qe](),Mr(Me=>{ae[qe]=Me,Ke[qe]=Ls(a,Ke[qe-1]||E,()=>B()[qe+1],()=>_e()[qe],ne)}))}return ae.splice(Ae.length).forEach(qe=>qe()),xe&&Ue?xe:(ue=Ke[0],Ke)}));return Tt(kr,{get when(){return B()&&ue},keyed:!0,children:Ae=>Tt(Vr.Provider,{value:Ae,get children(){return Ae.outlet()}})})},Ir=e=>{const a=gn(()=>e.children);return Er(e,{get children(){return a()}})},Ps=()=>{const e=wn();return Tt(kr,{get when(){return e.child},keyed:!0,children:a=>Tt(Vr.Provider,{value:a,get children(){return a.outlet()}})})};function zr(e){e=Er({inactiveClass:"inactive",activeClass:"active"},e);const[,a]=bn(e,["href","state","class","activeClass","inactiveClass","end"]),E=Cs(()=>e.href),V=qs(E),I=Rs(),_e=Lt(()=>{const ne=E();if(ne===void 0)return!1;const ae=lr(ne.split(/[?#]/,1)[0]).toLowerCase(),ue=lr(I.pathname).toLowerCase();return e.end?ae===ue:ue.startsWith(ae)});return(()=>{const ne=Ds();return $i(ne,Er(a,{get href(){return V()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!_e(),[e.activeClass]:_e(),...a.classList}},get["aria-current"](){return _e()?"page":void 0}}),!1,!1),ne})()}const js=Qt("<div><ul><li></li><li></li><li>");function Jr(){return(()=>{const e=js(),a=e.firstChild,E=a.firstChild,V=E.nextSibling,I=V.nextSibling;return Ht(E,Tt(zr,{href:"/",children:"Home"})),Ht(V,Tt(zr,{href:"/learn",children:"Learn"})),Ht(I,Tt(zr,{href:"/download",children:"Download"})),Jt(()=>rr(e,fs.navbar)),e})()}const Us=Qt('<div><div><h1 class="page_title mb0">Graphene</h1><p>A statically typed, compiled, data oriented language.');function Hs(){return(()=>{const e=Us(),a=e.firstChild,E=a.firstChild,V=E.nextSibling;return Ht(e,Tt(Jr,{}),a),Jt(I=>{const _e=nn.App,ne=nn.header,ae=nn.description;return _e!==I._v$&&rr(e,I._v$=_e),ne!==I._v$2&&rr(a,I._v$2=ne),ae!==I._v$3&&rr(V,I._v$3=ae),I},{_v$:void 0,_v$2:void 0,_v$3:void 0}),e})()}const Ks="_section_4y03j_20",Ys="_section_title_4y03j_25",zn={section:Ks,section_title:Ys},Gs=Qt("<section><h2>"),Ws=Qt("<p>The <em>Graphene programming language</em> book will guide you through the language."),Vs=Qt('<div><h1 class="page_title">Learn Graphene');function Xs(e){return(()=>{const a=Gs(),E=a.firstChild;return Ht(E,()=>e.title),Ht(a,()=>e.children,null),Jt(V=>{const I=zn.section,_e=zn.section_title;return I!==V._v$&&rr(a,V._v$=I),_e!==V._v$2&&rr(E,V._v$2=_e),V},{_v$:void 0,_v$2:void 0}),a})()}function Js(){return(()=>{const e=Vs(),a=e.firstChild;return Ht(e,Tt(Jr,{}),a),Ht(e,Tt(Xs,{title:"Get started",get children(){return[Ws(),Tt(zr,{href:"/learn/book",children:"Read the book"})]}}),null),e})()}function Zs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qs(e){if(e.__esModule)return e;var a=e.default;if(typeof a=="function"){var E=function V(){if(this instanceof V){var I=[null];I.push.apply(I,arguments);var _e=Function.bind.apply(a,I);return new _e}return a.apply(this,arguments)};E.prototype=a.prototype}else E={};return Object.defineProperty(E,"__esModule",{value:!0}),Object.keys(e).forEach(function(V){var I=Object.getOwnPropertyDescriptor(e,V);Object.defineProperty(E,V,I.get?I:{enumerable:!0,get:function(){return e[V]}})}),E}/**
 * @license Asciidoctor.js 3.0.2 | MIT | https://github.com/asciidoctor/asciidoctor.js
 */(function(e){var a;if(typeof globalThis<"u"?e=globalThis:typeof global<"u"?e=global:typeof window<"u"&&(e=window),e.console==null&&(e.console={}),typeof e.console=="object"?a=e.console:a={},"log"in a||(a.log=function(){}),"warn"in a||(a.warn=a.log),typeof e.Opal<"u")return a.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),e.Opal;var E,V,I,_e,ne,ae,ue,B=e.Opal={};B.global=e,B.config={missing_require_severity:"error",unsupported_features_severity:"warning",experimental_features_severity:"warning",enable_stack_trace:!0};var Ae=Function.prototype.call,ze=Function.prototype.bind,xe=Object.hasOwn||Ae.bind(Object.prototype.hasOwnProperty),Ue=Object.setPrototypeOf,Ke=Ae.bind(Array.prototype.slice),qe=Ae.bind(Array.prototype.splice),re=4,Fe=re;function Ve(){return Fe+=2,Fe}B.uid=Ve,B.id=function(_){return _.$$is_number?_*2+1:(_.$$id==null&&ce(_,"$$id",Ve()),_.$$id)};var Me=B.gvars={};B.exit=function(_){Me.DEBUG&&a.log("Exited with status "+_)},B.exceptions=[],B.pop_exception=function(){var _=B.exceptions.pop();_?(Me["!"]=_,Me["@"]=_.$backtrace()):Me["!"]=Me["@"]=E};function Ie(_,x){if(_||(_=B.Exception||Error),ue&&ue.$raise)arguments.length>2?ue.$raise(_.$new.apply(_,Ke(arguments,1))):ue.$raise(_,x);else throw _.$new?_.$new(x):new _(x)}function ce(_,x,te){typeof _=="string"?_[x]=te:Object.defineProperty(_,x,{value:te,enumerable:!1,configurable:!0,writable:!0})}B.prop=ce,B.defineProperty=B.prop,B.slice=Ke;var ye=B.truthy=function(_){return _!==!1&&E!==_&&_!==void 0&&_!==null&&(!(_ instanceof Boolean)||_.valueOf()===!0)};B.falsy=function(_){return!ye(_)},B.type_error=function(_,x,te,we){_=_.$$class,we&&te?(we=we.$$class,Ie(B.TypeError,"can't convert "+_+" into "+x+" ("+_+"#"+te+" gives "+we+")")):Ie(B.TypeError,"no implicit conversion of "+_+" into "+x)},B.coerce_to=function(_,x,te,we){var Ye;return te==="to_int"&&x===B.Integer&&_.$$is_number?_<0?Math.ceil(_):Math.floor(_):te==="to_str"&&x===B.String&&_.$$is_string||B.is_a(_,x)?_:_["$respond_to?"].$$pristine&&_.$method_missing.$$pristine?(Ye=_[_t(te)],(Ye==null||Ye.$$stub)&&B.type_error(_,x),Ye.apply(_,we)):(_["$respond_to?"](te)||B.type_error(_,x),we==null&&(we=[]),B.send(_,te,we))},B.respond_to=function(_,x,te){if(_==null||!_.$$class)return!1;te=!!te;var we=_[x];if(_["$respond_to?"].$$pristine){if(typeof we=="function"&&!we.$$stub)return!0;if(!_["$respond_to_missing?"].$$pristine)return B.send(_,_["$respond_to_missing?"],[x.substr(1),te])}else return B.send(_,_["$respond_to?"],[x.substr(1),te])},B.trace_class=!1,B.tracers_for_class=[];function le(_){var x,te,we;for(x=0,te=B.tracers_for_class.length;x<te;x++)we=B.tracers_for_class[x],we.trace_object=_,we.block.$call(we)}function Re(_,x){if(_.$$autoload[x].loaded){if(_.$$autoload[x].loaded&&!_.$$autoload[x].required&&_.$$autoload[x].exception)throw _.$$autoload[x].exception}else{_.$$autoload[x].loaded=!0;try{B.Kernel.$require(_.$$autoload[x].path)}catch(te){throw _.$$autoload[x].exception=te,te}if(_.$$autoload[x].required=!0,_.$$const[x]!=null)return _.$$autoload[x].success=!0,_.$$const[x]}}function ie(_,x){if(_){if(_.$$const[x]!=null)return _.$$const[x];if(_.$$autoload&&_.$$autoload[x])return Re(_,x)}}function pe(_,x){var te,we,Ye;if(_.length!==0)for(te=0,we=_.length;te<we;te++){if(Ye=_[te].$$const[x],Ye!=null)return Ye;if(_[te].$$autoload&&_[te].$$autoload[x])return Re(_[te],x)}}function Q(_,x){var te,we,Ye;if(_!=null)for(Ye=tt(_),te=0,we=Ye.length;te<we;te++){if(Ye[te].$$const&&xe(Ye[te].$$const,x))return Ye[te].$$const[x];if(Ye[te].$$autoload&&Ye[te].$$autoload[x])return Re(Ye[te],x)}}function p(_,x){if(_==null||_.$$is_module)return Q(I,x)}function de(_,x){return(_||I).$const_missing(x)}B.const_get_local=function(_,x,te){var we;if(_!=null)return _==="::"&&(_=I),!_.$$is_module&&!_.$$is_class&&Ie(B.TypeError,_.toString()+" is not a class/module"),we=ie(_,x),we!=null||te?we:de(_,x)},B.const_get_qualified=function(_,x,te){var we,Ye,nt,t=B.const_cache_version;if(x==null)return we=ie(I,_),we??B.const_get_qualified(I,_,te);if(_!=null)return _==="::"&&(_=I),!_.$$is_module&&!_.$$is_class&&Ie(B.TypeError,_.toString()+" is not a class/module"),(Ye=_.$$const_cache)==null&&(ce(_,"$$const_cache",Object.create(null)),Ye=_.$$const_cache),nt=Ye[x],nt==null||nt[0]!==t?((we=ie(_,x))!=null||(we=Q(_,x))!=null,Ye[x]=[t,we]):we=nt[1],we!=null||te?we:de(_,x)},B.const_cache_version=1,B.const_get_relative=function(_,x,te){var we=_[0],Ye,nt=B.const_cache_version,t,Y;return(t=_.$$const_cache)==null&&(ce(_,"$$const_cache",Object.create(null)),t=_.$$const_cache),Y=t[x],Y==null||Y[0]!==nt?((Ye=ie(we,x))!=null||(Ye=pe(_,x))!=null||(Ye=Q(we,x))!=null||(Ye=p(we,x))!=null,t[x]=[nt,Ye]):Ye=Y[1],Ye!=null||te?Ye:de(we,x)};function F(_,x,te){var we=!0;return(_==null||_==="::")&&(_=I),te.$$is_a_module&&((te.$$name==null||te.$$name===E)&&(te.$$name=x),te.$$base_module==null&&(te.$$base_module=_)),_.$$const=_.$$const||Object.create(null),(x in _.$$const||"$$autoload"in _&&x in _.$$autoload)&&(we=!1),_.$$const[x]=te,_.$$=_.$$const,B.const_cache_version++,_===I&&(B[x]=te),ce(_,x,te),we&&_.$const_added&&!_.$const_added.$$pristine&&_.$const_added(x),te}B.const_set=F,B.constants=function(_,x){x==null&&(x=!0);var te,we=[_],Ye,nt,t={},Y;for(x&&(we=we.concat(tt(_))),x&&_.$$is_module&&(we=we.concat([B.Object]).concat(tt(B.Object))),Ye=0,nt=we.length;Ye<nt&&(te=we[Ye],!(_!==I&&te==I));Ye++){for(Y in te.$$const)t[Y]=!0;if(te.$$autoload)for(Y in te.$$autoload)t[Y]=!0}return Object.keys(t)},B.const_remove=function(_,x){if(B.const_cache_version++,_.$$const[x]!=null){var te=_.$$const[x];return delete _.$$const[x],te}if(_.$$autoload&&_.$$autoload[x])return delete _.$$autoload[x],E;Ie(B.NameError,"constant "+_+"::"+_.$name()+" not defined")},B.const_get_relative_factory=function(_){return function(x,te){return B.$$(_,x,te)}},B.$$=B.const_get_relative,B.$$$=B.const_get_qualified,B.$r=B.const_get_relative_factory;function O(_,x,te){var we;if(x!=null&&x.$$bridge?we=function(){var Y=Ke(arguments),U=new(ze.apply(x.$$constructor,[null].concat(Y)));return Ue(U,we.$$prototype),U}:we=function(){},_&&_!==E&&ce(we,"displayName","::"+_),ce(we,"$$name",_),ce(we,"$$constructor",we),ce(we,"$$prototype",we.prototype),ce(we,"$$const",{}),ce(we,"$$is_class",!0),ce(we,"$$is_a_module",!0),ce(we,"$$super",x),ce(we,"$$cvars",{}),ce(we,"$$own_included_modules",[]),ce(we,"$$own_prepended_modules",[]),ce(we,"$$ancestors",[]),ce(we,"$$ancestors_cache_version",null),ce(we,"$$subclasses",[]),ce(we.$$prototype,"$$class",we),B.Class&&Ue(we,B.Class.prototype),x!=null){if(Ue(we.$$prototype,x.$$prototype),te!==!0)if(typeof WeakRef<"u"){var Ye,nt,t=[];for(Ye=0;Ye<x.$$subclasses.length;Ye++)nt=x.$$subclasses[Ye],nt.deref()!==void 0&&t.push(nt);t.push(new WeakRef(we)),x.$$subclasses=t}else x.$$subclasses.push(we);x.$$meta&&B.build_class_singleton_class(we)}return we}B.allocate_class=O;function D(_,x){var te=ie(_,x);if(te)return te.$$is_class||Ie(B.TypeError,x+" is not a class"),te}function Ne(_,x){_.$$super!==x&&Ie(B.TypeError,"superclass mismatch for class "+_.$$name)}B.klass=function(_,x,te){var we;_==null||_=="::"?_=I:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),x!=null&&(!x.hasOwnProperty||x.hasOwnProperty&&!x.hasOwnProperty("$$is_class"))&&(x.constructor&&x.constructor.name=="Function"?(we=x,x=I):Ie(B.TypeError,"superclass must be a Class ("+(x.constructor&&(x.constructor.name||x.constructor.$$name)||typeof x)+" given)"));var Ye=D(_,te);return Ye!=null?x&&Ne(Ye,x):(x==null&&(x=I),Ye=O(te,x),F(_,te,Ye),x.$inherited&&x.$inherited(Ye),we&&B.bridge(we,Ye)),B.trace_class&&le(Ye),Ye};function oe(_){var x=function(){},te=x;return _&&ce(x,"displayName",_+".constructor"),ce(te,"$$name",_),ce(te,"$$prototype",x.prototype),ce(te,"$$const",{}),ce(te,"$$is_module",!0),ce(te,"$$is_a_module",!0),ce(te,"$$cvars",{}),ce(te,"$$iclasses",[]),ce(te,"$$own_included_modules",[]),ce(te,"$$own_prepended_modules",[]),ce(te,"$$ancestors",[te]),ce(te,"$$ancestors_cache_version",null),Ue(te,B.Module.prototype),te}B.allocate_module=oe;function P(_,x){var te=ie(_,x);return te==null&&_===I&&(te=Q(I,x)),te&&!te.$$is_module&&te!==I&&Ie(B.TypeError,x+" is not a module"),te}B.module=function(_,x){var te;return _==null||_=="::"?_=I:!_.$$is_class&&!_.$$is_module&&(_=_.$$class),te=P(_,x),te==null&&(te=oe(x),F(_,x,te)),B.trace_class&&le(te),te},B.get_singleton_class=function(_){return _.$$is_number&&Ie(B.TypeError,"can't define singleton"),_.$$meta?_.$$meta:_.hasOwnProperty("$$is_class")?B.build_class_singleton_class(_):_.hasOwnProperty("$$is_module")?B.build_module_singleton_class(_):B.build_object_singleton_class(_)};function h(_,x){_.hasOwnProperty("$$meta")?_.$$meta=x:ce(_,"$$meta",x),_.$$frozen?_.$$meta.$freeze():Ue(_,x.$$prototype)}B.build_class_singleton_class=function(_){if(_.$$meta)return _.$$meta;var x=_===V?ne:B.get_singleton_class(_.$$super),te=O(null,x,!0);return ce(te,"$$is_singleton",!0),ce(te,"$$singleton_of",_),h(_,te),ce(_,"$$class",B.Class),te},B.build_module_singleton_class=function(_){if(_.$$meta)return _.$$meta;var x=O(null,B.Module,!0);return ce(x,"$$is_singleton",!0),ce(x,"$$singleton_of",_),h(_,x),ce(_,"$$class",B.Module),x},B.build_object_singleton_class=function(_){var x=_.$$class,te=O(E,x,!0);return ce(te,"$$is_singleton",!0),ce(te,"$$singleton_of",_),delete te.$$prototype.$$class,h(_,te),te},B.is_method=function(_){return _[0]==="$"&&_[1]!=="$"},B.instance_methods=function(_){for(var x=[],te=[],we=tt(_),Ye=0,nt=we.length;Ye<nt;Ye++){var t=we[Ye],Y=t.$$prototype;Y.hasOwnProperty("$$dummy")&&(Y=Y.$$define_methods_on);for(var U=Object.getOwnPropertyNames(Y),T=0,Z=U.length;T<Z;T++){var c=U[T];if(B.is_method(c)){var z=c.slice(1),Te=Y[c];Te.$$stub&&x.indexOf(z)===-1&&x.push(z),!Te.$$stub&&te.indexOf(z)===-1&&x.indexOf(z)===-1&&te.push(z)}}}return te},B.own_instance_methods=function(_){var x=[],te=_.$$prototype;te.hasOwnProperty("$$dummy")&&(te=te.$$define_methods_on);for(var we=Object.getOwnPropertyNames(te),Ye=0,nt=we.length;Ye<nt;Ye++){var t=we[Ye];if(B.is_method(t)){var Y=te[t];if(!Y.$$stub){var U=t.slice(1);x.push(U)}}}return x},B.methods=function(_){return B.instance_methods(_.$$meta||_.$$class)},B.own_methods=function(_){return _.$$meta?B.own_instance_methods(_.$$meta):[]},B.receiver_methods=function(_){var x=B.get_singleton_class(_),te=B.own_instance_methods(x),we=B.own_instance_methods(x.$$super);return te.concat(we)},B.class_variables=function(_){var x=tt(_),te,we=x.length,Ye={};for(te=we-1;te>=0;te--){var nt=x[te];for(var t in nt.$$cvars)Ye[t]=nt.$$cvars[t]}return Ye},B.class_variable_set=function(_,x,te){var we=tt(_),Ye,nt=we.length;for(Ye=nt-2;Ye>=0;Ye--){var t=we[Ye];if(xe(t.$$cvars,x))return t.$$cvars[x]=te,te}return _.$$cvars[x]=te,te},B.class_variable_get=function(_,x,te){if(xe(_.$$cvars,x))return _.$$cvars[x];var we=tt(_),Ye,nt=we.length;for(Ye=0;Ye<nt;Ye++){var t=we[Ye];if(xe(t.$$cvars,x))return t.$$cvars[x]}return te||Ie(B.NameError,"uninitialized class variable "+x+" in "+_.$name()),E};function s(_){return _.hasOwnProperty("$$iclass")&&_.hasOwnProperty("$$root")}function n(_){for(var x=[],te,we=Object.getPrototypeOf(_.$$prototype);we&&!we.hasOwnProperty("$$class");)te=K(we),te&&x.push(te),we=Object.getPrototypeOf(we);return x}function i(_){var x=[],te,we=Object.getPrototypeOf(_.$$prototype);if(_.$$prototype.hasOwnProperty("$$dummy"))for(;we&&we!==_.$$prototype.$$define_methods_on;)te=K(we),te&&x.push(te),we=Object.getPrototypeOf(we);return x}B.append_features=function(_,x){var te=tt(_),we=[];te.indexOf(x)!==-1&&Ie(B.ArgumentError,"cyclic include detected");for(var Ye=0,nt=te.length;Ye<nt;Ye++){var t=te[Ye],Y=o(t);ce(Y,"$$included",!0),we.push(Y)}var U=tt(x),T=w(we),Z,c;if(U.indexOf(_)===-1)Z=x.$$prototype,c=Object.getPrototypeOf(x.$$prototype);else{for(var z=x.$$prototype,Te=Object.getPrototypeOf(z);Te!=null&&!(Te.$$module===_&&s(Te));)z=Te,Te=Object.getPrototypeOf(Te);if(Te){for(var N=Object.getPrototypeOf(Te);N.hasOwnProperty("$$iclass")&&!s(N);)N=Object.getPrototypeOf(N);Z=z,c=N}else Z=x.$$prototype,c=Object.getPrototypeOf(x.$$prototype)}Ue(Z,T.first),Ue(T.last,c),x.$$own_included_modules=n(x),B.const_cache_version++},B.prepend_features=function(_,x){var te=tt(_),we=[];te.indexOf(x)!==-1&&Ie(B.ArgumentError,"cyclic prepend detected");for(var Ye=0,nt=te.length;Ye<nt;Ye++){var t=te[Ye],Y=o(t);ce(Y,"$$prepended",!0),we.push(Y)}var U=w(we),T=x.$$prototype,Z=Object.getPrototypeOf(T),c,z,Te;T.hasOwnProperty("$$dummy")?c=T.$$define_methods_on:(c=v(x),$(x),ce(T,"$$dummy",!0),ce(T,"$$define_methods_on",c),Ue(T,c),Ue(c,Z));var N=tt(x);if(N.indexOf(_)===-1)for(z=T,Te=Object.getPrototypeOf(T);Te!=null&&!(Te.hasOwnProperty("$$root")||Te===c||!Te.hasOwnProperty("$$iclass"));)Te=Object.getPrototypeOf(Te);else Ie(B.RuntimeError,"Prepending a module multiple times is not supported");Ue(z,U.first),Ue(U.last,Te),x.$$own_prepended_modules=i(x),B.const_cache_version++};function $(_){for(var x=_.$$prototype,te=Object.getOwnPropertyNames(x),we=0;we<te.length;we++){var Ye=te[we];B.is_method(Ye)&&delete x[Ye]}}function o(_){var x=v(_);return _.$$is_module&&_.$$iclasses.push(x),x}function v(_){var x={},te=_.$$prototype;te.hasOwnProperty("$$dummy")&&(te=te.$$define_methods_on);var we=Object.getOwnPropertyNames(te),Ye=we.length,nt;for(nt=0;nt<Ye;nt++){var t=we[nt];ce(x,t,te[t])}return ce(x,"$$iclass",!0),ce(x,"$$module",_),x}function w(_){var x=_.length,te=_[0];if(ce(te,"$$root",!0),x===1)return{first:te,last:te};for(var we=te,Ye=1;Ye<x;Ye++){var nt=_[Ye];Ue(we,nt),we=nt}return{first:_[0],last:_[x-1]}}B.bridge=function(_,x){_.hasOwnProperty("$$bridge")&&Ie(B.ArgumentError,"already bridged"),ce(_,"$$bridge",x),Ue(_.prototype,(x.$$super||B.Object).$$prototype),ce(x,"$$prototype",_.prototype),ce(x.$$prototype,"$$class",x),ce(x,"$$constructor",_),ce(x,"$$bridge",!0)};function K(_){if(!_.hasOwnProperty("$$dummy")){if(_.hasOwnProperty("$$iclass"))return _.$$module;if(_.hasOwnProperty("$$class"))return _.$$class}}function Ce(_){return _.$$own_prepended_modules.concat([_]).concat(_.$$own_included_modules)}function tt(_){if(!_)return[];if(_.$$ancestors_cache_version===B.const_cache_version)return _.$$ancestors;var x=[],te,we,Ye;for(te=0,we=Ce(_),Ye=we.length;te<Ye;te++)x.push(we[te]);if(_.$$super)for(te=0,we=tt(_.$$super),Ye=we.length;te<Ye;te++)x.push(we[te]);return _.$$ancestors_cache_version=B.const_cache_version,_.$$ancestors=x,x}B.ancestors=tt,B.included_modules=function(_){for(var x=[],te=null,we=Object.getPrototypeOf(_.$$prototype);we&&Object.getPrototypeOf(we);we=Object.getPrototypeOf(we))te=K(we),te&&te.$$is_module&&we.$$iclass&&we.$$included&&x.push(te);return x},B.add_stubs=function(_){var x=B.BasicObject.$$prototype,te,we;_=_.split(",");for(var Ye=0,nt=_.length;Ye<nt;Ye++)te=_t(_[Ye]),we=x[te],(we==null||we.$$stub)&&B.add_stub_for(x,te)},B.add_stub_for=function(_,x){ce(_,x,B.stub_for(x))},B.stub_for=function(_){function x(){this.$method_missing.$$p=x.$$p,x.$$p=null;for(var te=new Array(arguments.length),we=0,Ye=te.length;we<Ye;we++)te[we]=arguments[we];return this.$method_missing.apply(this,[_.slice(1)].concat(te))}return x.$$stub=!0,x},B.ac=function(_,x,te,we){var Ye="";te.$$is_a_module?Ye+=te.$$name+".":Ye+=te.$$class.$$name+"#",Ye+=we,Ie(B.ArgumentError,"["+Ye+"] wrong number of arguments (given "+_+", expected "+x+")")},B.block_ac=function(_,x,te){var we="`block in "+te+"'";Ie(B.ArgumentError,we+": wrong number of arguments (given "+_+", expected "+x+")")};function ot(_){return _.hasOwnProperty("$$meta")&&_.$$meta!==null?tt(_.$$meta):tt(_.$$class)}B.find_super=function(_,x,te,we,Ye){var nt=_t(x),t,Y;t=ot(_);for(var U=t.indexOf(te.$$owner),T=U+1;T<t.length;T++){var Z=t[T],c=Z.$$prototype;if(c.hasOwnProperty("$$dummy")&&(c=c.$$define_methods_on),c.hasOwnProperty(nt)){Y=c[nt];break}}return!we&&Y&&Y.$$stub&&_.$method_missing.$$pristine&&Ie(B.NoMethodError,"super: no superclass method `"+x+"' for "+_,x),Y.$$stub&&!Ye?null:Y},B.find_block_super=function(_,x,te,we,Ye){var nt=x;return te||Ie(B.RuntimeError,"super called outside of method"),Ye&&te.$$define_meth&&Ie(B.RuntimeError,"implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly"),te.$$def&&(nt=te.$$jsid),B.find_super(_,nt,te,we)},B.find_super_dispatcher=B.find_super,B.find_iter_super_dispatcher=B.find_block_super,B.yield1=function(_,x){typeof _!="function"&&Ie(B.LocalJumpError,"no block given");var te=_.$$has_top_level_mlhs_arg,we=_.$$has_trailing_comma_in_args;return(_.length>1||(te||we)&&_.length===1)&&(x=B.to_ary(x)),(_.length>1||we&&_.length===1)&&x.$$is_array?_.apply(null,x):_(x)},B.yieldX=function(_,x){if(typeof _!="function"&&Ie(B.LocalJumpError,"no block given"),_.length>1&&x.length===1&&x[0].$$is_array)return _.apply(null,x[0]);if(!x.$$is_array){for(var te=new Array(x.length),we=0,Ye=te.length;we<Ye;we++)te[we]=x[we];return _.apply(null,te)}return _.apply(null,x)},B.rescue=function(_,x){for(var te=0;te<x.length;te++){var we=x[te];if(we.$$is_array){var Ye=B.rescue(_,we);if(Ye)return Ye}else if(we===B.JS.Error||we["$==="](_))return we}return null},B.is_a=function(_,x){if(x!=null&&_.$$meta===x||_.$$class===x)return!0;if(_.$$is_number&&x.$$is_number_class)return x.$$is_integer_class?_%1===0:!0;var te=tt(_.$$is_class?B.get_singleton_class(_):_.$$meta||_.$$class);return te.indexOf(x)!==-1},B.to_hash=function(_){if(_.$$is_hash)return _;if(_["$respond_to?"]("to_hash",!0)){var x=_.$to_hash();if(x.$$is_hash)return x;Ie(B.TypeError,"Can't convert "+_.$$class+" to Hash ("+_.$$class+"#to_hash gives "+x.$$class+")")}else Ie(B.TypeError,"no implicit conversion of "+_.$$class+" into Hash")},B.to_ary=function(_){if(_.$$is_array)return _;if(_["$respond_to?"]("to_ary",!0)){var x=_.$to_ary();if(x===E)return[_];if(x.$$is_array)return x;Ie(B.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_ary gives "+x.$$class+")")}else return[_]},B.to_a=function(_){if(_.$$is_array)return _.slice();if(_["$respond_to?"]("to_a",!0)){var x=_.$to_a();if(x===E)return[_];if(x.$$is_array)return x;Ie(B.TypeError,"Can't convert "+_.$$class+" to Array ("+_.$$class+"#to_a gives "+x.$$class+")")}else return[_]},B.extract_kwargs=function(_){var x=_[_.length-1];if(x!=null&&B.respond_to(x,"$to_hash",!0))return qe(_,_.length-1),x},B.kwrestargs=function(_,x){var te=[],we={},Ye,nt=_.$$smap;for(Ye in nt)x[Ye]||(te.push(Ye),we[Ye]=nt[Ye]);return B.hash2(te,we)};function lt(_,x){typeof x=="number"?_.$$arity=x:typeof x=="object"&&Object.assign(_,x)}var vt={};function _t(_){return vt[_]||(vt[_]="$"+_)}B.jsid=_t,B.send=function(_,x,te,we,Ye){var nt;return typeof x=="function"?(nt=x,x=null):typeof x=="string"?nt=_[_t(x)]:Ie(B.NameError,"Passed method should be a string or a function"),B.send2(_,nt,x,te,we,Ye)},B.send2=function(_,x,te,we,Ye,nt){return x==null&&te!=null&&_.$method_missing&&(x=_.$method_missing,we=[te].concat(we)),lt(Ye,nt),typeof Ye=="function"&&(x.$$p=Ye),x.apply(_,we)},B.refined_send=function(_,x,te,we,Ye,nt){var t,Y,U,T,Z,c,z,Te,N,ve;for(T=ot(x),t=0;t<T.length;t++)for(Z=B.id(T[t]),Y=0;Y<_.length;Y++)for(c=_[Y],U=c.length-1;U>=0;U--)if(z=c[U],!(typeof z.$$refine_modules>"u")&&(Te=z.$$refine_modules,!(typeof Te[Z]>"u")&&(N=Te[Z],typeof N.$$prototype[_t(te)]<"u")))return ve=N.$$prototype[_t(te)],B.send2(x,ve,te,we,Ye,nt);return B.send(x,te,we,Ye,nt)},B.lambda=function(_,x){return _.$$is_lambda=!0,lt(_,x),_},B.def=function(_,x,te,we){return lt(te,we),_===B.top?B.defn(B.Object,x,te):!_.$$eval&&_.$$is_a_module?B.defn(_,x,te):B.defs(_,x,te)},B.defn=function(_,x,te){gt(_),te.displayName=x,te.$$owner=_;var we=x.substr(1),Ye=_.$$prototype;if(Ye.hasOwnProperty("$$dummy")&&(Ye=Ye.$$define_methods_on),ce(Ye,x,te),_.$$is_module){_.$$module_function&&B.defs(_,x,te);for(var nt=0,t=_.$$iclasses,Y=t.length;nt<Y;nt++){var U=t[nt];ce(U,x,te)}}var T=_.$$singleton_of;return _.$method_added&&!_.$method_added.$$stub&&!T?_.$method_added(we):T&&T.$singleton_method_added&&!T.$singleton_method_added.$$stub&&T.$singleton_method_added(we),we},B.defs=function(_,x,te,we){return lt(te,we),(_.$$is_string||_.$$is_number)&&Ie(B.TypeError,"can't define singleton"),B.defn(B.get_singleton_class(_),x,te)},B.rdef=function(_,x){xe(_.$$prototype,x)||Ie(B.NameError,"method '"+x.substr(1)+"' not defined in "+_.$name()),delete _.$$prototype[x],_.$$is_singleton?_.$$prototype.$singleton_method_removed&&!_.$$prototype.$singleton_method_removed.$$stub&&_.$$prototype.$singleton_method_removed(x.substr(1)):_.$method_removed&&!_.$method_removed.$$stub&&_.$method_removed(x.substr(1))},B.udef=function(_,x){(!_.$$prototype[x]||_.$$prototype[x].$$stub)&&Ie(B.NameError,"method '"+x.substr(1)+"' not defined in "+_.$name()),B.add_stub_for(_.$$prototype,x),_.$$is_singleton?_.$$prototype.$singleton_method_undefined&&!_.$$prototype.$singleton_method_undefined.$$stub&&_.$$prototype.$singleton_method_undefined(x.substr(1)):_.$method_undefined&&!_.$method_undefined.$$stub&&_.$method_undefined(x.substr(1))};function bt(_){return typeof _=="function"&&!_.$$stub}B.alias=function(_,x,te){var we=_t(x),Ye=_t(te),nt,t;if(typeof _.$$prototype>"u"&&(_=B.Object),nt=_.$$prototype[Ye],_.$$eval)return B.alias(B.get_singleton_class(_),x,te);if(!bt(nt)){for(var Y=_.$$super;typeof nt!="function"&&Y;)nt=Y[Ye],Y=Y.$$super;!bt(nt)&&_.$$is_module&&(nt=B.Object.$$prototype[Ye]),bt(nt)||Ie(B.NameError,"undefined method `"+te+"' for class `"+_.$name()+"'")}nt.$$alias_of&&(nt=nt.$$alias_of),t=function(){var U=t.$$p,T,Z,c;for(T=new Array(arguments.length),Z=0,c=arguments.length;Z<c;Z++)T[Z]=arguments[Z];return t.$$p=null,B.send(this,nt,T,U)};try{Object.defineProperty(t,"length",{value:nt.length})}catch{}return t.displayName=x,t.$$arity=nt.$$arity==null?nt.length:nt.$$arity,t.$$parameters=nt.$$parameters,t.$$source_location=nt.$$source_location,t.$$alias_of=nt,t.$$alias_name=x,B.defn(_,we,t),_},B.alias_gvar=function(_,x){return Object.defineProperty(Me,_,{configurable:!0,enumerable:!0,get:function(){return Me[x]},set:function(te){Me[x]=te}}),E},B.alias_native=function(_,x,te){var we=_t(x),Ye=_.$$prototype[te];return(typeof Ye!="function"||Ye.$$stub)&&Ie(B.NameError,"undefined native method `"+te+"' for class `"+_.$name()+"'"),B.defn(_,we,Ye),_},B.hash_init=function(_){_.$$smap=Object.create(null),_.$$map=Object.create(null),_.$$keys=[]},B.hash_clone=function(_,x){x.$$none=_.$$none,x.$$proc=_.$$proc;for(var te=0,we=_.$$keys,Ye=_.$$smap,nt=we.length,t,Y;te<nt;te++)t=we[te],t.$$is_string?Y=Ye[t]:(Y=t.value,t=t.key),B.hash_put(x,t,Y)},B.hash_put=function(_,x,te){if(x.$$is_string){xe(_.$$smap,x)||_.$$keys.push(x),_.$$smap[x]=te;return}var we,Ye,nt;if(we=_.$$by_identity?B.id(x):x.$hash(),!xe(_.$$map,we)){Ye={key:x,key_hash:we,value:te},_.$$keys.push(Ye),_.$$map[we]=Ye;return}for(Ye=_.$$map[we];Ye;){if(x===Ye.key||x["$eql?"](Ye.key)){nt=void 0,Ye.value=te;break}nt=Ye,Ye=Ye.next}nt&&(Ye={key:x,key_hash:we,value:te},_.$$keys.push(Ye),nt.next=Ye)},B.hash_get=function(_,x){if(x.$$is_string)return xe(_.$$smap,x)?_.$$smap[x]:void 0;var te,we;if(te=_.$$by_identity?B.id(x):x.$hash(),xe(_.$$map,te))for(we=_.$$map[te];we;){if(x===we.key||x["$eql?"](we.key))return we.value;we=we.next}},B.hash_delete=function(_,x){var te,we=_.$$keys,Ye=we.length,nt,t;if(x.$$is_string){if(typeof x!="string"&&(x=x.valueOf()),!xe(_.$$smap,x))return;for(te=0;te<Ye;te++)if(t=we[te],t.$$is_string&&typeof t!="string"&&(t=t.valueOf()),t===x){we.splice(te,1);break}return nt=_.$$smap[x],delete _.$$smap[x],nt}var Y=x.$hash();if(xe(_.$$map,Y))for(var U=_.$$map[Y],T;U;){if(x===U.key||x["$eql?"](U.key)){for(nt=U.value,te=0;te<Ye;te++)if(we[te]===U){we.splice(te,1);break}return T&&U.next?T.next=U.next:T?delete T.next:U.next?_.$$map[Y]=U.next:delete _.$$map[Y],nt}T=U,U=U.next}},B.hash_rehash=function(_){for(var x=0,te=_.$$keys.length,we,Ye,nt;x<te;x++)if(!_.$$keys[x].$$is_string&&(we=_.$$keys[x].key.$hash(),we!==_.$$keys[x].key_hash)){for(Ye=_.$$map[_.$$keys[x].key_hash],nt=void 0;Ye;){if(Ye===_.$$keys[x]){nt&&Ye.next?nt.next=Ye.next:nt?delete nt.next:Ye.next?_.$$map[_.$$keys[x].key_hash]=Ye.next:delete _.$$map[_.$$keys[x].key_hash];break}nt=Ye,Ye=Ye.next}if(_.$$keys[x].key_hash=we,!xe(_.$$map,we)){_.$$map[we]=_.$$keys[x];continue}for(Ye=_.$$map[we],nt=void 0;Ye;){if(Ye===_.$$keys[x]){nt=void 0;break}nt=Ye,Ye=Ye.next}nt&&(nt.next=_.$$keys[x])}},B.hash=function(){var _=arguments.length,x,te,we,Ye,nt,t;if(_===1&&arguments[0].$$is_hash)return arguments[0];if(te=new B.Hash,B.hash_init(te),_===1)if(x=arguments[0],arguments[0].$$is_array){for(Ye=x.length,we=0;we<Ye;we++)x[we].length!==2&&Ie(B.ArgumentError,"value not of length 2: "+x[we].$inspect()),nt=x[we][0],t=x[we][1],B.hash_put(te,nt,t);return te}else{x=arguments[0];for(nt in x)xe(x,nt)&&(t=x[nt],B.hash_put(te,nt,t));return te}for(_%2!==0&&Ie(B.ArgumentError,"odd number of arguments for Hash"),we=0;we<_;we+=2)nt=arguments[we],t=arguments[we+1],B.hash_put(te,nt,t);return te},B.hash2=function(_,x){var te=new B.Hash;return te.$$smap=x,te.$$map=Object.create(null),te.$$keys=_,te},B.range=function(_,x,te){var we=new B.Range;return we.begin=_,we.end=x,we.excl=te,we};var pt=["constructor","displayName","__count__","__noSuchMethod__","__parent__","__proto__","hasOwnProperty","valueOf"];B.ivar=function(_){return pt.indexOf(_)!==-1&&(_+="$"),_};function gt(_){_.$$frozen&&Ie(B.FrozenError,"can't modify frozen "+_.$class()+": "+_,B.hash2(["receiver"],{receiver:_}))}B.deny_frozen_access=gt,B.freeze=function(_){return ce(_,"$$frozen",!0),_.hasOwnProperty("$$id")||ce(_,"$$id",Ve()),_.hasOwnProperty("$$meta")?_.$$meta.$freeze():ce(_,"$$meta",null),_.hasOwnProperty("$$comparable")||ce(_,"$$comparable",null),Object.seal(_),_},B.freeze_props=function(_){var x,te,we;for(x in _)te=typeof x,!((te==="string"||te==="object")&&x[0]==="$")&&(we=Object.getOwnPropertyDescriptor(_,x),we&&we.enumerable&&we.writable&&function(){var Ye=_[x];Object.defineProperty(_,x,{get:function(){return Ye},set:function(nt){gt(_)},enumerable:!0})}())},B.escape_regexp=function(_){return _.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},B.global_regexp=function(_){return _.global?_:(_.$$g==null?_.$$g=new RegExp(_.source,(_.multiline?"gm":"g")+(_.ignoreCase?"i":"")):_.$$g.lastIndex=null,_.$$g)},B.global_multiline_regexp=function(_){var x,te;return _.global&&_.multiline?_:(te="gm"+(_.ignoreCase?"i":""),_.multiline?(_.$$g==null&&(_.$$g=new RegExp(_.source,te)),x=_.$$g):(_.$$gm==null&&(_.$$gm=new RegExp(_.source,te)),x=_.$$gm),x.lastIndex=null,x)},B.regexp=function(_,x){for(var te,we=typeof x<"u"&&x&&x.indexOf("i")>=0,Ye=0,nt=_.length;Ye<nt;Ye++)te=_[Ye],te instanceof RegExp&&(te.ignoreCase!==we&&B.Kernel.$warn("ignore case doesn't match for "+te.source.$inspect(),B.hash({uplevel:1})),te=te.source),te===""&&(te="(?:"+te+")"),_[Ye]=te;return x?new RegExp(_.join(""),x):new RegExp(_.join(""))},B.modules={},B.loaded_features=["corelib/runtime"],B.current_dir=".",B.require_table={"corelib/runtime":!0},B.normalize=function(_){var x,te,we=[],Ye="/";B.current_dir!=="."&&(_=B.current_dir.replace(/\/*$/,"/")+_),_=_.replace(/^\.\//,""),_=_.replace(/\.(rb|opal|js)$/,""),x=_.split(Ye);for(var nt=0,t=x.length;nt<t;nt++)te=x[nt],te!==""&&(te===".."?we.pop():we.push(te));return we.join(Ye)},B.loaded=function(_){var x,te,we;for(x=0,te=_.length;x<te;x++)we=B.normalize(_[x]),!B.require_table[we]&&(B.loaded_features.push(we),B.require_table[we]=!0)},B.load_normalized=function(_){B.loaded([_]);var x=B.modules[_];if(x){var te=x(B);if(typeof Promise<"u"&&te instanceof Promise)return te.then(Ee(!0))}else{var we=B.config.missing_require_severity,Ye="cannot load such file -- "+_;we==="error"?Ie(B.LoadError,Ye):we==="warning"&&a.warn("WARNING: LoadError: "+Ye)}return!0},B.load=function(_){return _=B.normalize(_),B.load_normalized(_)},B.require=function(_){return _=B.normalize(_),B.require_table[_]?!1:B.load_normalized(_)},B.encodings=Object.create(null),B.set_encoding=function(_,x,te){typeof te>"u"&&(te="encoding"),(typeof _=="string"||_.$$frozen===!0)&&Ie(B.FrozenError,"can't modify frozen String");var we=B.find_encoding(x);return we===_[te]||(_[te]=we),_},B.find_encoding=function(_){var x=B.encodings,te=x[_]||x[_.toUpperCase()];return te||Ie(B.ArgumentError,"unknown encoding name - "+_),te},B.enc=function(_,x){var te=new String(_);return te=B.set_encoding(te,x),te.internal_encoding=te.encoding,te},B.binary=function(_){var x=new String(_);return B.set_encoding(x,"binary","internal_encoding")},B.last_promise=null,B.promise_unhandled_exception=!1,B.queue=function(_){if(B.last_promise)return B.last_promise=B.last_promise.then(function(){if(!B.promise_unhandled_exception)return _(B)}).catch(function(te){B.respond_to(te,"$full_message")&&(te=te.$full_message()),a.error(te),B.promise_unhandled_exception=!0,B.exit(1)}),B.last_promise;var x=_(B);return typeof Promise=="function"&&typeof x=="object"&&x instanceof Promise&&(B.last_promise=x),x};function mt(_,x){return typeof _=="number"&&typeof x=="number"}B.rb_plus=function(_,x){return mt(_,x)?_+x:_["$+"](x)},B.rb_minus=function(_,x){return mt(_,x)?_-x:_["$-"](x)},B.rb_times=function(_,x){return mt(_,x)?_*x:_["$*"](x)},B.rb_divide=function(_,x){return mt(_,x)?_/x:_["$/"](x)},B.rb_lt=function(_,x){return mt(_,x)?_<x:_["$<"](x)},B.rb_gt=function(_,x){return mt(_,x)?_>x:_["$>"](x)},B.rb_le=function(_,x){return mt(_,x)?_<=x:_["$<="](x)},B.rb_ge=function(_,x){return mt(_,x)?_>=x:_["$>="](x)};function Qe(_,x){return typeof _=="number"&&typeof x=="number"||typeof _=="string"&&typeof x=="string"}function me(_,x){return Qe(_,x)?_===x:ye(_["$=="](x))}B.eqeq=me,B.eqeqeq=function(_,x){return Qe(_,x)?_===x:ye(_["$==="](x))},B.neqeq=function(_,x){return Qe(_,x)?_!==x:ye(_["$!="](x))},B.not=function(_){return _==null||_===!1||E===_?!0:_===!0||_["$!"].$$pristine?!1:ye(_["$!"]())};function Ee(_){return function(){return _}}B.return_val=Ee,B.return_self=function(){return this},B.return_ivar=function(_){return function(){return this[_]==null?E:this[_]}},B.assign_ivar=function(_){return function(x){return gt(this),this[_]=x}},B.assign_ivar_val=function(_,x){return function(){return gt(this),this[_]=x}},B.ensure_kwargs=function(_){if(_==null)return B.hash2([],{});if(_.$$is_hash)return _;Ie(B.ArgumentError,"expected kwargs")},B.get_kwarg=function(_,x){return xe(_.$$smap,x)||Ie(B.ArgumentError,"missing keyword: "+x),_.$$smap[x]},B.large_array_unpack=function(_){var x=_.split(","),te=x.length,we;for(we=0;we<te;we++)switch(x[we][0]){case void 0:x[we]=E;break;case"-":case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x[we]=+x[we]}return x},B.BasicObject=V=O("BasicObject",null),B.Object=I=O("Object",B.BasicObject),B.Module=_e=O("Module",B.Object),B.Class=ne=O("Class",B.Module),B.Opal=ae=oe("Opal"),B.Kernel=ue=oe("Kernel"),Ue(B.BasicObject,B.Class.$$prototype),Ue(B.Object,B.Class.$$prototype),Ue(B.Module,B.Class.$$prototype),Ue(B.Class,B.Class.$$prototype),V.$$const.BasicObject=V,F(I,"BasicObject",V),F(I,"Object",I),F(I,"Module",_e),F(I,"Class",ne),F(I,"Opal",ae),F(I,"Kernel",ue),V.$$class=ne,I.$$class=ne,_e.$$class=ne,ne.$$class=ne,ae.$$class=_e,ue.$$class=_e,ce(I.$$prototype,"toString",function(){var _=this.$to_s();return _.$$is_string&&typeof _=="object"?_.valueOf():_}),ce(I.$$prototype,"$require",B.require),B.top=new I,B.top.$to_s=B.top.$inspect=Ee("main"),B.top.$define_method=je;function je(){var _=Ke(arguments),x=je.$$p;return je.$$p=null,B.send(I,"define_method",_,x)}B.NilClass=O("NilClass",B.Object),F(I,"NilClass",B.NilClass),E=B.nil=new B.NilClass,E.$$id=re,E.call=E.apply=function(){Ie(B.LocalJumpError,"no block given")},E.$$frozen=!0,E.$$comparable=!1,Object.seal(E),B.thrower=function(_){var x=new Error("unexpected "+_);return x.$thrower_type=_,x.$throw=function(te){throw te==null&&(te=E),x.$v=te,x},x},B.t_eval_return=B.thrower("return"),TypeError.$$super=Error,B.file_sources={}}).call(globalThis);Opal.loaded(["corelib/runtime.js"]);Opal.modules["corelib/helpers"]=function(e){var a=e.type_error,E=e.coerce_to,V=e.module,I=e.defs,_e=e.slice,ne=e.eqeqeq,ae=e.Kernel,ue=e.truthy,B=e.Opal,Ae=e.nil,ze=e.$$$;return e.add_stubs("===,raise,respond_to?,nil?,__send__,<=>,class,coerce_to!,new,to_s,__id__"),function(xe){var Ue=V(xe,"Opal");I(Ue,"$bridge",function(re,Fe){return e.bridge(re,Fe)}),I(Ue,"$coerce_to!",function(re,Fe,Ve,Me){var Ie,ce,ye=Ae;return Ie=_e(arguments,3),ce=Ie,ye=E(re,Fe,Ve,ce),ne(Fe,ye)||ae.$raise(a(re,Fe,Ve,ye)),ye},-4),I(Ue,"$coerce_to?",function(re,Fe,Ve,Me){var Ie,ce,ye=Ae;return Ie=_e(arguments,3),ce=Ie,!ue(re["$respond_to?"](Ve))||(ye=E(re,Fe,Ve,ce),ue(ye["$nil?"]()))?Ae:(ne(Fe,ye)||ae.$raise(a(re,Fe,Ve,ye)),ye)},-4),I(Ue,"$try_convert",function(re,Fe,Ve){return ne(Fe,re)?re:ue(re["$respond_to?"](Ve))?re.$__send__(Ve):Ae}),I(Ue,"$compare",function(re,Fe){var Ve=Ae;return Ve=re["$<=>"](Fe),ue(Ve===Ae)&&ae.$raise(ze("ArgumentError"),"comparison of "+re.$class()+" with "+Fe.$class()+" failed"),Ve}),I(Ue,"$destructure",function(re){if(re.length==1)return re[0];if(re.$$is_array)return re;for(var Fe=new Array(re.length),Ve=0,Me=Fe.length;Ve<Me;Ve++)Fe[Ve]=re[Ve];return Fe}),I(Ue,"$respond_to?",function(re,Fe,Ve){return Ve==null&&(Ve=!1),re==null||!re.$$class?!1:re["$respond_to?"](Fe,Ve)},-3),I(Ue,"$instance_variable_name!",function(re){return re=B["$coerce_to!"](re,ze("String"),"to_str"),ue(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(re))||ae.$raise(ze("NameError").$new("'"+re+"' is not allowed as an instance variable name",re)),re}),I(Ue,"$class_variable_name!",function(re){return re=B["$coerce_to!"](re,ze("String"),"to_str"),ue(re.length<3||re.slice(0,2)!=="@@")&&ae.$raise(ze("NameError").$new("`"+re+"' is not allowed as a class variable name",re)),re}),I(Ue,"$const_name?",function(re){return typeof re!="string"&&(re=B["$coerce_to!"](re,ze("String"),"to_str")),re[0]===re[0].toUpperCase()}),I(Ue,"$const_name!",function(re){var Fe=this;return ue(ze("::","String","skip_raise")?"constant":Ae)&&(re=B["$coerce_to!"](re,ze("String"),"to_str")),(!re||re[0]!=re[0].toUpperCase())&&Fe.$raise(ze("NameError"),"wrong constant name "+re),re}),I(Ue,"$pristine",function(re,Fe){var Ve,Me;Ve=_e(arguments,1),Me=Ve;for(var Ie,ce,ye=Me.length-1;ye>=0;ye--)Ie=Me[ye],ce=re.$$prototype[e.jsid(Ie)],ce&&!ce.$$stub&&(ce.$$pristine=!0);return Ae},-2);var Ke=[];return I(Ue,"$inspect",function(re){var Fe=Ae,Ve=!1;return function(){try{try{return re===null?"null":re===void 0?"undefined":typeof re.$$class>"u"?Object.prototype.toString.apply(re):typeof re.$inspect!="function"||re.$inspect.$$stub||Ke.indexOf(re.$__id__())!==-1?"#<"+re.$$class+":0x"+re.$__id__().$to_s(16)+">":(Ke.push(re.$__id__()),Ve=!0,re.$inspect())}catch(Me){if(e.rescue(Me,[ze("Exception")])){Fe=Me;try{return"#<"+re.$$class+":0x"+re.$__id__().$to_s(16)+">"}finally{e.pop_exception()}}else throw Me}}finally{Ve&&Ke.pop()}}()},-1)}("::")};Opal.modules["corelib/module"]=function(e){var a=e.truthy,E=e.coerce_to,V=e.const_set,I=e.Object,_e=e.return_ivar,ne=e.assign_ivar,ae=e.ivar,ue=e.deny_frozen_access,B=e.freeze,Ae=e.prop,ze=e.jsid,xe=e.klass,Ue=e.defs,Ke=e.send,qe=e.def,re=e.eqeqeq,Fe=e.Module,Ve=e.Kernel,Me=e.rb_lt,Ie=e.rb_gt,ce=e.slice,ye=e.to_a,le=e.hash2,Re=e.Opal,ie=e.return_val,pe=e.eqeq,Q=e.lambda,p=e.range,de=e.send2,F=e.find_super,O=e.alias,D=[],Ne=e.nil,oe=e.$$$;return e.add_stubs("module_eval,to_proc,===,raise,equal?,<,>,nil?,attr_reader,attr_writer,warn,attr_accessor,const_name?,class_variable_name!,pristine,const_name!,=~,new,inject,split,const_get,==,start_with?,!~,bind,call,class,frozen?,name,append_features,included,cover?,size,merge,compile,proc,any?,prepend_features,prepended,to_s,__id__,constants,include?,copy_class_variables,copy_constants,class_exec,module_exec,inspect"),function(P,h,s){var n=xe(P,h,"Module"),i=[n].concat(s),$=e.$r(i);return Ue(n,"$allocate",function(){var v=this,w=e.allocate_module(Ne,function(){});return v!==e.Module&&Object.setPrototypeOf(w,v.$$prototype),w}),qe(n,"$initialize",function o(){var v=o.$$p||Ne,w=this;return o.$$p=null,v!==Ne?Ke(w,"module_eval",[],v.$to_proc()):Ne}),qe(n,"$===",function(v){var w=this;return a(v==null)?!1:e.is_a(v,w)}),qe(n,"$<",function(v){var w=this;re(Fe,v)||Ve.$raise(oe("TypeError"),"compared with non class/module");var K=w,Ce,tt,ot;if(K===v)return!1;for(tt=0,Ce=e.ancestors(w),ot=Ce.length;tt<ot;tt++)if(Ce[tt]===v)return!0;for(tt=0,Ce=e.ancestors(v),ot=Ce.length;tt<ot;tt++)if(Ce[tt]===w)return!1;return Ne}),qe(n,"$<=",function(v){var w=this,K=Ne;return a(K=w["$equal?"](v))?K:Me(w,v)}),qe(n,"$>",function(v){var w=this;return re(Fe,v)||Ve.$raise(oe("TypeError"),"compared with non class/module"),Me(v,w)}),qe(n,"$>=",function(v){var w=this,K=Ne;return a(K=w["$equal?"](v))?K:Ie(w,v)}),qe(n,"$<=>",function(v){var w=this,K=Ne;return w===v?0:!re(Fe,v)||(K=Me(w,v),a(K["$nil?"]()))?Ne:a(K)?-1:1}),qe(n,"$alias_method",function(v,w){var K=this;return ue(K),v=E(v,oe("String"),"to_str"),w=E(w,oe("String"),"to_str"),e.alias(K,v,w),K}),qe(n,"$alias_native",function(v,w){var K=this;return w==null&&(w=v),ue(K),e.alias_native(K,v,w),K},-2),qe(n,"$ancestors",function(){var v=this;return e.ancestors(v)}),qe(n,"$append_features",function(v){var w=this;return ue(v),e.append_features(w,v),w}),qe(n,"$attr_accessor",function(v){var w,K,Ce=this;return w=ce(arguments),K=w,Ke(Ce,"attr_reader",ye(K)),Ke(Ce,"attr_writer",ye(K))},-1),qe(n,"$attr",function(v){var w,K,Ce=this;return w=ce(arguments),K=w,K.length==2&&(K[1]===!0||K[1]===!1)?(Ce.$warn("optional boolean argument is obsoleted",le(["uplevel"],{uplevel:1})),K[1]?Ce.$attr_accessor(K[0]):Ce.$attr_reader(K[0]),Ne):Ke(Ce,"attr_reader",ye(K))},-1),qe(n,"$attr_reader",function(v){var w,K,Ce=this;w=ce(arguments),K=w,ue(Ce);for(var tt=Ce.$$prototype,ot=K.length-1;ot>=0;ot--){var lt=K[ot],vt=ze(lt),_t=ae(lt),bt=_e(_t);e.prop(tt,_t,Ne),bt.$$parameters=[],bt.$$arity=0,e.defn(Ce,vt,bt)}return Ne},-1),qe(n,"$attr_writer",function(v){var w,K,Ce=this;w=ce(arguments),K=w,ue(Ce);for(var tt=Ce.$$prototype,ot=K.length-1;ot>=0;ot--){var lt=K[ot],vt=ze(lt+"="),_t=ae(lt),bt=ne(_t);bt.$$parameters=[["req"]],bt.$$arity=1,e.prop(tt,_t,Ne),e.defn(Ce,vt,bt)}return Ne},-1),qe(n,"$autoload",function(v,w){var K=this;return ue(K),$("Opal")["$const_name?"](v)||Ve.$raise(oe("NameError"),"autoload must be constant name: "+v),w==""&&Ve.$raise(oe("ArgumentError"),"empty file name"),K.$$const.hasOwnProperty(v)||(K.$$autoload||(K.$$autoload={}),e.const_cache_version++,K.$$autoload[v]={path:w,loaded:!1,required:!1,success:!1,exception:!1},K.$const_added&&!K.$const_added.$$pristine&&K.$const_added(v)),Ne}),qe(n,"$autoload?",function(v){var w=this;if(w.$$autoload&&w.$$autoload[v]&&!w.$$autoload[v].required&&!w.$$autoload[v].success)return w.$$autoload[v].path;for(var K=w.$ancestors(),Ce=0,tt=K.length;Ce<tt;Ce++)if(K[Ce].$$autoload&&K[Ce].$$autoload[v]&&!K[Ce].$$autoload[v].required&&!K[Ce].$$autoload[v].success)return K[Ce].$$autoload[v].path;return Ne}),qe(n,"$class_variables",function(){var v=this;return Object.keys(e.class_variables(v))}),qe(n,"$class_variable_get",function(v){var w=this;return v=Re["$class_variable_name!"](v),e.class_variable_get(w,v,!1)}),qe(n,"$class_variable_set",function(v,w){var K=this;return ue(K),v=Re["$class_variable_name!"](v),e.class_variable_set(K,v,w)}),qe(n,"$class_variable_defined?",function(v){var w=this;return v=Re["$class_variable_name!"](v),e.class_variables(w).hasOwnProperty(v)}),qe(n,"$const_added",ie(Ne)),Re.$pristine(n,"const_added"),qe(n,"$remove_class_variable",function(v){var w=this;if(ue(w),v=Re["$class_variable_name!"](v),e.hasOwnProperty.call(w.$$cvars,v)){var K=w.$$cvars[v];return delete w.$$cvars[v],K}else Ve.$raise(oe("NameError"),"cannot remove "+v+" for "+w)}),qe(n,"$constants",function(v){var w=this;return v==null&&(v=!0),e.constants(w,v)},-1),Ue(n,"$constants",function(v){var w=this;if(v==null){var K=(w.$$nesting||[]).concat(I),Ce,tt={},ot,lt;for(ot=0,lt=K.length;ot<lt;ot++)for(Ce in K[ot].$$const)tt[Ce]=!0;return Object.keys(tt)}else return e.constants(w,v)},-1),Ue(n,"$nesting",function(){var v=this;return v.$$nesting||[]}),qe(n,"$const_defined?",function(v,w){var K=this;w==null&&(w=!0),v=$("Opal")["$const_name!"](v),a(v["$=~"](oe(Re,"CONST_NAME_REGEXP")))||Ve.$raise(oe("NameError").$new("wrong constant name "+v,v));var Ce,tt=[K],ot,lt;for(w&&(tt=tt.concat(e.ancestors(K)),K.$$is_module&&(tt=tt.concat([I]).concat(e.ancestors(I)))),ot=0,lt=tt.length;ot<lt;ot++)if(Ce=tt[ot],Ce.$$const[v]!=null||Ce.$$autoload&&Ce.$$autoload[v]&&!Ce.$$autoload[v].required&&!Ce.$$autoload[v].success)return!0;return!1},-2),qe(n,"$const_get",function(v,w){var K=this;return w==null&&(w=!0),v=$("Opal")["$const_name!"](v),v.indexOf("::")===0&&v!=="::"&&(v=v.slice(2)),a(v.indexOf("::")!=-1&&v!="::")?Ke(v.$split("::"),"inject",[K],function(tt,ot){return tt==null&&(tt=Ne),ot==null&&(ot=Ne),tt.$const_get(ot)}):(a(v["$=~"](oe(Re,"CONST_NAME_REGEXP")))||Ve.$raise(oe("NameError").$new("wrong constant name "+v,v)),w?e.$$([K],v):e.const_get_local(K,v))},-2),qe(n,"$const_missing",function(v){var w=this,K=Ne;return K=pe(w,I)?v:""+w+"::"+v,Ve.$raise(oe("NameError").$new("uninitialized constant "+K,v))}),qe(n,"$const_set",function(v,w){var K=this;return ue(K),v=Re["$const_name!"](v),(a(v["$!~"](oe(Re,"CONST_NAME_REGEXP")))||a(v["$start_with?"]("::")))&&Ve.$raise(oe("NameError").$new("wrong constant name "+v,v)),V(K,v,w),w}),qe(n,"$public_constant",ie(Ne)),qe(n,"$define_method",function o(v,w){var K=o.$$p||Ne,Ce=this,tt=Ne,ot=Ne;return o.$$p=null,ue(Ce),w===void 0&&K===Ne&&Ve.$raise(oe("ArgumentError"),"tried to create a Proc object without a block"),K=a(tt=K)?tt:re(oe("Proc"),ot=w)?w:re(oe("Method"),ot)?w.$to_proc().$$unbound:re(oe("UnboundMethod"),ot)?Q(function lt(vt){var _t,bt,pt=lt.$$s==null?this:lt.$$s,gt=Ne;return _t=ce(arguments),bt=_t,gt=w.$bind(pt),Ke(gt,"call",ye(bt))},{$$arity:-1,$$s:Ce}):Ve.$raise(oe("TypeError"),"wrong argument type "+K.$class()+" (expected Proc/Method)"),typeof Proxy<"u"&&(K.$$proxy_target=K,K=new Proxy(K,{apply:function(lt,vt,_t){var bt=lt.$$jsid;lt.$$jsid=v;try{return lt.apply(vt,_t)}catch(pt){if(pt===lt.$$brk||pt===lt.$$ret)return pt.$v;throw pt}finally{lt.$$jsid=bt}}})),K.$$jsid=v,K.$$s=null,K.$$def=K,K.$$define_meth=!0,e.defn(Ce,ze(v),K)},-2),qe(n,"$freeze",function(){var v=this;return a(v["$frozen?"]())?v:(v.hasOwnProperty("$$base_module")||Ae(v,"$$base_module",null),B(v))}),qe(n,"$remove_method",function(v){var w,K,Ce=this;w=ce(arguments),K=w;for(var tt=0;tt<K.length;tt++){var ot=K[tt];typeof ot=="string"||ot.$$is_string||Ce.$raise(oe("TypeError"),""+Ce.$name()+" is not a symbol nor a string"),ue(Ce),e.rdef(Ce,"$"+ot)}return Ce},-1),qe(n,"$singleton_class?",function(){var v=this;return!!v.$$is_singleton}),qe(n,"$include",function(v){var w,K,Ce=this;w=ce(arguments),K=w;for(var tt=K.length-1;tt>=0;tt--){var ot=K[tt];ot.$$is_module||Ve.$raise(oe("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$append_features(Ce),ot.$included(Ce)}return Ce},-1),qe(n,"$included_modules",function(){var v=this;return e.included_modules(v)}),qe(n,"$include?",function(v){var w=this;v.$$is_module||Ve.$raise(oe("TypeError"),"wrong argument type "+v.$class()+" (expected Module)");var K,Ce,tt,ot=e.ancestors(w);for(K=0,Ce=ot.length;K<Ce;K++)if(tt=ot[K],tt===v&&tt!==w)return!0;return!1}),qe(n,"$instance_method",function(v){var w=this,K=w.$$prototype[ze(v)];return(!K||K.$$stub)&&Ve.$raise(oe("NameError").$new("undefined method `"+v+"' for class `"+w.$name()+"'",v)),oe("UnboundMethod").$new(w,K.$$owner||w,K,v)}),qe(n,"$instance_methods",function(v){var w=this;return v==null&&(v=!0),a(v)?e.instance_methods(w):e.own_instance_methods(w)},-1),qe(n,"$included",ie(Ne)),qe(n,"$extended",ie(Ne)),qe(n,"$extend_object",function(v){return ue(v),Ne}),qe(n,"$method_added",function(v){return ce(arguments),Ne},-1),qe(n,"$method_removed",function(v){return ce(arguments),Ne},-1),qe(n,"$method_undefined",function(v){return ce(arguments),Ne},-1),qe(n,"$module_eval",function o(v){var w=o.$$p||Ne,K,Ce,tt,ot=this,lt=Ne,vt=Ne,_t=Ne,bt=Ne,pt=Ne,gt=Ne;o.$$p=null,K=ce(arguments),Ce=K,a(w["$nil?"]())&&a(!!e.compile)?(a(p(1,3,!1)["$cover?"](Ce.$size()))||Ve.$raise(oe("ArgumentError"),"wrong number of arguments (0 for 1..3)"),tt=[].concat(ye(Ce)),lt=tt[0]==null?Ne:tt[0],vt=tt[1]==null?Ne:tt[1],tt[2]==null||tt[2],_t=le(["file","eval"],{file:a(bt=vt)?bt:"(eval)",eval:!0}),pt=e.hash({arity_check:!1}).$merge(_t),gt=Re.$compile(lt,pt),w=Ke(Ve,"proc",[],function me(){var Ee=me.$$s==null?this:me.$$s;return new Function("Opal,self","return "+gt)(e,Ee)},{$$s:ot})):a(Ce["$any?"]())&&Ve.$raise(oe("ArgumentError"),"wrong number of arguments ("+Ce.$size()+` for 0)

  NOTE:If you want to enable passing a String argument please add "require 'opal-parser'" to your script
`);var mt=w.$$s,Qe;return w.$$s=null,Qe=w.apply(ot,[ot]),w.$$s=mt,Qe},-1),qe(n,"$module_exec",function o(v){var w=o.$$p||Ne,K,Ce,tt=this;o.$$p=null,K=ce(arguments),Ce=K,w===Ne&&Ve.$raise(oe("LocalJumpError"),"no block given");var ot=w.$$s,lt;return w.$$s=null,lt=w.apply(tt,Ce),w.$$s=ot,lt},-1),qe(n,"$method_defined?",function(v){var w=this,K=w.$$prototype[ze(v)];return!!K&&!K.$$stub}),qe(n,"$module_function",function(v){var w,K,Ce=this;if(w=ce(arguments),K=w,ue(Ce),K.length===0)return Ce.$$module_function=!0,Ne;for(var tt=0,ot=K.length;tt<ot;tt++){var lt=K[tt],vt=ze(lt),_t=Ce.$$prototype[vt];e.defs(Ce,vt,_t)}return K.length===1?K[0]:K},-1),qe(n,"$name",function(){var v=this;if(v.$$full_name)return v.$$full_name;for(var w=[],K=v;K;){if(K.$$name===Ne||K.$$name==null)return Ne;if(w.unshift(K.$$name),K=K.$$base_module,K===I)break}return w.length===0?Ne:v.$$full_name=w.join("::")}),qe(n,"$prepend",function(v){var w,K,Ce=this;w=ce(arguments),K=w,K.length===0&&Ve.$raise(oe("ArgumentError"),"wrong number of arguments (given 0, expected 1+)");for(var tt=K.length-1;tt>=0;tt--){var ot=K[tt];ot.$$is_module||Ve.$raise(oe("TypeError"),"wrong argument type "+ot.$class()+" (expected Module)"),ot.$prepend_features(Ce),ot.$prepended(Ce)}return Ce},-1),qe(n,"$prepend_features",function(v){var w=this;return ue(v),w.$$is_module||Ve.$raise(oe("TypeError"),"wrong argument type "+w.$class()+" (expected Module)"),e.prepend_features(w,v),w}),qe(n,"$prepended",ie(Ne)),qe(n,"$remove_const",function(v){var w=this;return ue(w),e.const_remove(w,v)}),qe(n,"$to_s",function(){var v=this,w=Ne;return a(w=e.Module.$name.call(v))?w:"#<"+(v.$$is_module?"Module":"Class")+":0x"+v.$__id__().$to_s(16)+">"}),qe(n,"$undef_method",function(v){var w,K,Ce=this;w=ce(arguments),K=w;for(var tt=0;tt<K.length;tt++){var ot=K[tt];typeof ot=="string"||ot.$$is_string||Ce.$raise(oe("TypeError"),""+Ce.$name()+" is not a symbol nor a string"),ue(Ce),e.udef(Ce,"$"+K[tt])}return Ce},-1),qe(n,"$instance_variables",function(){var v=this,w=Ne;w=(e.Module.$$nesting=i,v.$constants());var K=[];for(var Ce in v)v.hasOwnProperty(Ce)&&Ce.charAt(0)!=="$"&&Ce!=="constructor"&&!w["$include?"](Ce)&&K.push("@"+Ce);return K}),qe(n,"$dup",function o(){var v=o.$$p||Ne,w=this,K=Ne;return o.$$p=null,K=de(w,F(w,"dup",o,!1,!0),"dup",[],v),K.$copy_class_variables(w),K.$copy_constants(w),K}),qe(n,"$copy_class_variables",function(v){var w=this;for(var K in v.$$cvars)w.$$cvars[K]=v.$$cvars[K]}),qe(n,"$copy_constants",function(v){var w=this,K,Ce=v.$$const;for(K in Ce)V(w,K,Ce[K])}),qe(n,"$refine",function o(v){var w=o.$$p||Ne,K,Ce=this,tt=Ne,ot=Ne,lt=Ne;return o.$$p=null,K=[Ce,Ne,Ne],tt=K[0],ot=K[1],lt=K[2],lt=e.id(v),typeof Ce.$$refine_modules>"u"&&(Ce.$$refine_modules=Object.create(null)),typeof Ce.$$refine_modules[lt]>"u"?ot=Ce.$$refine_modules[lt]=oe("Refinement").$new():ot=Ce.$$refine_modules[lt],ot.refinement_module=tt,ot.refined_class=v,Ke(ot,"class_exec",[],w.$to_proc()),ot}),qe(n,"$refinements",function(){var v=this,w=v.$$refine_modules,K=le([],{});if(typeof w>"u")return K;for(var Ce in w)K["$[]="](w[Ce].refined_class,w[Ce]);return K}),qe(n,"$using",function(v){return Ve.$raise("Module#using is not permitted in methods")}),O(n,"class_eval","module_eval"),O(n,"class_exec","module_exec"),O(n,"inspect","to_s")}("::",null,D),function(P,h){var s=xe(P,h,"Refinement"),n=s.$$prototype;return n.refinement_module=n.refined_class=Ne,s.$attr_reader("refined_class"),qe(s,"$inspect",function i(){var $=i.$$p||Ne,o=this;return i.$$p=null,a(o.refinement_module)?"#<refinement:"+o.refined_class.$inspect()+"@"+o.refinement_module.$inspect()+">":de(o,F(o,"inspect",i,!1,!0),"inspect",[],$)})}("::",Fe)};Opal.modules["corelib/class"]=function(e){var a=e.klass,E=e.send,V=e.defs,I=e.def,_e=e.rb_plus,ne=e.return_val,ae=e.slice,ue=e.send2,B=e.find_super,Ae=e.Kernel,ze=e.alias,xe=e.top,Ue=[],Ke=e.nil,qe=e.$$$;return e.add_stubs("require,class_eval,to_proc,+,subclasses,flatten,map,initialize_copy,allocate,name,to_s,raise"),xe.$require("corelib/module"),function(re,Fe,Ve){var Me=a(re,Fe,"Class"),Ie=[Me].concat(Ve),ce=e.$r(Ie);return V(Me,"$new",function ye(le){var Re=ye.$$p||Ke;if(ye.$$p=null,le==null&&(le=ce("Object")),!le.$$is_class)throw e.TypeError.$new("superclass must be a Class");var ie=e.allocate_class(Ke,le);return le.$inherited(ie),Re!==Ke&&E(ie,"class_eval",[],Re.$to_proc()),ie},-1),I(Me,"$allocate",function(){var le=this,Re=new le.$$constructor;return Re.$$id=e.uid(),Re}),I(Me,"$descendants",function(){var le=this;return _e(le.$subclasses(),E(le.$subclasses(),"map",[],"descendants".$to_proc()).$flatten())}),I(Me,"$inherited",ne(Ke)),I(Me,"$initialize_dup",function(le){var Re=this;Re.$initialize_copy(le),Re.$$name=null,Re.$$full_name=null}),I(Me,"$new",function ye(le){var Re=ye.$$p||Ke,ie,pe,Q=this;ye.$$p=null,ie=ae(arguments),pe=ie;var p=Q.$allocate();return e.send(p,p.$initialize,pe,Re),p},-1),I(Me,"$subclasses",function(){var le=this;if(typeof WeakRef<"u"){var Re,ie,pe=[];for(Re=0;Re<le.$$subclasses.length;Re++)ie=le.$$subclasses[Re].deref(),ie!==void 0&&pe.push(ie);return pe}else return le.$$subclasses}),I(Me,"$superclass",function(){var le=this;return le.$$super||Ke}),I(Me,"$to_s",function ye(){ye.$$p;var le=this;ye.$$p=null;var Re=le.$$singleton_of;return Re&&Re.$$is_a_module?"#<Class:"+Re.$name()+">":Re?"#<Class:#<"+Re.$$class.$name()+":0x"+e.id(Re).$to_s(16)+">>":ue(le,B(le,"to_s",ye,!1,!0),"to_s",[],null)}),I(Me,"$attached_object",function(){var le=this;if(le.$$singleton_of!=null)return le.$$singleton_of;Ae.$raise(qe("TypeError"),"`"+le+"' is not a singleton class")}),ze(Me,"inspect","to_s")}("::",null,Ue)};Opal.modules["corelib/basic_object"]=function(e){var a=e.klass,E=e.slice,V=e.def,I=e.alias,_e=e.return_val,ne=e.Opal,ae=e.truthy,ue=e.range,B=e.Kernel,Ae=e.to_a,ze=e.hash2,xe=e.send,Ue=e.eqeq,Ke=e.rb_ge,qe=e.nil,re=e.$$$;return e.add_stubs("==,raise,inspect,pristine,!,nil?,cover?,size,merge,compile,proc,[],first,>=,length,instance_variable_get,any?,new,caller"),function(Fe,Ve){var Me=a(Fe,Ve,"BasicObject");return V(Me,"$initialize",function(ce){return E(arguments),qe},-1),V(Me,"$==",function(ce){var ye=this;return ye===ce}),V(Me,"$eql?",function(ce){var ye=this;return ye["$=="](ce)}),I(Me,"equal?","=="),V(Me,"$__id__",function(){var ce=this;return ce.$$id!=null||e.prop(ce,"$$id",e.uid()),ce.$$id}),V(Me,"$__send__",function Ie(ce,ye){var le=Ie.$$p||qe,Re,ie,pe=this;Ie.$$p=null,Re=E(arguments,1),ie=Re,ce.$$is_string||pe.$raise(re("TypeError"),""+pe.$inspect()+" is not a symbol nor a string");var Q=pe[e.jsid(ce)];return Q?(le!==qe&&(Q.$$p=le),Q.apply(pe,ie)):(le!==qe&&(pe.$method_missing.$$p=le),pe.$method_missing.apply(pe,[ce].concat(ie)))},-2),V(Me,"$!",_e(!1)),ne.$pristine("!"),V(Me,"$!=",function(ce){var ye=this;return ye["$=="](ce)["$!"]()}),V(Me,"$instance_eval",function Ie(ce){var ye=Ie.$$p||qe,le,Re,ie,pe=this,Q=qe,p=qe,de=qe,F=qe,O=qe,D=qe;if(Ie.$$p=null,le=E(arguments),Re=le,ae(ye["$nil?"]())&&ae(!!e.compile))ae(ue(1,3,!1)["$cover?"](Re.$size()))||B.$raise(re("ArgumentError"),"wrong number of arguments (0 for 1..3)"),ie=[].concat(Ae(Re)),Q=ie[0]==null?qe:ie[0],p=ie[1]==null?qe:ie[1],ie[2]==null||ie[2],de=ze(["file","eval"],{file:ae(F=p)?F:"(eval)",eval:!0}),O=e.hash({arity_check:!1}).$merge(de),D=ne.$compile(Q,O),ye=xe(B,"proc",[],function P(){var h=P.$$s==null?this:P.$$s;return new Function("Opal,self","return "+D)(e,h)},{$$s:pe});else{if(ae(ye["$nil?"]())&&ae(Ke(Re.$length(),1))&&Ue(Re.$first()["$[]"](0),"@"))return pe.$instance_variable_get(Re.$first());ae(Re["$any?"]())&&B.$raise(re("ArgumentError"),"wrong number of arguments ("+Re.$size()+" for 0)")}var Ne=ye.$$s,oe;if(ye.$$s=null,pe.$$is_a_module){pe.$$eval=!0;try{oe=ye.call(pe,pe)}finally{pe.$$eval=!1}}else oe=ye.call(pe,pe);return ye.$$s=Ne,oe},-1),V(Me,"$instance_exec",function Ie(ce){var ye=Ie.$$p||qe,le,Re,ie=this;Ie.$$p=null,le=E(arguments),Re=le,ae(ye)||B.$raise(re("ArgumentError"),"no block given");var pe=ye.$$s,Q;if(ye.$$s=null,ie.$$is_a_module){ie.$$eval=!0;try{Q=ye.apply(ie,Re)}finally{ie.$$eval=!1}}else Q=ye.apply(ie,Re);return ye.$$s=pe,Q},-1),V(Me,"$singleton_method_added",function(ce){return E(arguments),qe},-1),V(Me,"$singleton_method_removed",function(ce){return E(arguments),qe},-1),V(Me,"$singleton_method_undefined",function(ce){return E(arguments),qe},-1),V(Me,"$method_missing",function Ie(ce,ye){Ie.$$p;var le,Re,ie=this,pe=qe;return Ie.$$p=null,le=E(arguments,1),Re=le,pe=ne.$inspect(ie),B.$raise(re("NoMethodError").$new("undefined method `"+ce+"' for "+pe,ce,Re),qe,B.$caller(1))},-2),ne.$pristine(Me,"method_missing"),V(Me,"$respond_to_missing?",function(ce,ye){return!1},-2)}("::",null)};Opal.modules["corelib/kernel"]=function(e){var a=e.truthy,E=e.coerce_to,V=e.respond_to,I=e.Opal,_e=e.deny_frozen_access,ne=e.freeze,ae=e.freeze_props,ue=e.jsid,B=e.module,Ae=e.return_val,ze=e.def,xe=e.Kernel,Ue=e.gvars,Ke=e.slice,qe=e.send,re=e.to_a,Fe=e.ensure_kwargs,Ve=e.eqeq,Me=e.hash2,Ie=e.rb_plus,ce=e.eqeqeq,ye=e.return_self,le=e.rb_le,Re=e.extract_kwargs,ie=e.rb_lt,pe=e.Object,Q=e.alias,p=e.klass,de=[],F=e.nil,O=e.$$$;return e.add_stubs("!,=~,==,object_id,raise,new,class,coerce_to?,<<,map,caller,nil?,allocate,copy_instance_variables,copy_singleton_methods,initialize_clone,frozen?,freeze,initialize_copy,define_method,singleton_class,to_proc,initialize_dup,for,empty?,pop,call,append_features,extend_object,extended,gets,__id__,include?,each,instance_variables,instance_variable_get,inspect,+,to_s,instance_variable_name!,respond_to?,to_int,coerce_to!,Integer,===,enum_for,result,any?,print,format,puts,<=,length,[],readline,<,first,split,to_str,exception,backtrace,rand,respond_to_missing?,pristine,try_convert!,expand_path,join,start_with?,new_seed,srand,tag,value,open,is_a?,__send__,yield_self,include"),function(D,Ne){var oe=B(D,"Kernel"),P=[oe].concat(Ne),h=e.$r(P);ze(oe,"$=~",Ae(!1)),ze(oe,"$!~",function(i){var $=this;return $["$=~"](i)["$!"]()}),ze(oe,"$===",function(i){var $=this,o=F;return a(o=$.$object_id()["$=="](i.$object_id()))?o:$["$=="](i)}),ze(oe,"$<=>",function(i){var $=this;$.$$comparable=!0;var o=$["$=="](i);return o&&o!==F?0:F}),ze(oe,"$method",function(i){var $=this,o=$[ue(i)];return(!o||o.$$stub)&&xe.$raise(O("NameError").$new("undefined method `"+i+"' for class `"+$.$class()+"'",i)),O("Method").$new($,o.$$owner||$.$class(),o,i)}),ze(oe,"$methods",function(i){var $=this;return i==null&&(i=!0),a(i)?e.methods($):e.own_methods($)},-1),ze(oe,"$public_methods",function(i){var $=this;return i==null&&(i=!0),a(i)?e.methods($):e.receiver_methods($)},-1),ze(oe,"$Array",function(i){var $;return i===F?[]:i.$$is_array?i:($=I["$coerce_to?"](i,O("Array"),"to_ary"),$!==F||($=I["$coerce_to?"](i,O("Array"),"to_a"),$!==F)?$:[i])}),ze(oe,"$at_exit",function n(){var i=n.$$p||F,$=F;return Ue.__at_exit__==null&&(Ue.__at_exit__=F),n.$$p=null,Ue.__at_exit__=a($=Ue.__at_exit__)?$:[],Ue.__at_exit__["$<<"](i),i}),ze(oe,"$caller",function(i,$){i==null&&(i=1),$==null&&($=F);var o,v;o=new Error().$backtrace(),v=[];for(var w=i+1,K=o.length;w<K;w++)o[w].match(/runtime\.js/)||v.push(o[w]);return $!=F&&(v=v.slice(0,$)),v},-1),ze(oe,"$caller_locations",function(i){var $,o,v=this;return $=Ke(arguments),o=$,qe(qe(v,"caller",re(o)),"map",[],function(K){return K==null&&(K=F),O(O(O("Thread"),"Backtrace"),"Location").$new(K)})},-1),ze(oe,"$class",function(){var i=this;return i.$$class}),ze(oe,"$copy_instance_variables",function(i){var $=this,o=Object.keys(i),v,w,K;for(v=0,w=o.length;v<w;v++)K=o[v],K.charAt(0)!=="$"&&i.hasOwnProperty(K)&&($[K]=i[K])}),ze(oe,"$copy_singleton_methods",function(i){var $=this,o,v,w,K;if(i.hasOwnProperty("$$meta")&&i.$$meta!==null){var Ce=e.get_singleton_class(i),tt=e.get_singleton_class($);for(w=Object.getOwnPropertyNames(Ce.$$prototype),o=0,K=w.length;o<K;o++)v=w[o],e.is_method(v)&&(tt.$$prototype[v]=Ce.$$prototype[v]);tt.$$const=Object.assign({},Ce.$$const),Object.setPrototypeOf(tt.$$prototype,Object.getPrototypeOf(Ce.$$prototype))}for(o=0,w=Object.getOwnPropertyNames(i),K=w.length;o<K;o++)v=w[o],v.charAt(0)==="$"&&v.charAt(1)!=="$"&&i.hasOwnProperty(v)&&($[v]=i[v])}),ze(oe,"$clone",function(i){var $,o=this,v=F;return i=Fe(i),$=i.$$smap.freeze,$==null&&($=F),a($["$nil?"]())||Ve($,!0)||Ve($,!1)||o.$raise(h("ArgumentError"),"unexpected value for freeze: "+$.$class()),v=o.$class().$allocate(),v.$copy_instance_variables(o),v.$copy_singleton_methods(o),v.$initialize_clone(o,Me(["freeze"],{freeze:$})),(Ve($,!0)||a($["$nil?"]())&&a(o["$frozen?"]()))&&v.$freeze(),v},-1),ze(oe,"$initialize_clone",function(i,$){var o=this;return $=Fe($),$.$$smap.freeze,o.$initialize_copy(i),o},-2),ze(oe,"$define_singleton_method",function n(i,$){var o=n.$$p||F,v=this;return n.$$p=null,qe(v.$singleton_class(),"define_method",[i,$],o.$to_proc())},-2),ze(oe,"$dup",function(){var i=this,$=F;return $=i.$class().$allocate(),$.$copy_instance_variables(i),$.$initialize_dup(i),$}),ze(oe,"$initialize_dup",function(i){var $=this;return $.$initialize_copy(i)}),ze(oe,"$enum_for",function n(i,$){var o=n.$$p||F,v,w,K,Ce=this;return n.$$p=null,v=Ke(arguments),v.length>0&&(w=v.shift()),w==null&&(w="each"),K=v,qe(O("Enumerator"),"for",[Ce,w].concat(re(K)),o.$to_proc())},-1),ze(oe,"$equal?",function(i){var $=this;return $===i}),ze(oe,"$exit",function(i){var $=F,o=F;for(Ue.__at_exit__==null&&(Ue.__at_exit__=F),i==null&&(i=!0),Ue.__at_exit__=a($=Ue.__at_exit__)?$:[];!a(Ue.__at_exit__["$empty?"]());)o=Ue.__at_exit__.$pop(),o.$call();return i.$$is_boolean?i=i?0:1:i=E(i,O("Integer"),"to_int"),e.exit(i),F},-1),ze(oe,"$extend",function(i){var $,o,v=this;$=Ke(arguments),o=$,o.length==0&&v.$raise(O("ArgumentError"),"wrong number of arguments (given 0, expected 1+)"),_e(v);for(var w=v.$singleton_class(),K=o.length-1;K>=0;K--){var Ce=o[K];Ce.$$is_module||xe.$raise(O("TypeError"),"wrong argument type "+Ce.$class()+" (expected Module)"),Ce.$append_features(w),Ce.$extend_object(v),Ce.$extended(v)}return v},-1),ze(oe,"$freeze",function(){var i=this;return a(i["$frozen?"]())?i:typeof i=="object"?(ae(i),ne(i)):i}),ze(oe,"$frozen?",function(){var i=this;switch(typeof i){case"string":case"symbol":case"number":case"boolean":return!0;case"object":return i.$$frozen||!1;default:return!1}}),ze(oe,"$gets",function(i){var $,o;return Ue.stdin==null&&(Ue.stdin=F),$=Ke(arguments),o=$,qe(Ue.stdin,"gets",re(o))},-1),ze(oe,"$hash",function(){var i=this;return i.$__id__()}),ze(oe,"$initialize_copy",Ae(F));var s=[];return ze(oe,"$inspect",function(){var i=this,$=F,o=F,v=F,w=F;return function(){try{try{return $="",o=i.$__id__(),a(s["$include?"](o))?$=" ...":(s["$<<"](o),v=!0,qe(i.$instance_variables(),"each",[],function K(Ce){var tt=K.$$s==null?this:K.$$s,ot=F,lt=F;return Ce==null&&(Ce=F),ot=tt.$instance_variable_get(Ce),lt=h("Opal").$inspect(ot),$=Ie($," "+Ce+"="+lt)},{$$s:i})),"#<"+i.$class()+":0x"+o.$to_s(16)+$+">"}catch(K){if(e.rescue(K,[h("StandardError")])){w=K;try{return"#<"+i.$class()+":0x"+o.$to_s(16)+">"}finally{e.pop_exception()}}else throw K}}finally{a(v)&&s.$pop()}}()}),ze(oe,"$instance_of?",function(i){var $=this;return!i.$$is_class&&!i.$$is_module&&xe.$raise(O("TypeError"),"class or module required"),$.$$class===i}),ze(oe,"$instance_variable_defined?",function(i){var $=this;return i=I["$instance_variable_name!"](i),e.hasOwnProperty.call($,i.substr(1))}),ze(oe,"$instance_variable_get",function(i){var $=this;i=I["$instance_variable_name!"](i);var o=$[e.ivar(i.substr(1))];return o??F}),ze(oe,"$instance_variable_set",function(i,$){var o=this;return _e(o),i=I["$instance_variable_name!"](i),o[e.ivar(i.substr(1))]=$}),ze(oe,"$remove_instance_variable",function(i){var $=this;i=I["$instance_variable_name!"](i);var o=e.ivar(i.substr(1)),v;return $.hasOwnProperty(o)?(v=$[o],delete $[o],v):xe.$raise(O("NameError"),"instance variable "+i+" not defined")}),ze(oe,"$instance_variables",function(){var i=this,$=[],o;for(var v in i)i.hasOwnProperty(v)&&v.charAt(0)!=="$"&&(v.substr(-1)==="$"?o=v.slice(0,v.length-1):o=v,$.push("@"+o));return $}),ze(oe,"$Integer",function(i,$){var o,v,w;return i.$$is_string?i==="0"?0:($===void 0?$=0:($=E($,O("Integer"),"to_int"),($===1||$<0||$>36)&&xe.$raise(O("ArgumentError"),"invalid radix "+$)),v=i.toLowerCase(),v=v.replace(/(\d)_(?=\d)/g,"$1"),v=v.replace(/^(\s*[+-]?)(0[bodx]?)/,function(K,Ce,tt){switch(tt){case"0b":if($===0||$===2)return $=2,Ce;case"0":case"0o":if($===0||$===8)return $=8,Ce;case"0d":if($===0||$===10)return $=10,Ce;case"0x":if($===0||$===16)return $=16,Ce}xe.$raise(O("ArgumentError"),'invalid value for Integer(): "'+i+'"')}),$=$===0?10:$,w="0-"+($<=10?$-1:"9a-"+String.fromCharCode(97+($-11))),new RegExp("^\\s*[+-]?["+w+"]+\\s*$").test(v)||xe.$raise(O("ArgumentError"),'invalid value for Integer(): "'+i+'"'),o=parseInt(v,$),isNaN(o)&&xe.$raise(O("ArgumentError"),'invalid value for Integer(): "'+i+'"'),o):($!==void 0&&xe.$raise(O("ArgumentError"),"base specified for non string value"),i===F&&xe.$raise(O("TypeError"),"can't convert nil into Integer"),i.$$is_number?((i===1/0||i===-1/0||isNaN(i))&&xe.$raise(O("FloatDomainError"),i),Math.floor(i)):i["$respond_to?"]("to_int")&&(o=i.$to_int(),o!==F)?o:I["$coerce_to!"](i,O("Integer"),"to_i"))},-2),ze(oe,"$Float",function(i){var $;return i===F&&xe.$raise(O("TypeError"),"can't convert nil into Float"),i.$$is_string?($=i.toString(),$=$.replace(/(\d)_(?=\d)/g,"$1"),/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test($)?xe.$Integer($):(/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test($)||xe.$raise(O("ArgumentError"),'invalid value for Float(): "'+i+'"'),parseFloat($))):I["$coerce_to!"](i,O("Float"),"to_f")}),ze(oe,"$Hash",function(i){return a(i["$nil?"]())||Ve(i,[])?Me([],{}):ce(O("Hash"),i)?i:I["$coerce_to!"](i,O("Hash"),"to_hash")}),ze(oe,"$is_a?",function(i){var $=this;return!i.$$is_class&&!i.$$is_module&&xe.$raise(O("TypeError"),"class or module required"),e.is_a($,i)}),ze(oe,"$itself",ye),ze(oe,"$lambda",function n(){var i=n.$$p||F;return n.$$p=null,e.lambda(i)}),ze(oe,"$load",function(i){return i=I["$coerce_to!"](i,O("String"),"to_str"),e.load(i)}),ze(oe,"$loop",function n(){var i=n.$$p||F,$=this,o=F;if(n.$$p=null,i===F)return qe($,"enum_for",["loop"],function(){return O(O("Float"),"INFINITY")});for(;a(!0);)try{e.yieldX(i,[])}catch(v){if(e.rescue(v,[O("StopIteration")])){o=v;try{return o.$result()}finally{e.pop_exception()}}else throw v}return $}),ze(oe,"$nil?",Ae(!1)),ze(oe,"$printf",function(i){var $,o,v=this;return $=Ke(arguments),o=$,a(o["$any?"]())&&v.$print(qe(v,"format",re(o))),F},-1),ze(oe,"$proc",function n(){var i=n.$$p||F;return n.$$p=null,a(i)||xe.$raise(O("ArgumentError"),"tried to create Proc object without a block"),i.$$is_lambda=!1,i}),ze(oe,"$puts",function(i){var $,o;return Ue.stdout==null&&(Ue.stdout=F),$=Ke(arguments),o=$,qe(Ue.stdout,"puts",re(o))},-1),ze(oe,"$p",function(i){var $,o;return $=Ke(arguments),o=$,qe(o,"each",[],function(w){return Ue.stdout==null&&(Ue.stdout=F),w==null&&(w=F),Ue.stdout.$puts(w.$inspect())}),a(le(o.$length(),1))?o["$[]"](0):o},-1),ze(oe,"$print",function(i){var $,o;return Ue.stdout==null&&(Ue.stdout=F),$=Ke(arguments),o=$,qe(Ue.stdout,"print",re(o))},-1),ze(oe,"$readline",function(i){var $,o;return Ue.stdin==null&&(Ue.stdin=F),$=Ke(arguments),o=$,qe(Ue.stdin,"readline",re(o))},-1),ze(oe,"$warn",function(i,$){var o,v,w,K,Ce,tt,ot=this,lt=F;return Ue.VERBOSE==null&&(Ue.VERBOSE=F),Ue.stderr==null&&(Ue.stderr=F),o=Ke(arguments),v=Re(o),v=Fe(v),w=o,K=v.$$smap.uplevel,K==null&&(K=F),a(K)&&(K=I["$coerce_to!"](K,O("Integer"),"to_str"),a(ie(K,0))&&xe.$raise(O("ArgumentError"),"negative level ("+K+")"),lt=(Ce=(tt=ot.$caller(Ie(K,1),1).$first(),tt===F||tt==null?F:tt.$split(":in `")),Ce===F||Ce==null?F:Ce.$first()),a(lt)&&(lt=""+lt+": "),w=qe(w,"map",[],function(_t){return _t==null&&(_t=F),""+lt+"warning: "+_t})),a(Ue.VERBOSE["$nil?"]())||a(w["$empty?"]())?F:qe(Ue.stderr,"puts",re(w))},-1),ze(oe,"$raise",function(i,$,o){throw Ue["!"]==null&&(Ue["!"]=F),Ue["@"]==null&&(Ue["@"]=F),$==null&&($=F),o==null&&(o=F),i==null&&Ue["!"]!==F?Ue["!"]:(i==null?i=O("RuntimeError").$new(""):V(i,"$to_str")?i=O("RuntimeError").$new(i.$to_str()):i.$$is_class&&V(i,"$exception")?i=i.$exception($):i.$$is_exception||(i=O("TypeError").$new("exception class/object expected")),o!==F&&i.$set_backtrace(o),Ue["!"]!==F&&e.exceptions.push(Ue["!"]),Ue["!"]=i,Ue["@"]=i.$backtrace(),i)},-1),ze(oe,"$rand",function(i){return i===void 0?O(O("Random"),"DEFAULT").$rand():(i.$$is_number&&(i<0&&(i=Math.abs(i)),i%1!==0&&(i=i.$to_i()),i===0&&(i=void 0)),O(O("Random"),"DEFAULT").$rand(i))},-1),ze(oe,"$respond_to?",function(i,$){var o=this;$==null&&($=!1);var v=o[ue(i)];return typeof v=="function"&&!v.$$stub?!0:o["$respond_to_missing?"].$$pristine===!0?!1:o["$respond_to_missing?"](i,$)},-2),ze(oe,"$respond_to_missing?",function(i,$){return!1},-2),I.$pristine(oe,"respond_to?","respond_to_missing?"),ze(oe,"$require",function(i){return typeof i!="string"&&e.String&&e.Array&&(i=I["$coerce_to!"](i,O("String"),"to_str")),e.require(i)}),ze(oe,"$require_relative",function(i){return I["$try_convert!"](i,O("String"),"to_str"),i=O("File").$expand_path(O("File").$join(e.current_file,"..",i)),e.require(i)}),ze(oe,"$require_tree",function(i,$){var o;$=Fe($),o=$.$$smap.autoload,o==null&&(o=!1);var v=[];i=O("File").$expand_path(i),i=e.normalize(i),i==="."&&(i="");for(var w in e.modules)w["$start_with?"](i)&&(o?v.push([w,!0]):v.push([w,e.require(w)]));return v},-2),ze(oe,"$singleton_class",function(){var i=this;return e.get_singleton_class(i)}),ze(oe,"$sleep",function(i){i==null&&(i=F),i===F&&xe.$raise(O("TypeError"),"can't convert NilClass into time interval"),i.$$is_number||xe.$raise(O("TypeError"),"can't convert "+i.$class()+" into time interval"),i<0&&xe.$raise(O("ArgumentError"),"time interval must be positive");for(var $=e.global.performance?function(){return performance.now()}:function(){return new Date},o=$();$()-o<=i*1e3;);return Math.round(i)},-1),ze(oe,"$srand",function(i){return i==null&&(i=h("Random").$new_seed()),O("Random").$srand(i)},-1),ze(oe,"$String",function(i){var $=F;return a($=I["$coerce_to?"](i,O("String"),"to_str"))?$:I["$coerce_to!"](i,O("String"),"to_s")}),ze(oe,"$tap",function n(){var i=n.$$p||F,$=this;return n.$$p=null,e.yield1(i,$),$}),ze(oe,"$to_proc",ye),ze(oe,"$to_s",function(){var i=this;return"#<"+i.$class()+":0x"+i.$__id__().$to_s(16)+">"}),ze(oe,"$catch",function n(i){var $=n.$$p||F,o=F,v=F;n.$$p=null,i==null&&(i=F);try{return i=a(o=i)?o:pe.$new(),e.yield1($,i)}catch(w){if(e.rescue(w,[O("UncaughtThrowError")])){v=w;try{return Ve(v.$tag(),i)?v.$value():xe.$raise()}finally{e.pop_exception()}}else throw w}},-1),ze(oe,"$throw",function(i,$){return $==null&&($=F),xe.$raise(O("UncaughtThrowError").$new(i,$))},-2),ze(oe,"$open",function n(i){var $=n.$$p||F,o,v;return n.$$p=null,o=Ke(arguments),v=o,qe(O("File"),"open",re(v),$.$to_proc())},-1),ze(oe,"$yield_self",function n(){var i=n.$$p||F,$=this;return n.$$p=null,i===F?qe($,"enum_for",["yield_self"],Ae(1)):e.yield1(i,$)}),Q(oe,"fail","raise"),Q(oe,"kind_of?","is_a?"),Q(oe,"object_id","__id__"),Q(oe,"public_send","__send__"),Q(oe,"send","__send__"),Q(oe,"then","yield_self"),Q(oe,"to_enum","enum_for")}("::",de),function(D,Ne){var oe=p(D,Ne,"Object");return delete pe.$$prototype.$require,oe.$include(xe)}("::",null)};Opal.modules["corelib/main"]=function(e){var a=e.return_val,E=e.def,V=e.Object,I=e.slice,_e=e.Kernel,ne=e.top;return e.nil,e.add_stubs("include,raise"),function(ae,ue){return E(ae,"$to_s",a("main")),E(ae,"$include",function(Ae){return V.$include(Ae)}),E(ae,"$autoload",function(Ae){var ze,xe;return ze=I(arguments),xe=ze,e.Object.$autoload.apply(e.Object,xe)},-1),E(ae,"$using",function(Ae){return _e.$raise("main.using is permitted only at toplevel")})}(e.get_singleton_class(ne))};Opal.modules["corelib/error/errno"]=function(e){var a=e.module,E=e.truthy,V=e.rb_plus,I=e.send2,_e=e.find_super,ne=e.def,ae=e.klass,ue=e.nil,B=e.$$$;return e.add_stubs("+,errno,class,attr_reader"),function(Ae,ze){var xe=a(Ae,"Errno"),Ue=ue,Ke=ue;Ue=[["EINVAL","Invalid argument",22],["EEXIST","File exists",17],["EISDIR","Is a directory",21],["EMFILE","Too many open files",24],["ESPIPE","Illegal seek",29],["EACCES","Permission denied",13],["EPERM","Operation not permitted",1],["ENOENT","No such file or directory",2],["ENAMETOOLONG","File name too long",36]],Ke=ue;var qe;for(qe=0;qe<Ue.length;qe++)(function(){var re=Ue[qe][0],Fe=Ue[qe][1],Ve=Ue[qe][2];Ke=e.klass(xe,e.SystemCallError,re),Ke.errno=Ve,function(Me,Ie){return ne(Me,"$new",function ce(ye){ce.$$p;var le=this,Re=ue;return ce.$$p=null,ye==null&&(ye=ue),Re=Fe,E(ye)&&(Re=V(Re," - "+ye)),I(le,_e(le,"new",ce,!1,!0),"new",[Re],null)},-1)}(e.get_singleton_class(Ke))})()}("::"),function(Ae,ze,xe){var Ue=ae(Ae,ze,"SystemCallError");return ne(Ue,"$errno",function(){var qe=this;return qe.$class().$errno()}),function(Ke,qe){return Ke.$attr_reader("errno")}(e.get_singleton_class(Ue))}("::",B("StandardError"))};Opal.modules["corelib/error"]=function(e){var a=e.klass,E=e.slice,V=e.gvars,I=e.defs,_e=e.send,ne=e.to_a,ae=e.def,ue=e.truthy,B=e.hash2,Ae=e.Kernel,ze=e.not,xe=e.rb_plus,Ue=e.eqeq,Ke=e.Object,qe=e.ensure_kwargs,re=e.send2,Fe=e.find_super,Ve=e.module,Me=[],Ie=e.nil,ce=e.$$$;return e.add_stubs("new,map,backtrace,clone,to_s,merge,tty?,[],include?,raise,dup,empty?,!,caller,shift,+,class,join,cause,full_message,==,reverse,split,autoload,attr_reader,inspect"),function(ye,le,Re){var ie=a(ye,le,"Exception"),pe=[ie].concat(Re),Q=e.$r(pe),p=ie.$$prototype;p.message=Ie,e.prop(ie.$$prototype,"$$is_exception",!0);var de;Error.stackTraceLimit=100,I(ie,"$new",function(D){var Ne,oe,P=this;V["!"]==null&&(V["!"]=Ie),Ne=E(arguments),oe=Ne;var h=oe.length>0?oe[0]:Ie,s=new P.$$constructor(h);return s.name=P.$$name,s.message=h,s.cause=V["!"],e.send(s,s.$initialize,oe),e.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(s,de),s},-1),de=ie.$new,I(ie,"$exception",function(D){var Ne,oe,P=this;return Ne=E(arguments),oe=Ne,_e(P,"new",ne(oe))},-1),ae(ie,"$initialize",function(D){var Ne,oe,P=this;return Ne=E(arguments),oe=Ne,P.message=oe.length>0?oe[0]:Ie},-1);function F(O){for(var D=[],Ne,oe=0;oe<O.length;oe++){var P=O[oe];!P||!P.$$is_string||((Ne=P.match(/^    at (.*?) \((.*?)\)$/))?D.push(Ne[2]+":in `"+Ne[1]+"'"):(Ne=P.match(/^    at (.*?)$/))?D.push(Ne[1]+":in `undefined'"):(Ne=P.match(/^  from (.*?)$/))?D.push(Ne[1]):(Ne=P.match(/^(.*?)@(.*?)$/))&&D.push(Ne[2]+":in `"+Ne[1]+"'"))}return D}return ae(ie,"$backtrace",function(){var D=this;if(D.backtrace)return D.backtrace;var Ne=D.stack;return typeof Ne<"u"&&Ne.$$is_string?D.backtrace=F(Ne.split(`
`)):Ne?D.backtrace=F(Ne):[]}),ae(ie,"$backtrace_locations",function(){var D,Ne=this;return Ne.backtrace_locations||(Ne.backtrace_locations=(D=Ne.$backtrace(),D===Ie||D==null?Ie:_e(D,"map",[],function(P){return P==null&&(P=Ie),ce(ce(ce("Thread"),"Backtrace"),"Location").$new(P)}))),Ne.backtrace_locations}),ae(ie,"$cause",function(){var D=this;return D.cause||Ie}),ae(ie,"$exception",function(D){var Ne=this;if(D==null&&(D=Ie),D===Ie||Ne===D)return Ne;var oe=Ne.$clone();return oe.message=D,Ne.backtrace&&(oe.backtrace=Ne.backtrace.$dup()),oe.stack=Ne.stack,oe.cause=Ne.cause,oe},-1),ae(ie,"$message",function(){var D=this;return D.$to_s()}),ae(ie,"$full_message",function(D){var Ne,oe=this,P=Ie,h=Ie,s=Ie,n=Ie,i=Ie,$=Ie,o=Ie,v=Ie,w=Ie;return V.stderr==null&&(V.stderr=Ie),D==null&&(D=Ie),ue(Q("Hash","skip_raise")?"constant":Ie)?(D=B(["highlight","order"],{highlight:V.stderr["$tty?"](),order:"top"}).$merge(ue(P=D)?P:B([],{})),Ne=[D["$[]"]("highlight"),D["$[]"]("order")],h=Ne[0],s=Ne[1],ue([!0,!1]["$include?"](h))||Ae.$raise(ce("ArgumentError"),"expected true or false as highlight: "+h),ue(["top","bottom"]["$include?"](s))||Ae.$raise(ce("ArgumentError"),"expected :top or :bottom as order: "+s),ue(h)?(n="\x1B[1;4m",i="\x1B[1m",$="\x1B[m"):n=i=$="",o=oe.$backtrace().$dup(),(ze(o)||ue(o["$empty?"]()))&&(o=oe.$caller()),v=o.$shift(),w=""+v+": ",w=xe(w,""+i+oe.$to_s()+" ("+n+oe.$class()+$+i+")"+$+`
`),w=xe(w,_e(o,"map",[],function(Ce){return Ce==null&&(Ce=Ie),"	from "+Ce+`
`}).$join()),ue(oe.$cause())&&(w=xe(w,oe.$cause().$full_message(B(["highlight"],{highlight:h})))),Ue(s,"bottom")&&(w=w.$split(`
`).$reverse().$join(`
`),w=xe(""+i+"Traceback"+$+` (most recent call last):
`,w)),w):""+oe.message+`
`+oe.stack},-1),ae(ie,"$inspect",function(){var D=this,Ne=Ie;return Ne=D.$to_s(),ue(Ne["$empty?"]())?D.$class().$to_s():"#<"+D.$class().$to_s()+": "+D.$to_s()+">"}),ae(ie,"$set_backtrace",function(D){var Ne=this,oe=!0,P,h;if(D===Ie)Ne.backtrace=Ie,Ne.stack="";else if(D.$$is_string)Ne.backtrace=[D],Ne.stack="  from "+D;else{if(D.$$is_array){for(P=0,h=D.length;P<h;P++)if(!D[P].$$is_string){oe=!1;break}}else oe=!1;oe===!1&&Ae.$raise(ce("TypeError"),"backtrace must be Array of String"),Ne.backtrace=D,Ne.stack=_e(D,"map",[],function(n){return n==null&&(n=Ie),xe("  from ",n)}).join(`
`)}return D}),ae(ie,"$to_s",function(){var D=this,Ne=Ie,oe=Ie;return ue(Ne=ue(oe=D.message)?D.message.$to_s():oe)?Ne:D.$class().$to_s()})}("::",Error,Me),a("::",ce("Exception"),"ScriptError"),a("::",ce("ScriptError"),"SyntaxError"),a("::",ce("ScriptError"),"LoadError"),a("::",ce("ScriptError"),"NotImplementedError"),a("::",ce("Exception"),"SystemExit"),a("::",ce("Exception"),"NoMemoryError"),a("::",ce("Exception"),"SignalException"),a("::",ce("SignalException"),"Interrupt"),a("::",ce("Exception"),"SecurityError"),a("::",ce("Exception"),"SystemStackError"),a("::",ce("Exception"),"StandardError"),a("::",ce("StandardError"),"EncodingError"),a("::",ce("StandardError"),"ZeroDivisionError"),a("::",ce("StandardError"),"NameError"),a("::",ce("NameError"),"NoMethodError"),a("::",ce("StandardError"),"RuntimeError"),a("::",ce("RuntimeError"),"FrozenError"),a("::",ce("StandardError"),"LocalJumpError"),a("::",ce("StandardError"),"TypeError"),a("::",ce("StandardError"),"ArgumentError"),a("::",ce("ArgumentError"),"UncaughtThrowError"),a("::",ce("StandardError"),"IndexError"),a("::",ce("IndexError"),"StopIteration"),a("::",ce("StopIteration"),"ClosedQueueError"),a("::",ce("IndexError"),"KeyError"),a("::",ce("StandardError"),"RangeError"),a("::",ce("RangeError"),"FloatDomainError"),a("::",ce("StandardError"),"IOError"),a("::",ce("IOError"),"EOFError"),a("::",ce("StandardError"),"SystemCallError"),a("::",ce("StandardError"),"RegexpError"),a("::",ce("StandardError"),"ThreadError"),a("::",ce("StandardError"),"FiberError"),Ke.$autoload("Errno","corelib/error/errno"),function(ye,le){var Re=a(ye,le,"FrozenError");return Re.$attr_reader("receiver"),ae(Re,"$initialize",function ie(pe,Q){var p;ie.$$p;var de=this;return ie.$$p=null,Q=qe(Q),p=Q.$$smap.receiver,p==null&&(p=Ie),re(de,Fe(de,"initialize",ie,!1,!0),"initialize",[pe],null),de.receiver=p},-2)}("::",ce("RuntimeError")),function(ye,le){var Re=a(ye,le,"UncaughtThrowError"),ie=Re.$$prototype;return ie.tag=Ie,Re.$attr_reader("tag","value"),ae(Re,"$initialize",function pe(Q,p){pe.$$p;var de=this;return pe.$$p=null,p==null&&(p=Ie),de.tag=Q,de.value=p,re(de,Fe(de,"initialize",pe,!1,!0),"initialize",["uncaught throw "+de.tag.$inspect()],null)},-2)}("::",ce("ArgumentError")),function(ye,le){var Re=a(ye,le,"NameError");return Re.$attr_reader("name"),ae(Re,"$initialize",function ie(pe,Q){ie.$$p;var p=this;return ie.$$p=null,Q==null&&(Q=Ie),re(p,Fe(p,"initialize",ie,!1,!0),"initialize",[pe],null),p.name=Q},-2)}("::",null),function(ye,le){var Re=a(ye,le,"NoMethodError");return Re.$attr_reader("args"),ae(Re,"$initialize",function ie(pe,Q,p){ie.$$p;var de=this;return ie.$$p=null,Q==null&&(Q=Ie),p==null&&(p=[]),re(de,Fe(de,"initialize",ie,!1,!0),"initialize",[pe,Q],null),de.args=p},-2)}("::",null),function(ye,le){var Re=a(ye,le,"StopIteration");return Re.$attr_reader("result")}("::",null),function(ye,le){var Re=a(ye,le,"KeyError"),ie=Re.$$prototype;return ie.receiver=ie.key=Ie,ae(Re,"$initialize",function pe(Q,p){var de,F;pe.$$p;var O=this;return pe.$$p=null,p=qe(p),de=p.$$smap.receiver,de==null&&(de=Ie),F=p.$$smap.key,F==null&&(F=Ie),re(O,Fe(O,"initialize",pe,!1,!0),"initialize",[Q],null),O.receiver=de,O.key=F},-2),ae(Re,"$receiver",function(){var Q=this,p=Ie;return ue(p=Q.receiver)?p:Ae.$raise(ce("ArgumentError"),"no receiver is available")}),ae(Re,"$key",function(){var Q=this,p=Ie;return ue(p=Q.key)?p:Ae.$raise(ce("ArgumentError"),"no key is available")})}("::",null),function(ye,le){var Re=Ve(ye,"JS"),ie=[Re].concat(le);return a(ie[0],null,"Error"),Ie}("::",Me)};Opal.modules["corelib/constants"]=function(e){var a=e.const_set;e.nil;var E=e.$$$;return a("::","RUBY_PLATFORM","opal"),a("::","RUBY_ENGINE","opal"),a("::","RUBY_VERSION","3.2.0"),a("::","RUBY_ENGINE_VERSION","1.7.3"),a("::","RUBY_RELEASE_DATE","2023-03-23"),a("::","RUBY_PATCHLEVEL",0),a("::","RUBY_REVISION","0"),a("::","RUBY_COPYRIGHT","opal - Copyright (C) 2011-2023 Adam Beynon and the Opal contributors"),a("::","RUBY_DESCRIPTION","opal "+E("RUBY_ENGINE_VERSION")+" ("+E("RUBY_RELEASE_DATE")+" revision "+E("RUBY_REVISION")+")")};Opal.modules["opal/base"]=function(e){var a=e.Object;return e.nil,e.add_stubs("require"),a.$require("corelib/runtime"),a.$require("corelib/helpers"),a.$require("corelib/module"),a.$require("corelib/class"),a.$require("corelib/basic_object"),a.$require("corelib/kernel"),a.$require("corelib/main"),a.$require("corelib/error"),a.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(e){var a=e.klass,E=e.Kernel,V=e.def,I=e.return_val,_e=e.ensure_kwargs,ne=e.NilClass,ae=e.slice,ue=e.truthy,B=e.rb_gt,Ae=e.alias,ze=e.nil,xe=e.$$$;return e.add_stubs("raise,name,new,>,length,Rational,to_i"),function(Ue,Ke,qe){var re=a(Ue,Ke,"NilClass");return re.$$prototype.$$meta=re,function(Fe,Ve){return V(Fe,"$allocate",function(){var Ie=this;return E.$raise(xe("TypeError"),"allocator undefined for "+Ie.$name())}),e.udef(Fe,"$new"),ze}(e.get_singleton_class(re)),V(re,"$!",I(!0)),V(re,"$&",I(!1)),V(re,"$|",function(Ve){return Ve!==!1&&Ve!==ze}),V(re,"$^",function(Ve){return Ve!==!1&&Ve!==ze}),V(re,"$==",function(Ve){return Ve===ze}),V(re,"$dup",I(ze)),V(re,"$clone",function(Ve){return Ve=_e(Ve),Ve.$$smap.freeze,ze},-1),V(re,"$inspect",I("nil")),V(re,"$nil?",I(!0)),V(re,"$singleton_class",function(){return ne}),V(re,"$to_a",function(){return[]}),V(re,"$to_h",function(){return e.hash()}),V(re,"$to_i",I(0)),V(re,"$to_s",I("")),V(re,"$to_c",function(){return xe("Complex").$new(0,0)}),V(re,"$rationalize",function(Ve){var Me,Ie;return Me=ae(arguments),Ie=Me,ue(B(Ie.$length(),1))&&E.$raise(xe("ArgumentError")),E.$Rational(0,1)},-1),V(re,"$to_r",function(){return E.$Rational(0,1)}),V(re,"$instance_variables",function(){return[]}),Ae(re,"to_f","to_i")}("::",null)};Opal.modules["corelib/boolean"]=function(e){var a=e.klass,E=e.Kernel,V=e.def,I=e.return_self,_e=e.ensure_kwargs,ne=e.slice,ae=e.truthy,ue=e.send2,B=e.find_super,Ae=e.to_a,ze=e.alias,xe=e.nil,Ue=e.$$$;return e.add_stubs("raise,name,==,to_s,__id__"),function(Ke,qe,re){var Fe=a(Ke,qe,"Boolean");e.prop(Fe.$$prototype,"$$is_boolean",!0);for(var Ve=["$$class","$$meta"],Me=0;Me<Ve.length;Me++)Object.defineProperty(Fe.$$prototype,Ve[Me],{configurable:!0,enumerable:!1,get:function(){return this==!0?e.TrueClass:this==!1?e.FalseClass:e.Boolean}});return Object.defineProperty(Fe.$$prototype,"$$id",{configurable:!0,enumerable:!1,get:function(){return this==!0?2:this==!1?0:xe}}),function(Ie,ce){return V(Ie,"$allocate",function(){var le=this;return E.$raise(Ue("TypeError"),"allocator undefined for "+le.$name())}),e.udef(Ie,"$new"),xe}(e.get_singleton_class(Fe)),V(Fe,"$__id__",function(){var ce=this;return ce.valueOf()?2:0}),V(Fe,"$!",function(){var ce=this;return ce!=!0}),V(Fe,"$&",function(ce){var ye=this;return ye==!0?ce!==!1&&ce!==xe:!1}),V(Fe,"$|",function(ce){var ye=this;return ye==!0?!0:ce!==!1&&ce!==xe}),V(Fe,"$^",function(ce){var ye=this;return ye==!0?ce===!1||ce===xe:ce!==!1&&ce!==xe}),V(Fe,"$==",function(ce){var ye=this;return ye==!0===ce.valueOf()}),V(Fe,"$singleton_class",function(){var ce=this;return ce.$$meta}),V(Fe,"$to_s",function(){var ce=this;return ce==!0?"true":"false"}),V(Fe,"$dup",I),V(Fe,"$clone",function(ce){var ye=this;return ce=_e(ce),ce.$$smap.freeze,ye},-1),V(Fe,"$method_missing",function Ie(ce,ye){var le=Ie.$$p||xe,Re,ie,pe=this;Ie.$$p=null,Re=ne(arguments,1),ie=Re;var Q=pe.$$class.$$prototype[e.jsid(ce)];return ae(typeof Q<"u"&&!Q.$$stub)||ue(pe,B(pe,"method_missing",Ie,!1,!0),"method_missing",[ce].concat(Ae(ie)),le),e.send(pe,Q,ie,le)},-2),V(Fe,"$respond_to_missing?",function(ce,ye){var le=this,Re=le.$$class.$$prototype[e.jsid(ce)];return typeof Re<"u"&&!Re.$$stub},-2),ze(Fe,"eql?","=="),ze(Fe,"equal?","=="),ze(Fe,"inspect","to_s"),ze(Fe,"object_id","__id__")}("::",Boolean),a("::",Ue("Boolean"),"TrueClass"),a("::",Ue("Boolean"),"FalseClass"),xe};Opal.modules["corelib/comparable"]=function(e){var a=e.truthy,E=e.module,V=e.rb_gt,I=e.rb_lt,_e=e.eqeqeq,ne=e.Kernel,ae=e.def,ue=e.nil,B=e.$$$;return e.add_stubs(">,<,===,raise,class,<=>,equal?"),function(Ae){var ze=E(Ae,"Comparable"),xe=ue;function Ue(re){return e.is_a(re,e.Integer)?re:V(re,0)?1:I(re,0)?-1:0}function Ke(re,Fe){var Ve;_e(ue,xe=Fe)||_e(!0,xe)||_e(!1,xe)||_e(B("Integer"),xe)||_e(B("Float"),xe)?Ve=Fe.$inspect():Ve=Fe.$$class,ne.$raise(B("ArgumentError"),"comparison of "+re.$class()+" with "+Ve+" failed")}function qe(re,Fe){var Ve=re["$<=>"](Fe);return a(Ve)||Ke(re,Fe),Ue(Ve)}return ae(ze,"$==",function(Fe){var Ve=this,Me=ue;return a(Ve["$equal?"](Fe))?!0:Ve["$<=>"]==e.Kernel["$<=>"]?!1:Ve.$$comparable?(Ve.$$comparable=!1,!1):a(Me=Ve["$<=>"](Fe))?Ue(Me)==0:!1}),ae(ze,"$>",function(Fe){var Ve=this;return qe(Ve,Fe)>0}),ae(ze,"$>=",function(Fe){var Ve=this;return qe(Ve,Fe)>=0}),ae(ze,"$<",function(Fe){var Ve=this;return qe(Ve,Fe)<0}),ae(ze,"$<=",function(Fe){var Ve=this;return qe(Ve,Fe)<=0}),ae(ze,"$between?",function(Fe,Ve){var Me=this;return!(I(Me,Fe)||V(Me,Ve))}),ae(ze,"$clamp",function(Fe,Ve){var Me=this;Ve==null&&(Ve=ue);var Ie,ce;if(Ve===ue&&(e.is_a(Fe,e.Range)||ne.$raise(B("TypeError"),"wrong argument type "+Fe.$class()+" (expected Range)"),ce=Fe.excl,Ve=Fe.end,Fe=Fe.begin,Ve!==ue&&ce&&ne.$raise(B("ArgumentError"),"cannot clamp with an exclusive range")),Fe!==ue&&Ve!==ue&&qe(Fe,Ve)>0&&ne.$raise(B("ArgumentError"),"min argument must be smaller than max argument"),Fe!==ue){if(Ie=qe(Me,Fe),Ie==0)return Me;if(Ie<0)return Fe}return Ve!==ue&&(Ie=qe(Me,Ve),Ie>0)?Ve:Me},-2)}("::")};Opal.modules["corelib/regexp"]=function(e){var a=e.coerce_to,E=e.prop,V=e.freeze,I=e.klass,_e=e.const_set,ne=e.send2,ae=e.find_super,ue=e.def,B=e.truthy,Ae=e.gvars,ze=e.slice,xe=e.Kernel,Ue=e.Opal,Ke=e.alias,qe=e.send,re=e.hash2,Fe=e.rb_plus,Ve=e.ensure_kwargs,Me=e.rb_ge,Ie=e.to_a,ce=e.eqeqeq,ye=e.rb_minus,le=e.return_ivar,Re=[],ie=e.nil,pe=e.$$$;return e.add_stubs("nil?,[],raise,escape,options,to_str,new,join,coerce_to!,!,match,coerce_to?,begin,frozen?,uniq,map,scan,source,to_proc,transform_values,group_by,each_with_index,+,last,=~,==,attr_reader,>=,length,is_a?,include?,names,regexp,named_captures,===,captures,-,inspect,empty?,each,to_a"),I("::",pe("StandardError"),"RegexpError"),function(Q,p,de){var F=I(Q,p,"Regexp"),O=[F].concat(de),D=e.$r(O);return _e(F,"IGNORECASE",1),_e(F,"EXTENDED",2),_e(F,"MULTILINE",4),e.prop(F.$$prototype,"$$is_regexp",!0),function(Ne,oe){var P=[Ne].concat(oe),h=e.$r(P);return ue(Ne,"$allocate",function s(){var n=s.$$p||ie,i=this,$=ie;return s.$$p=null,$=ne(i,ae(i,"allocate",s,!1,!0),"allocate",[],n),$.uninitialized=!0,$}),ue(Ne,"$escape",function(n){return e.escape_regexp(n)}),ue(Ne,"$last_match",function(n){return Ae["~"]==null&&(Ae["~"]=ie),n==null&&(n=ie),B(n["$nil?"]())?Ae["~"]:B(Ae["~"])?Ae["~"]["$[]"](n):ie},-1),ue(Ne,"$union",function(n){var i,$,o=this;i=ze(arguments),$=i;var v,w,K,Ce,tt;if($.length==0)return/(?!)/;if($.length==1&&$[0].$$is_regexp)return $[0];v=$[0].$$is_array,$.length>1&&v&&xe.$raise(pe("TypeError"),"no implicit conversion of Array into String"),v&&($=$[0]),Ce=void 0,w=[];for(var ot=0;ot<$.length;ot++)K=$[ot],K.$$is_string?w.push(o.$escape(K)):K.$$is_regexp?(tt=K.$options(),Ce!=null&&Ce!=tt&&xe.$raise(pe("TypeError"),"All expressions must use the same options"),Ce=tt,w.push("("+K.source+")")):w.push(o.$escape(K.$to_str()));return o.$new(w.$join("|"),Ce)},-1),ue(Ne,"$new",function(n,i){if(n.$$is_regexp)return new RegExp(n);if(n=Ue["$coerce_to!"](n,pe("String"),"to_str"),n.charAt(n.length-1)==="\\"&&n.charAt(n.length-2)!=="\\"&&xe.$raise(pe("RegexpError"),"too short escape sequence: /"+n+"/"),n=n.replace("\\A","^").replace("\\z","$"),i===void 0||i["$!"]())return new RegExp(n);if(i.$$is_number){var $="";h("IGNORECASE")&i&&($+="i"),h("MULTILINE")&i&&($+="m"),i=$}else i="i";return new RegExp(n,i)},-2),Ke(Ne,"compile","new"),Ke(Ne,"quote","escape")}(e.get_singleton_class(F),O),ue(F,"$==",function(oe){var P=this;return oe instanceof RegExp&&P.toString()===oe.toString()}),ue(F,"$===",function(oe){var P=this;return P.$match(Ue["$coerce_to?"](oe,pe("String"),"to_str"))!==ie}),ue(F,"$=~",function(oe){var P=this,h=ie;return Ae["~"]==null&&(Ae["~"]=ie),B(h=P.$match(oe))?Ae["~"].$begin(0):h}),ue(F,"$freeze",function(){var oe=this;return B(oe["$frozen?"]())?oe:(oe.hasOwnProperty("$$g")||E(oe,"$$g",null),oe.hasOwnProperty("$$gm")||E(oe,"$$gm",null),V(oe))}),ue(F,"$inspect",function(){var oe=this,P=/^\/(.*)\/([^\/]*)$/,h=oe.toString(),s=P.exec(h);if(s){for(var n=s[1],i=s[2],$=n.split(""),o=$.length,v=!1,w="",K=0;K<o;K++){var Ce=$[K];!v&&Ce=="/"&&(w=w.concat("\\")),w=w.concat(Ce),Ce=="\\"?v?v=!1:v=!0:v=!1}return"/"+w+"/"+i}else return h}),ue(F,"$match",function Ne(oe,P){var h=Ne.$$p||ie,s=this;if(Ae["~"]==null&&(Ae["~"]=ie),Ne.$$p=null,s.uninitialized&&xe.$raise(pe("TypeError"),"uninitialized Regexp"),P===void 0){if(oe===ie)return Ae["~"]=ie;var n=s.exec(a(oe,pe("String"),"to_str"));return n?(Ae["~"]=pe("MatchData").$new(s,n),h===ie?Ae["~"]:e.yield1(h,Ae["~"])):Ae["~"]=ie}if(P=a(P,pe("Integer"),"to_int"),oe===ie||(oe=a(oe,pe("String"),"to_str"),P<0&&(P+=oe.length,P<0)))return Ae["~"]=ie;for(var i,$=e.global_regexp(s);;){if(i=$.exec(oe),i===null)return Ae["~"]=ie;if(i.index>=P)return Ae["~"]=pe("MatchData").$new($,i),h===ie?Ae["~"]:e.yield1(h,Ae["~"]);$.lastIndex=i.index+1}},-2),ue(F,"$match?",function(oe,P){var h=this;if(h.uninitialized&&xe.$raise(pe("TypeError"),"uninitialized Regexp"),P===void 0)return oe===ie?!1:h.test(a(oe,pe("String"),"to_str"));if(P=a(P,pe("Integer"),"to_int"),oe===ie||(oe=a(oe,pe("String"),"to_str"),P<0&&(P+=oe.length,P<0)))return!1;var s,n=e.global_regexp(h);return s=n.exec(oe),!(s===null||s.index<P)},-2),ue(F,"$names",function(){var oe=this;return qe(oe.$source().$scan(/\(?<(\w+)>/,re(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$uniq()}),ue(F,"$named_captures",function(){var oe=this;return qe(qe(qe(oe.$source().$scan(/\(?<(\w+)>/,re(["no_matchdata"],{no_matchdata:!0})),"map",[],"first".$to_proc()).$each_with_index(),"group_by",[],"first".$to_proc()),"transform_values",[],function(h){return h==null&&(h=ie),qe(h,"map",[],function(n){return n==null&&(n=ie),Fe(n.$last(),1)})})}),ue(F,"$~",function(){var oe=this;return Ae._==null&&(Ae._=ie),oe["$=~"](Ae._)}),ue(F,"$source",function(){var oe=this;return oe.source}),ue(F,"$options",function(){var oe=this;oe.uninitialized&&xe.$raise(pe("TypeError"),"uninitialized Regexp");var P=0;return oe.multiline&&(P|=D("MULTILINE")),oe.ignoreCase&&(P|=D("IGNORECASE")),P}),ue(F,"$casefold?",function(){var oe=this;return oe.ignoreCase}),Ke(F,"eql?","=="),Ke(F,"to_s","source")}("::",RegExp,Re),function(Q,p,de){var F=I(Q,p,"MatchData"),O=[F].concat(de),D=e.$r(O),Ne=F.$$prototype;return Ne.matches=ie,F.$attr_reader("post_match","pre_match","regexp","string"),ue(F,"$initialize",function(P,h,s){var n,i=this;s=Ve(s),n=s.$$smap.no_matchdata,n==null&&(n=!1),B(n)||(Ae["~"]=i),i.regexp=P,i.begin=h.index,i.string=h.input,i.pre_match=h.input.slice(0,h.index),i.post_match=h.input.slice(h.index+h[0].length),i.matches=[];for(var $=0,o=h.length;$<o;$++){var v=h[$];v==null?i.matches.push(ie):i.matches.push(v)}},-3),ue(F,"$match",function(P){var h=this,s=ie;return B(s=h["$[]"](P))?s:B(P["$is_a?"](D("Integer")))&&B(Me(P,h.$length()))?xe.$raise(pe("IndexError"),"index "+P+" out of matches"):ie}),ue(F,"$match_length",function(P){var h,s=this;return h=s.$match(P),h===ie||h==null?ie:h.$length()}),ue(F,"$[]",function(P){var h,s,n=this;return h=ze(arguments),s=h,s[0].$$is_string?(n.$regexp().$names()["$include?"](s["$[]"](0))["$!"]()&&xe.$raise(pe("IndexError"),"undefined group name reference: "+s["$[]"](0)),n.$named_captures()["$[]"](s["$[]"](0))):qe(n.matches,"[]",Ie(s))},-1),ue(F,"$offset",function(P){var h=this;return P!==0&&xe.$raise(pe("ArgumentError"),"MatchData#offset only supports 0th element"),[h.begin,h.begin+h.matches[P].length]}),ue(F,"$==",function(P){var h=this,s=ie,n=ie,i=ie,$=ie;return ce(pe("MatchData"),P)?B(s=B(n=B(i=B($=h.string==P.string)?h.regexp.toString()==P.regexp.toString():$)?h.pre_match==P.pre_match:i)?h.post_match==P.post_match:n)?h.begin==P.begin:s:!1}),ue(F,"$begin",function(P){var h=this;return P!==0&&xe.$raise(pe("ArgumentError"),"MatchData#begin only supports 0th element"),h.begin}),ue(F,"$end",function(P){var h=this;return P!==0&&xe.$raise(pe("ArgumentError"),"MatchData#end only supports 0th element"),h.begin+h.matches[P].length}),ue(F,"$captures",function(){var P=this;return P.matches.slice(1)}),ue(F,"$named_captures",function(){var P=this,h=ie;return h=P.$captures(),qe(P.$regexp().$named_captures(),"transform_values",[],function(n){return n==null&&(n=ie),h["$[]"](ye(n.$last(),1))})}),ue(F,"$names",function(){var P=this;return P.$regexp().$names()}),ue(F,"$inspect",function(){var P=this,h="#<MatchData "+P.matches[0].$inspect();if(P.$regexp().$names()["$empty?"]())for(var s=1,n=P.matches.length;s<n;s++)h+=" "+s+":"+P.matches[s].$inspect();else qe(P.$named_captures(),"each",[],function($,o){return $==null&&($=ie),o==null&&(o=ie),h+=" "+$+":"+o.$inspect()});return h+">"}),ue(F,"$length",function(){var P=this;return P.matches.length}),ue(F,"$to_a",le("matches")),ue(F,"$to_s",function(){var P=this;return P.matches[0]}),ue(F,"$values_at",function(P){var h,s,n=this;h=ze(arguments),s=h;var i,$,o,v=[];for(i=0;i<s.length;i++){if(s[i].$$is_range&&($=s[i].$to_a(),$.unshift(i,1),Array.prototype.splice.apply(s,$)),o=Ue["$coerce_to!"](s[i],pe("Integer"),"to_int"),o<0&&(o+=n.matches.length,o<0)){v.push(ie);continue}v.push(n.matches[o])}return v},-1),Ke(F,"eql?","=="),Ke(F,"size","length")}(Re[0],null,Re)};Opal.modules["corelib/string"]=function(e){var a=e.coerce_to,E=e.respond_to,V=e.global_multiline_regexp,I=e.prop,_e=e.klass,ne=e.def,ae=e.Opal,ue=e.defs,B=e.slice,Ae=e.send,ze=e.to_a,xe=e.extract_kwargs,Ue=e.ensure_kwargs,Ke=e.eqeqeq,qe=e.Kernel,re=e.truthy,Fe=e.gvars,Ve=e.rb_divide,Me=e.rb_plus,Ie=e.eqeq,ce=e.hash2,ye=e.alias,le=e.const_set,Re=e.top,ie=[],pe=e.$r(ie),Q=e.nil,p=e.$$$;return e.add_stubs("require,include,coerce_to?,initialize,===,format,raise,respond_to?,to_s,to_str,<=>,==,=~,new,force_encoding,casecmp,empty?,ljust,ceil,/,+,rjust,floor,coerce_to!,nil?,class,copy_singleton_methods,initialize_clone,initialize_dup,enum_for,chomp,[],to_i,length,each_line,to_proc,to_a,match,match?,captures,proc,succ,escape,include?,upcase,unicode_normalize,dup,__id__,next,intern,pristine"),Re.$require("corelib/comparable"),Re.$require("corelib/regexp"),function(de,F,O){var D=_e(de,F,"String"),Ne=[D].concat(O),oe=e.$r(Ne);D.$include(p("Comparable")),e.prop(D.$$prototype,"$$is_string",!0),ne(D,"$__id__",function(){var s=this;return s.toString()}),ue(D,"$try_convert",function(s){return ae["$coerce_to?"](s,p("String"),"to_str")}),ue(D,"$new",function(s){var n,i,$=this;n=B(arguments),i=n;var o=i[0]||"",v=i[i.length-1];return o=a(o,p("String"),"to_str"),v&&v.$$is_hash&&v.$$smap.encoding&&(o=o.$force_encoding(v.$$smap.encoding)),o=new $.$$constructor(o),o.$initialize.$$pristine||Ae(o,"initialize",ze(i)),o},-1),ne(D,"$initialize",function(s,n){var i,$;return i=B(arguments),$=xe(i),$=Ue($),i.length>0&&i.shift(),$.$$smap.encoding,$.$$smap.capacity,Q},-1),ne(D,"$%",function(s){var n=this;return Ke(p("Array"),s)?Ae(n,"format",[n].concat(ze(s))):n.$format(n,s)}),ne(D,"$*",function(s){var n=this;if(s=a(s,p("Integer"),"to_int"),s<0&&qe.$raise(p("ArgumentError"),"negative argument"),s===0)return"";var i="",$=n.toString();for($.length*s>=1<<28&&qe.$raise(p("RangeError"),"multiply count must not overflow maximum string size");(s&1)===1&&(i+=$),s>>>=1,s!==0;)$+=$;return i}),ne(D,"$+",function(s){var n=this;if(s=a(s,p("String"),"to_str"),s==""&&n.$$class===e.String)return n;if(n==""&&s.$$class===e.String)return s;var i=n+s;return n.encoding===i.encoding&&s.encoding===i.encoding||n.encoding.name==="UTF-8"||s.encoding.name==="UTF-8"?i:e.enc(i,n.encoding)}),ne(D,"$<=>",function(s){var n=this;if(re(s["$respond_to?"]("to_str")))return s=s.$to_str().$to_s(),n>s?1:n<s?-1:0;var i=s["$<=>"](n);return i===Q?Q:i>0?-1:i<0?1:0}),ne(D,"$==",function(s){var n=this;return s.$$is_string?n.toString()===s.toString():E(s,"$to_str")?s["$=="](n):!1}),ne(D,"$=~",function(s){var n=this;return s.$$is_string&&qe.$raise(p("TypeError"),"type mismatch: String given"),s["$=~"](n)}),ne(D,"$[]",function(s,n){var i=this,$=i.length,o,v;if(s.$$is_range)return o=s.excl,v=s,n=s.end===Q?-1:a(s.end,p("Integer"),"to_int"),s=s.begin===Q?0:a(s.begin,p("Integer"),"to_int"),Math.abs(s)>$?Q:(s<0&&(s+=$),n<0&&(n+=$),(!o||v.end===Q)&&(n+=1),n=n-s,n<0&&(n=0),i.substr(s,n));if(s.$$is_string)return n!=null&&qe.$raise(p("TypeError")),i.indexOf(s)!==-1?s:Q;if(s.$$is_regexp){var w=i.match(s);return w===null?(Fe["~"]=Q,Q):(Fe["~"]=p("MatchData").$new(s,w),n==null?w[0]:(n=a(n,p("Integer"),"to_int"),n<0&&-n<w.length?w[n+=w.length]:n>=0&&n<w.length?w[n]:Q))}return s=a(s,p("Integer"),"to_int"),s<0&&(s+=$),n==null?s>=$||s<0?Q:i.substr(s,1):(n=a(n,p("Integer"),"to_int"),n<0||s>$||s<0?Q:i.substr(s,n))},-2),ne(D,"$b",function(){var s=this;return new String(s).$force_encoding("binary")}),ne(D,"$capitalize",function(){var s=this;return s.charAt(0).toUpperCase()+s.substr(1).toLowerCase()}),ne(D,"$casecmp",function(s){var n=this;if(!re(s["$respond_to?"]("to_str")))return Q;s=a(s,p("String"),"to_str").$to_s();var i=/^[\x00-\x7F]*$/;return i.test(n)&&i.test(s)&&(n=n.toLowerCase(),s=s.toLowerCase()),n["$<=>"](s)}),ne(D,"$casecmp?",function(s){var n=this,i=n.$casecmp(s);return i===Q?Q:i===0}),ne(D,"$center",function(s,n){var i=this;if(n==null&&(n=" "),s=a(s,p("Integer"),"to_int"),n=a(n,p("String"),"to_str").$to_s(),re(n["$empty?"]())&&qe.$raise(p("ArgumentError"),"zero width padding"),re(s<=i.length))return i;var $=i.$ljust(Ve(Me(s,i.length),2).$ceil(),n),o=i.$rjust(Ve(Me(s,i.length),2).$floor(),n);return o+$.slice(i.length)},-2),ne(D,"$chomp",function(s){var n=this;if(Fe["/"]==null&&(Fe["/"]=Q),s==null&&(s=Fe["/"]),re(s===Q||n.length===0))return n;s=ae["$coerce_to!"](s,p("String"),"to_str").$to_s();var i;if(s===`
`)i=n.replace(/\r?\n?$/,"");else if(s==="")i=n.replace(/(\r?\n)+$/,"");else if(n.length>=s.length){var $=n.substr(n.length-s.length,s.length);$===s&&(i=n.substr(0,n.length-s.length))}return i??n},-1),ne(D,"$chop",function(){var s=this,n=s.length,i;return n<=1?i="":s.charAt(n-1)===`
`&&s.charAt(n-2)==="\r"?i=s.substr(0,n-2):i=s.substr(0,n-1),i}),ne(D,"$chr",function(){var s=this;return s.charAt(0)}),ne(D,"$clone",function(s){var n,i=this,$=Q;return s=Ue(s),n=s.$$smap.freeze,n==null&&(n=Q),re(n["$nil?"]())||Ie(n,!0)||Ie(n,!1)||i.$raise(oe("ArgumentError"),"unexpected value for freeze: "+n.$class()),$=new String(i),$.$copy_singleton_methods(i),$.$initialize_clone(i,ce(["freeze"],{freeze:n})),Ie(n,!0)?$.$$frozen||($.$$frozen=!0):re(n["$nil?"]())&&i.$$frozen&&($.$$frozen=!0),$},-1),ne(D,"$dup",function(){var s=this,n=Q;return n=new String(s),n.$initialize_dup(s),n}),ne(D,"$count",function(s){var n,i,$=this;n=B(arguments),i=n,i.length===0&&qe.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=P(i);return o===null?0:$.length-$.replace(new RegExp(o,"g"),"").length},-1),ne(D,"$delete",function(s){var n,i,$=this;n=B(arguments),i=n,i.length===0&&qe.$raise(p("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");var o=P(i);return o===null?$:$.replace(new RegExp(o,"g"),"")},-1),ne(D,"$delete_prefix",function(s){var n=this;return s.$$is_string||(s=a(s,p("String"),"to_str")),n.slice(0,s.length)===s?n.slice(s.length):n}),ne(D,"$delete_suffix",function(s){var n=this;return s.$$is_string||(s=a(s,p("String"),"to_str")),n.slice(n.length-s.length)===s?n.slice(0,n.length-s.length):n}),ne(D,"$downcase",function(){var s=this;return s.toLowerCase()}),ne(D,"$each_line",function h(s,n){var i=h.$$p||Q,$,o,v,w,K=this;if(Fe["/"]==null&&(Fe["/"]=Q),h.$$p=null,$=B(arguments),o=xe($),o=Ue(o),$.length>0&&(v=$.shift()),v==null&&(v=Fe["/"]),w=o.$$smap.chomp,w==null&&(w=!1),i===Q)return K.$enum_for("each_line",v,ce(["chomp"],{chomp:w}));if(v===Q)return e.yield1(i,K),K;v=a(v,p("String"),"to_str");var Ce,tt,ot,lt,vt,_t,bt,pt;if(v.length===0){for(Ce=K.split(/((?:\r?\n){2})(?:(?:\r?\n)*)/),tt=0,ot=Ce.length;tt<ot;tt+=2)(Ce[tt]||Ce[tt+1])&&(pt=(Ce[tt]||"")+(Ce[tt+1]||""),w&&(pt=pt.$chomp(`
`)),e.yield1(i,pt));return K}for(vt=K.$chomp(v),_t=K.length!=vt.length,bt=vt.split(v),tt=0,lt=bt.length;tt<lt;tt++)pt=bt[tt],(tt<lt-1||_t)&&(pt+=v),w&&(pt=pt.$chomp(v)),e.yield1(i,pt);return K},-1),ne(D,"$empty?",function(){var s=this;return s.length===0}),ne(D,"$end_with?",function(s){var n,i,$=this;n=B(arguments),i=n;for(var o=0,v=i.length;o<v;o++){var w=a(i[o],p("String"),"to_str").$to_s();if($.length>=w.length&&$.substr($.length-w.length,w.length)==w)return!0}return!1},-1),ne(D,"$gsub",function h(s,n){var i=h.$$p||Q,$=this;if(h.$$p=null,n===void 0&&i===Q)return $.$enum_for("gsub",s);var o="",v=Q,w=0,K,Ce;s.$$is_regexp?s=V(s):(s=a(s,p("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(var tt;;){if(K=s.exec($),K===null){Fe["~"]=Q,o+=$.slice(w);break}v=p("MatchData").$new(s,K),n===void 0?(tt=s.lastIndex,Ce=i(K[0]),s.lastIndex=tt):n.$$is_hash?Ce=n["$[]"](K[0]).$to_s():(n.$$is_string||(n=a(n,p("String"),"to_str")),Ce=n.replace(/([\\]+)([0-9+&`'])/g,function(ot,lt,vt){if(lt.length%2===0)return ot;switch(vt){case"+":for(var _t=K.length-1;_t>0;_t--)if(K[_t]!==void 0)return lt.slice(1)+K[_t];return"";case"&":return lt.slice(1)+K[0];case"`":return lt.slice(1)+$.slice(0,K.index);case"'":return lt.slice(1)+$.slice(K.index+K[0].length);default:return lt.slice(1)+(K[vt]||"")}}).replace(/\\\\/g,"\\")),s.lastIndex===K.index?(o+=$.slice(w,K.index)+Ce+($[K.index]||""),s.lastIndex+=1):o+=$.slice(w,K.index)+Ce,w=s.lastIndex}return Fe["~"]=v,o},-2),ne(D,"$hash",function(){var s=this;return s.toString()}),ne(D,"$hex",function(){var s=this;return s.$to_i(16)}),ne(D,"$include?",function(s){var n=this;return s.$$is_string||(s=a(s,p("String"),"to_str")),n.indexOf(s)!==-1}),ne(D,"$index",function(s,n){var i=this,$,o,v;if(n===void 0)n=0;else if(n=a(n,p("Integer"),"to_int"),n<0&&(n+=i.length,n<0))return Q;if(s.$$is_regexp)for(v=V(s);;){if(o=v.exec(i),o===null){Fe["~"]=Q,$=-1;break}if(o.index>=n){Fe["~"]=p("MatchData").$new(v,o),$=o.index;break}v.lastIndex=o.index+1}else s=a(s,p("String"),"to_str"),s.length===0&&n>i.length?$=-1:$=i.indexOf(s,n);return $===-1?Q:$},-2),ne(D,"$inspect",function(){var s=this,n=/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i={"\x07":"\\a","\x1B":"\\e","\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\v":"\\v",'"':'\\"',"\\":"\\\\"},$=s.replace(n,function(o){return i[o]?i[o]:(o=o.charCodeAt(0),o<=255&&(s.encoding["$binary?"]()||s.internal_encoding["$binary?"]())?"\\x"+("00"+o.toString(16).toUpperCase()).slice(-2):"\\u"+("0000"+o.toString(16).toUpperCase()).slice(-4))});return'"'+$.replace(/\#[\$\@\{]/g,"\\$&")+'"'}),ne(D,"$intern",function(){var s=this;return s.toString()}),ne(D,"$length",function(){var s=this;return s.length}),ye(D,"size","length"),ne(D,"$lines",function h(s,n){var i=h.$$p||Q,$,o,v,w,K=this,Ce=Q;return Fe["/"]==null&&(Fe["/"]=Q),h.$$p=null,$=B(arguments),o=xe($),o=Ue(o),$.length>0&&(v=$.shift()),v==null&&(v=Fe["/"]),w=o.$$smap.chomp,w==null&&(w=!1),Ce=Ae(K,"each_line",[v,ce(["chomp"],{chomp:w})],i.$to_proc()),re(i)?K:Ce.$to_a()},-1),ne(D,"$ljust",function(s,n){var i=this;if(n==null&&(n=" "),s=a(s,p("Integer"),"to_int"),n=a(n,p("String"),"to_str").$to_s(),re(n["$empty?"]())&&qe.$raise(p("ArgumentError"),"zero width padding"),re(s<=i.length))return i;var $=-1,o="";for(s-=i.length;++$<s;)o+=n;return i+o.slice(0,s)},-2),ne(D,"$lstrip",function(){var s=this;return s.replace(/^[\u0000\s]*/,"")}),ne(D,"$ascii_only?",function(){var s=this;return s.encoding.ascii?/^[\x00-\x7F]*$/.test(s):!1}),ne(D,"$match",function h(s,n){var i=h.$$p||Q,$=this;return h.$$p=null,(Ke(oe("String"),s)||re(s["$respond_to?"]("to_str")))&&(s=p("Regexp").$new(s.$to_str())),Ke(p("Regexp"),s)||qe.$raise(p("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),Ae(s,"match",[$,n],i.$to_proc())},-2),ne(D,"$match?",function(s,n){var i=this;return(Ke(oe("String"),s)||re(s["$respond_to?"]("to_str")))&&(s=p("Regexp").$new(s.$to_str())),Ke(p("Regexp"),s)||qe.$raise(p("TypeError"),"wrong argument type "+s.$class()+" (expected Regexp)"),s["$match?"](i,n)},-2),ne(D,"$next",function(){var s=this,n=s.length;if(n===0)return"";for(var i=s,$=s.search(/[a-zA-Z0-9]/),o=!1,v;n--;){if(v=s.charCodeAt(n),v>=48&&v<=57||v>=65&&v<=90||v>=97&&v<=122)switch(v){case 57:o=!0,v=48;break;case 90:o=!0,v=65;break;case 122:o=!0,v=97;break;default:o=!1,v+=1}else $===-1?v===255?(o=!0,v=0):(o=!1,v+=1):o=!0;if(i=i.slice(0,n)+String.fromCharCode(v)+i.slice(n+1),o&&(n===0||n===$)){switch(v){case 65:break;case 97:break;default:v+=1}n===0?i=String.fromCharCode(v)+i:i=i.slice(0,n)+String.fromCharCode(v)+i.slice(n),o=!1}if(!o)break}return i}),ne(D,"$oct",function(){var s=this,n,i=s,$=8;return/^\s*_/.test(i)?0:(i=i.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(o,v,w,K){switch(K.charAt(0)){case"+":case"-":return o;case"0":if(K.charAt(1)==="x"&&w==="0x")return o}switch(w){case"0b":$=2;break;case"0":case"0o":$=8;break;case"0d":$=10;break;case"0x":$=16;break}return v+K}),n=parseInt(i.replace(/_(?!_)/g,""),$),isNaN(n)?0:n)}),ne(D,"$ord",function(){var s=this;return typeof s.codePointAt=="function"?s.codePointAt(0):s.charCodeAt(0)}),ne(D,"$partition",function(s){var n=this,i,$;return s.$$is_regexp?($=s.exec(n),$===null?i=-1:(p("MatchData").$new(s,$),s=$[0],i=$.index)):(s=a(s,p("String"),"to_str"),i=n.indexOf(s)),i===-1?[n,"",""]:[n.slice(0,i),n.slice(i,i+s.length),n.slice(i+s.length)]}),ne(D,"$reverse",function(){var s=this;return s.split("").reverse().join("")}),ne(D,"$rindex",function(s,n){var i=this,$,o,v,w;if(n===void 0)n=i.length;else if(n=a(n,p("Integer"),"to_int"),n<0&&(n+=i.length,n<0))return Q;if(s.$$is_regexp){for(o=null,v=V(s);w=v.exec(i),!(w===null||w.index>n);)o=w,v.lastIndex=o.index+1;o===null?(Fe["~"]=Q,$=-1):(p("MatchData").$new(v,o),$=o.index)}else s=a(s,p("String"),"to_str"),$=i.lastIndexOf(s,n);return $===-1?Q:$},-2),ne(D,"$rjust",function(s,n){var i=this;if(n==null&&(n=" "),s=a(s,p("Integer"),"to_int"),n=a(n,p("String"),"to_str").$to_s(),re(n["$empty?"]())&&qe.$raise(p("ArgumentError"),"zero width padding"),re(s<=i.length))return i;var $=Math.floor(s-i.length),o=Math.floor($/n.length),v=Array(o+1).join(n),w=$-v.length;return v+n.slice(0,w)+i},-2),ne(D,"$rpartition",function(s){var n=this,i,$,o,v;if(s.$$is_regexp){for($=null,o=V(s);v=o.exec(n),v!==null;)$=v,o.lastIndex=$.index+1;$===null?i=-1:(p("MatchData").$new(o,$),s=$[0],i=$.index)}else s=a(s,p("String"),"to_str"),i=n.lastIndexOf(s);return i===-1?["","",n]:[n.slice(0,i),n.slice(i,i+s.length),n.slice(i+s.length)]}),ne(D,"$rstrip",function(){var s=this;return s.replace(/[\s\u0000]*$/,"")}),ne(D,"$scan",function h(s,n){var i=h.$$p||Q,$,o=this;h.$$p=null,n=Ue(n),$=n.$$smap.no_matchdata,$==null&&($=!1);var v=[],w=Q,K;for(s.$$is_regexp?s=V(s):(s=a(s,p("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));(K=s.exec(o))!=null;)w=p("MatchData").$new(s,K,ce(["no_matchdata"],{no_matchdata:$})),i===Q?K.length==1?v.push(K[0]):v.push(w.$captures()):K.length==1?e.yield1(i,K[0]):e.yield1(i,w.$captures()),s.lastIndex===K.index&&(s.lastIndex+=1);return $||(Fe["~"]=w),i!==Q?o:v},-2),ne(D,"$singleton_class",function(){var s=this;return e.get_singleton_class(s)}),ne(D,"$split",function(s,n){var i=this,$=Q;if(Fe[";"]==null&&(Fe[";"]=Q),i.length===0)return[];if(n===void 0)n=0;else if(n=ae["$coerce_to!"](n,p("Integer"),"to_int"),n===1)return[i];(s===void 0||s===Q)&&(s=re($=Fe[";"])?$:" ");var o=[],v=i.toString(),w=0,K,Ce,tt;if(s.$$is_regexp?s=V(s):(s=a(s,p("String"),"to_str").$to_s(),s===" "?(s=/\s+/gm,v=v.replace(/^\s+/,"")):s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm")),o=v.split(s),o.length===1&&o[0]===v)return[o[0]];for(;(Ce=o.indexOf(void 0))!==-1;)o.splice(Ce,1);if(n===0){for(;o[o.length-1]==="";)o.length-=1;return o}if(K=s.exec(v),n<0){if(K!==null&&K[0]===""&&s.source.indexOf("(?=")===-1)for(Ce=0,tt=K.length;Ce<tt;Ce++)o.push("");return o}if(K!==null&&K[0]==="")return o.splice(n-1,o.length-1,o.slice(n-1).join("")),o;if(n>=o.length)return o;for(Ce=0;K!==null&&(Ce++,w=s.lastIndex,Ce+1!==n);)K=s.exec(v);return o.splice(n-1,o.length-1,v.slice(w)),o},-1),ne(D,"$squeeze",function(s){var n,i,$=this;if(n=B(arguments),i=n,i.length===0)return $.replace(/(.)\1+/g,"$1");var o=P(i);return o===null?$:$.replace(new RegExp("("+o+")\\1+","g"),"$1")},-1),ne(D,"$start_with?",function(s){var n,i,$=this;n=B(arguments),i=n;for(var o=0,v=i.length;o<v;o++)if(i[o].$$is_regexp){var w=i[o],K=w.exec($);if(K!=null&&K.index===0)return Fe["~"]=p("MatchData").$new(w,K),!0;Fe["~"]=Q}else{var Ce=a(i[o],p("String"),"to_str").$to_s();if($.indexOf(Ce)===0)return!0}return!1},-1),ne(D,"$strip",function(){var s=this;return s.replace(/^[\s\u0000]*|[\s\u0000]*$/g,"")}),ne(D,"$sub",function h(s,n){var i=h.$$p||Q,$=this;h.$$p=null,s.$$is_regexp||(s=a(s,p("String"),"to_str"),s=new RegExp(s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var o,v=s.exec($);return v===null?(Fe["~"]=Q,o=$.toString()):(p("MatchData").$new(s,v),n===void 0?(i===Q&&qe.$raise(p("ArgumentError"),"wrong number of arguments (1 for 2)"),o=$.slice(0,v.index)+i(v[0])+$.slice(v.index+v[0].length)):n.$$is_hash?o=$.slice(0,v.index)+n["$[]"](v[0]).$to_s()+$.slice(v.index+v[0].length):(n=a(n,p("String"),"to_str"),n=n.replace(/([\\]+)([0-9+&`'])/g,function(w,K,Ce){if(K.length%2===0)return w;switch(Ce){case"+":for(var tt=v.length-1;tt>0;tt--)if(v[tt]!==void 0)return K.slice(1)+v[tt];return"";case"&":return K.slice(1)+v[0];case"`":return K.slice(1)+$.slice(0,v.index);case"'":return K.slice(1)+$.slice(v.index+v[0].length);default:return K.slice(1)+(v[Ce]||"")}}).replace(/\\\\/g,"\\"),o=$.slice(0,v.index)+n+$.slice(v.index+v[0].length))),o},-2),ne(D,"$sum",function(s){var n=this;s==null&&(s=16),s=a(s,p("Integer"),"to_int");for(var i=0,$=n.length,o=0;o<$;o++)i+=n.charCodeAt(o);return s<=0?i:i&Math.pow(2,s)-1},-1),ne(D,"$swapcase",function(){var s=this,n=s.replace(/([a-z]+)|([A-Z]+)/g,function(i,$,o){return $?i.toUpperCase():i.toLowerCase()});return n}),ne(D,"$to_f",function(){var s=this;if(s.charAt(0)==="_")return 0;var n=parseFloat(s.replace(/_/g,""));return isNaN(n)||n==1/0||n==-1/0?0:n}),ne(D,"$to_i",function(s){var n=this;s==null&&(s=10);var i,$=n.toLowerCase(),o=a(s,p("Integer"),"to_int");return(o===1||o<0||o>36)&&qe.$raise(p("ArgumentError"),"invalid radix "+o),/^\s*_/.test($)?0:($=$.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(v,w,K,Ce){switch(Ce.charAt(0)){case"+":case"-":return v;case"0":if(Ce.charAt(1)==="x"&&K==="0x"&&(o===0||o===16))return v}switch(K){case"0b":if(o===0||o===2)return o=2,w+Ce;break;case"0":case"0o":if(o===0||o===8)return o=8,w+Ce;break;case"0d":if(o===0||o===10)return o=10,w+Ce;break;case"0x":if(o===0||o===16)return o=16,w+Ce;break}return v}),i=parseInt($.replace(/_(?!_)/g,""),o),isNaN(i)?0:i)},-1),ne(D,"$to_proc",function h(){h.$$p;var s=this,n=Q,i=Q,$=Q;return h.$$p=null,n=s.valueOf(),i=e.jsid(n),$=Ae(qe,"proc",[],function o(v){var w=o.$$p||Q,K,Ce;o.$$p=null,K=B(arguments),Ce=K,Ce.length===0&&qe.$raise(p("ArgumentError"),"no receiver given");var tt=Ce[0];tt==null&&(tt=Q);var ot=tt[i];return ot?Ce=Ce.slice(1):(ot=tt.$method_missing,Ce[0]=n),typeof w=="function"&&(ot.$$p=w),Ce.length===0?ot.call(tt):ot.apply(tt,Ce)},-1),$.$$source_location=Q,$}),ne(D,"$to_s",function(){var s=this;return s.toString()}),ne(D,"$tr",function(s,n){var i=this;if(s=a(s,p("String"),"to_str").$to_s(),n=a(n,p("String"),"to_str").$to_s(),s.length==0||s===n)return i;var $,o,v,w,K,Ce,tt,ot={},lt=s.split(""),vt=lt.length,_t=n.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,$=0;$<vt;$++)if(w=lt[$],Qe==null)Qe=w,mt.push(w);else if(w==="-")Qe==="-"?(mt.push("-"),mt.push("-")):$==vt-1?mt.push("-"):o=!0;else if(o){for(K=Qe.charCodeAt(0),Ce=w.charCodeAt(0),K>Ce&&qe.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(K)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),v=K+1;v<Ce;v++)mt.push(String.fromCharCode(v));mt.push(w),o=null,Qe=null}else mt.push(w);if(lt=mt,vt=lt.length,pt)for($=0;$<vt;$++)ot[lt[$]]=!0;else{if(bt>0){var me=[],Ee=null;for(o=!1,$=0;$<bt;$++)if(w=_t[$],Ee==null)Ee=w,me.push(w);else if(w==="-")Ee==="-"?(me.push("-"),me.push("-")):$==bt-1?me.push("-"):o=!0;else if(o){for(K=Ee.charCodeAt(0),Ce=w.charCodeAt(0),K>Ce&&qe.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(K)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),v=K+1;v<Ce;v++)me.push(String.fromCharCode(v));me.push(w),o=null,Ee=null}else me.push(w);_t=me,bt=_t.length}var je=vt-bt;if(je>0){var _=bt>0?_t[bt-1]:"";for($=0;$<je;$++)_t.push(_)}for($=0;$<vt;$++)ot[lt[$]]=_t[$]}var x="";for($=0,tt=i.length;$<tt;$++){w=i.charAt($);var te=ot[w];pt?x+=te==null?gt:w:x+=te??w}return x}),ne(D,"$tr_s",function(s,n){var i=this;if(s=a(s,p("String"),"to_str").$to_s(),n=a(n,p("String"),"to_str").$to_s(),s.length==0)return i;var $,o,v,w,K,Ce,tt,ot={},lt=s.split(""),vt=lt.length,_t=n.split(""),bt=_t.length,pt=!1,gt=null;lt[0]==="^"&&lt.length>1&&(pt=!0,lt.shift(),gt=_t[bt-1],vt-=1);var mt=[],Qe=null;for(o=!1,$=0;$<vt;$++)if(w=lt[$],Qe==null)Qe=w,mt.push(w);else if(w==="-")Qe==="-"?(mt.push("-"),mt.push("-")):$==vt-1?mt.push("-"):o=!0;else if(o){for(K=Qe.charCodeAt(0),Ce=w.charCodeAt(0),K>Ce&&qe.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(K)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),v=K+1;v<Ce;v++)mt.push(String.fromCharCode(v));mt.push(w),o=null,Qe=null}else mt.push(w);if(lt=mt,vt=lt.length,pt)for($=0;$<vt;$++)ot[lt[$]]=!0;else{if(bt>0){var me=[],Ee=null;for(o=!1,$=0;$<bt;$++)if(w=_t[$],Qe==null)Qe=w,me.push(w);else if(w==="-")Ee==="-"?(me.push("-"),me.push("-")):$==bt-1?me.push("-"):o=!0;else if(o){for(K=Qe.charCodeAt(0),Ce=w.charCodeAt(0),K>Ce&&qe.$raise(p("ArgumentError"),'invalid range "'+String.fromCharCode(K)+"-"+String.fromCharCode(Ce)+'" in string transliteration'),v=K+1;v<Ce;v++)me.push(String.fromCharCode(v));me.push(w),o=null,Qe=null}else me.push(w);_t=me,bt=_t.length}var je=vt-bt;if(je>0){var _=bt>0?_t[bt-1]:"";for($=0;$<je;$++)_t.push(_)}for($=0;$<vt;$++)ot[lt[$]]=_t[$]}var x="",te=null;for($=0,tt=i.length;$<tt;$++){w=i.charAt($);var we=ot[w];pt?we==null?te==null&&(x+=gt,te=!0):(x+=w,te=null):we!=null?(te==null||te!==we)&&(x+=we,te=we):(x+=w,te=null)}return x}),ne(D,"$upcase",function(){var s=this;return s.toUpperCase()}),ne(D,"$upto",function h(s,n){var i=h.$$p||Q,$=this;if(h.$$p=null,n==null&&(n=!1),i===Q)return $.$enum_for("upto",s,n);var o,v,w=$.toString();if(s=a(s,p("String"),"to_str"),w.length===1&&s.length===1)for(o=w.charCodeAt(0),v=s.charCodeAt(0);o<=v&&!(n&&o===v);)i(String.fromCharCode(o)),o+=1;else if(parseInt(w,10).toString()===w&&parseInt(s,10).toString()===s)for(o=parseInt(w,10),v=parseInt(s,10);o<=v&&!(n&&o===v);)i(o.toString()),o+=1;else for(;w.length<=s.length&&w<=s&&!(n&&w===s);)i(w),w=w.$succ();return $},-2);function P(h){function s(ot){var lt="",vt,_t=ot.length,bt,pt,gt,mt,Qe;for(vt=0;vt<_t;vt++)if(bt=ot.charAt(vt),bt==="-"&&vt>0&&vt<_t-1&&!pt){for(gt=ot.charCodeAt(vt-1),mt=ot.charCodeAt(vt+1),gt>mt&&qe.$raise(p("ArgumentError"),'invalid range "'+gt+"-"+mt+'" in string transliteration'),Qe=gt+1;Qe<mt+1;Qe++)lt+=String.fromCharCode(Qe);pt=!0,vt++}else pt=bt==="\\",lt+=bt;return lt}function n(ot,lt){if(ot.length===0)return lt;var vt="",_t,bt=ot.length,pt;for(_t=0;_t<bt;_t++)pt=ot.charAt(_t),lt.indexOf(pt)!==-1&&(vt+=pt);return vt}var i,$,o,v,w,K,Ce="",tt="";for(i=0,$=h.length;i<$;i++)o=a(h[i],p("String"),"to_str"),v=o.charAt(0)==="^"&&o.length>1,o=s(v?o.slice(1):o),v?tt=n(tt,o):Ce=n(Ce,o);if(Ce.length>0&&tt.length>0){for(K="",i=0,$=Ce.length;i<$;i++)w=Ce.charAt(i),tt.indexOf(w)===-1&&(K+=w);Ce=K,tt=""}return Ce.length>0?"["+p("Regexp").$escape(Ce)+"]":tt.length>0?"[^"+p("Regexp").$escape(tt)+"]":null}return ne(D,"$instance_variables",function(){return[]}),ue(D,"$_load",function(s){var n,i,$=this;return n=B(arguments),i=n,Ae($,"new",ze(i))},-1),ne(D,"$unicode_normalize",function(s){var n=this;return s==null&&(s="nfc"),re(["nfc","nfd","nfkc","nfkd"]["$include?"](s))||qe.$raise(p("ArgumentError"),"Invalid normalization form "+s),n.normalize(s.$upcase())},-1),ne(D,"$unicode_normalized?",function(s){var n=this;return s==null&&(s="nfc"),n.$unicode_normalize(s)["$=="](n)},-1),ne(D,"$unpack",function(s){return qe.$raise("To use String#unpack, you must first require 'corelib/string/unpack'.")}),ne(D,"$unpack1",function(s){return qe.$raise("To use String#unpack1, you must first require 'corelib/string/unpack'.")}),ne(D,"$freeze",function(){var s=this;return typeof s=="string"||I(s,"$$frozen",!0),s}),ne(D,"$-@",function(){var s=this;return typeof s=="string"||s.$$frozen?s:s.encoding.name=="UTF-8"&&s.internal_encoding.name=="UTF-8"?s.toString():s.$dup().$freeze()}),ne(D,"$frozen?",function(){var s=this;return typeof s=="string"||s.$$frozen===!0}),ye(D,"+@","dup"),ye(D,"===","=="),ye(D,"byteslice","[]"),ye(D,"eql?","=="),ye(D,"equal?","==="),ye(D,"object_id","__id__"),ye(D,"slice","[]"),ye(D,"succ","next"),ye(D,"to_str","to_s"),ye(D,"to_sym","intern"),ae.$pristine(D,"initialize")}("::",String,ie),le(ie[0],"Symbol",pe("String"))};Opal.modules["corelib/enumerable"]=function(e){var a=e.truthy,E=e.coerce_to,V=e.yield1,I=e.yieldX,_e=e.deny_frozen_access,ne=e.module,ae=e.send,ue=e.slice,B=e.to_a,Ae=e.Opal,ze=e.thrower,xe=e.def,Ue=e.Kernel,Ke=e.return_val,qe=e.rb_gt,re=e.rb_times,Fe=e.rb_lt,Ve=e.eqeq,Me=e.rb_plus,Ie=e.rb_minus,ce=e.rb_divide,ye=e.rb_le,le=e.hash2,Re=e.lambda,ie=e.not,pe=e.alias,Q=[],p=e.nil,de=e.$$$;return e.add_stubs("each,public_send,destructure,to_enum,enumerator_size,new,yield,raise,slice_when,!,enum_for,flatten,map,to_proc,compact,to_a,warn,proc,==,nil?,respond_to?,coerce_to!,>,*,try_convert,<,+,-,ceil,/,size,select,__send__,length,<=,[],push,<<,[]=,===,inspect,<=>,first,reverse,sort,take,sort_by,compare,call,dup,sort!,map!,include?,-@,key?,values,transform_values,group_by,fetch,to_h,coerce_to?,class,zip,detect,find_all,collect_concat,collect,inject,entries"),function(F,O){var D=ne(F,"Enumerable"),Ne=[D].concat(O),oe=e.$r(Ne);function P(h){return h.length===0&&(h=[p]),h.length>1&&(h=[h]),h}return xe(D,"$all?",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this;return h.$$p=null,a(s!==void 0)?ae($,"each",[],function(v){var w,K,Ce=p;if(w=ue(arguments),K=w,Ce=P(K),a(ae(s,"public_send",["==="].concat(B(Ce)))))return p;n.$throw(!1)},{$$arity:-1,$$ret:n}):i!==p?ae($,"each",[],function(v){var w,K;if(w=ue(arguments),K=w,a(e.yieldX(i,B(K))))return p;n.$throw(!1)},{$$arity:-1,$$ret:n}):ae($,"each",[],function(v){var w,K;if(w=ue(arguments),K=w,a(Ae.$destructure(K)))return p;n.$throw(!1)},{$$arity:-1,$$ret:n}),!0}catch(o){if(o===n)return o.$v;throw o}},-1),xe(D,"$any?",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this;return h.$$p=null,a(s!==void 0)?ae($,"each",[],function(v){var w,K,Ce=p;if(w=ue(arguments),K=w,Ce=P(K),a(ae(s,"public_send",["==="].concat(B(Ce)))))n.$throw(!0);else return p},{$$arity:-1,$$ret:n}):i!==p?ae($,"each",[],function(v){var w,K;if(w=ue(arguments),K=w,a(e.yieldX(i,B(K))))n.$throw(!0);else return p},{$$arity:-1,$$ret:n}):ae($,"each",[],function(v){var w,K;if(w=ue(arguments),K=w,a(Ae.$destructure(K)))n.$throw(!0);else return p},{$$arity:-1,$$ret:n}),!1}catch(o){if(o===n)return o.$v;throw o}},-1),xe(D,"$chunk",function h(){var s=h.$$p||p,n=this;return h.$$p=null,s===p?ae(n,"to_enum",["chunk"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):ae(de("Enumerator"),"new",[],function i($){var o=i.$$s==null?this:i.$$s;$==null&&($=p);var v=p,w=[];function K(){w.length>0&&$.$yield(v,w)}o.$each.$$p=function(Ce){var tt=V(s,Ce);tt===p?(K(),w=[],v=p):(v===p||v===tt?w.push(Ce):(K(),w=[Ce]),v=tt)},o.$each(),K()},{$$s:n})}),xe(D,"$chunk_while",function h(){var s=h.$$p||p,n=this;return h.$$p=null,s===p&&Ue.$raise(de("ArgumentError"),"no block given"),ae(n,"slice_when",[],function($,o){return $==null&&($=p),o==null&&(o=p),e.yieldX(s,[$,o])["$!"]()})}),xe(D,"$collect",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return ae(n,"enum_for",["collect"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=I(s,arguments);i.push($)},n.$each(),i}),xe(D,"$collect_concat",function h(){var s=h.$$p||p,n=this;return h.$$p=null,s===p?ae(n,"enum_for",["collect_concat"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):ae(n,"map",[],s.$to_proc()).$flatten(1)}),xe(D,"$compact",function(){var s=this;return s.$to_a().$compact()}),xe(D,"$count",function h(s){var n=h.$$p||p,i=this,$=p;return h.$$p=null,$=0,s!=null&&n!==p&&i.$warn("warning: given block not used"),a(s!=null)?n=ae(Ue,"proc",[],function(v){var w,K;return w=ue(arguments),K=w,Ae.$destructure(K)["$=="](s)},-1):a(n["$nil?"]())&&(n=ae(Ue,"proc",[],Ke(!0))),ae(i,"each",[],function(v){var w,K;return w=ue(arguments),K=w,a(I(n,K))?$++:p},-1),$},-1),xe(D,"$cycle",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s==null&&(s=p),n===p)return ae(i,"enum_for",["cycle",s],function w(){var K=w.$$s==null?this:w.$$s;return a(s["$nil?"]())?a(K["$respond_to?"]("size"))?de(de("Float"),"INFINITY"):p:(s=Ae["$coerce_to!"](s,de("Integer"),"to_int"),a(qe(s,0))?re(K.$enumerator_size(),s):0)},{$$s:i});if(!a(s["$nil?"]())&&(s=Ae["$coerce_to!"](s,de("Integer"),"to_int"),a(s<=0)))return p;var $=[],o,v;if(i.$each.$$p=function(){var w=Ae.$destructure(arguments);V(n,w),$.push(w)},i.$each(),$.length===0)return p;if(s===p)for(;;)for(o=0,v=$.length;o<v;o++)V(n,$[o]);else for(;s>1;){for(o=0,v=$.length;o<v;o++)V(n,$[o]);s--}},-1),xe(D,"$detect",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this;return h.$$p=null,i===p?$.$enum_for("detect",s):(ae($,"each",[],function(v){var w,K,Ce=p;if(w=ue(arguments),K=w,Ce=Ae.$destructure(K),a(e.yield1(i,Ce)))n.$throw(Ce);else return p},{$$arity:-1,$$ret:n}),s!==void 0?typeof s=="function"?s():s:p)}catch(o){if(o===n)return o.$v;throw o}},-1),xe(D,"$drop",function(s){var n=this;s=E(s,de("Integer"),"to_int"),a(s<0)&&Ue.$raise(de("ArgumentError"),"attempt to drop negative size");var i=[],$=0;return n.$each.$$p=function(){s<=$&&i.push(Ae.$destructure(arguments)),$++},n.$each(),i}),xe(D,"$drop_while",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return n.$enum_for("drop_while");var i=[],$=!0;return n.$each.$$p=function(){var o=Ae.$destructure(arguments);if($){var v=V(s,o);a(v)||($=!1,i.push(o))}else i.push(o)},n.$each(),i}),xe(D,"$each_cons",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,a(arguments.length!=1)&&Ue.$raise(de("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)"),s=Ae.$try_convert(s,de("Integer"),"to_int"),a(s<=0)&&Ue.$raise(de("ArgumentError"),"invalid size"),n===p)return ae(i,"enum_for",["each_cons",s],function o(){var v=o.$$s==null?this:o.$$s,w=p;return w=v.$enumerator_size(),a(w["$nil?"]())?p:Ve(w,0)||a(Fe(w,s))?0:Me(Ie(w,s),1)},{$$s:i});var $=[];return i.$each.$$p=function(){var o=Ae.$destructure(arguments);$.push(o),$.length>s&&$.shift(),$.length==s&&V(n,$.slice(0,s))},i.$each(),i}),xe(D,"$each_entry",function h(s){var n=h.$$p||p,i,$,o=this;return h.$$p=null,i=ue(arguments),$=i,n===p?ae(o,"to_enum",["each_entry"].concat(B($)),function v(){var w=v.$$s==null?this:v.$$s;return w.$enumerator_size()},{$$s:o}):(o.$each.$$p=function(){var v=Ae.$destructure(arguments);V(n,v)},o.$each.apply(o,$),o)},-1),xe(D,"$each_slice",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s=E(s,de("Integer"),"to_int"),a(s<=0)&&Ue.$raise(de("ArgumentError"),"invalid slice size"),n===p)return ae(i,"enum_for",["each_slice",s],function o(){var v=o.$$s==null?this:o.$$s;return a(v["$respond_to?"]("size"))?ce(v.$size(),s).$ceil():p},{$$s:i});var $=[];return i.$each.$$p=function(){var o=Ae.$destructure(arguments);$.push(o),$.length===s&&(V(n,$),$=[])},i.$each(),$.length>0&&V(n,$),i}),xe(D,"$each_with_index",function h(s){var n=h.$$p||p,i,$,o=this;if(h.$$p=null,i=ue(arguments),$=i,n===p)return ae(o,"enum_for",["each_with_index"].concat(B($)),function w(){var K=w.$$s==null?this:w.$$s;return K.$enumerator_size()},{$$s:o});var v=0;return o.$each.$$p=function(){var w=Ae.$destructure(arguments);n(w,v),v++},o.$each.apply(o,$),o},-1),xe(D,"$each_with_object",function h(s){var n=h.$$p||p,i=this;return h.$$p=null,n===p?ae(i,"enum_for",["each_with_object",s],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:i}):(i.$each.$$p=function(){var $=Ae.$destructure(arguments);n($,s)},i.$each(),s)}),xe(D,"$entries",function(s){var n,i,$=this;n=ue(arguments),i=n;var o=[];return $.$each.$$p=function(){o.push(Ae.$destructure(arguments))},$.$each.apply($,i),o},-1),xe(D,"$filter_map",function h(){var s=h.$$p||p,n=this;return h.$$p=null,s===p?ae(n,"enum_for",["filter_map"],function i(){var $=i.$$s==null?this:i.$$s;return $.$enumerator_size()},{$$s:n}):ae(ae(n,"map",[],s.$to_proc()),"select",[],"itself".$to_proc())}),xe(D,"$find_all",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return ae(n,"enum_for",["find_all"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=Ae.$destructure(arguments),o=V(s,$);a(o)&&i.push($)},n.$each(),i}),xe(D,"$find_index",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this,o=p;return h.$$p=null,a(s===void 0&&i===p)?$.$enum_for("find_index"):(s!=null&&i!==p&&$.$warn("warning: given block not used"),o=0,a(s!=null)?ae($,"each",[],function(w){var K,Ce;return K=ue(arguments),Ce=K,Ve(Ae.$destructure(Ce),s)&&n.$throw(o),o+=1},{$$arity:-1,$$ret:n}):ae($,"each",[],function(w){var K,Ce;return K=ue(arguments),Ce=K,a(e.yieldX(i,B(Ce)))&&n.$throw(o),o+=1},{$$arity:-1,$$ret:n}),p)}catch(v){if(v===n)return v.$v;throw v}},-1),xe(D,"$first",function(s){try{var n=ze("return"),i=this,$=p,o=p;return a(s===void 0)?ae(i,"each",[],function(w){w==null&&(w=p),n.$throw(w)},{$$ret:n}):($=[],s=E(s,de("Integer"),"to_int"),a(s<0)&&Ue.$raise(de("ArgumentError"),"attempt to take negative size"),a(s==0)?[]:(o=0,ae(i,"each",[],function(w){var K,Ce;if(K=ue(arguments),Ce=K,$.push(Ae.$destructure(Ce)),a(s<=++o))n.$throw($);else return p},{$$arity:-1,$$ret:n}),$))}catch(v){if(v===n)return v.$v;throw v}},-1),xe(D,"$grep",function h(s){var n=h.$$p||p,i=this,$=p;return h.$$p=null,$=[],ae(i,"each",[],function(v){var w,K,Ce=p;return w=ue(arguments),K=w,Ce=P(K),a(ae(s,"__send__",["==="].concat(B(Ce))))?(n!==p?(a(qe(K.$length(),1))&&(K=[K]),K=e.yieldX(n,B(K))):a(ye(K.$length(),1))&&(K=K["$[]"](0)),$.$push(K)):p},-1),$}),xe(D,"$grep_v",function h(s){var n=h.$$p||p,i=this,$=p;return h.$$p=null,$=[],ae(i,"each",[],function(v){var w,K,Ce=p;return w=ue(arguments),K=w,Ce=P(K),a(ae(s,"__send__",["==="].concat(B(Ce))))?p:(n!==p?(a(qe(K.$length(),1))&&(K=[K]),K=e.yieldX(n,B(K))):a(ye(K.$length(),1))&&(K=K["$[]"](0)),$.$push(K))},-1),$}),xe(D,"$group_by",function h(){var s=h.$$p||p,n,i=this,$=p,o=p;return h.$$p=null,s===p?ae(i,"enum_for",["group_by"],function v(){var w=v.$$s==null?this:v.$$s;return w.$enumerator_size()},{$$s:i}):($=le([],{}),i.$each.$$p=function(){var v=Ae.$destructure(arguments),w=V(s,v);(a(o=$["$[]"](w))?o:(n=[w,[]],ae($,"[]=",n),n[n.length-1]))["$<<"](v)},i.$each(),$)}),xe(D,"$include?",function(s){try{var n=ze("return"),i=this;return ae(i,"each",[],function(o){var v,w;if(v=ue(arguments),w=v,Ve(Ae.$destructure(w),s))n.$throw(!0);else return p},{$$arity:-1,$$ret:n}),!1}catch($){if($===n)return $.$v;throw $}}),xe(D,"$inject",function h(s,n){var i=h.$$p||p,$=this;h.$$p=null;var o=s;return i!==p&&n===void 0?$.$each.$$p=function(){var v=Ae.$destructure(arguments);if(o===void 0){o=v;return}v=I(i,[o,v]),o=v}:(n===void 0&&(de("Symbol")["$==="](s)||Ue.$raise(de("TypeError"),""+s.$inspect()+" is not a Symbol"),n=s,o=void 0),$.$each.$$p=function(){var v=Ae.$destructure(arguments);if(o===void 0){o=v;return}o=o.$__send__(n,v)}),$.$each(),o??p},-1),xe(D,"$lazy",function(){var s=this;return ae(de(de("Enumerator"),"Lazy"),"new",[s,s.$enumerator_size()],function(i,$){var o,v;return i==null&&(i=p),o=ue(arguments,1),v=o,ae(i,"yield",B(v))},-2)}),xe(D,"$enumerator_size",function(){var s=this;return a(s["$respond_to?"]("size"))?s.$size():p}),xe(D,"$max",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s===void 0||s===p){var $,o;return i.$each.$$p=function(){var v=Ae.$destructure(arguments);if($===void 0){$=v;return}n!==p?o=I(n,[v,$]):o=v["$<=>"]($),o===p&&Ue.$raise(de("ArgumentError"),"comparison failed"),o>0&&($=v)},i.$each(),$===void 0?p:$}return s=E(s,de("Integer"),"to_int"),ae(i,"sort",[],n.$to_proc()).$reverse().$first(s)},-1),xe(D,"$max_by",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s==null&&(s=p),!a(n))return ae(i,"enum_for",["max_by",s],function v(){var w=v.$$s==null?this:v.$$s;return w.$enumerator_size()},{$$s:i});if(!a(s["$nil?"]()))return ae(i,"sort_by",[],n.$to_proc()).$reverse().$take(s);var $,o;return i.$each.$$p=function(){var v=Ae.$destructure(arguments),w=V(n,v);if($===void 0){$=v,o=w;return}w["$<=>"](o)>0&&($=v,o=w)},i.$each(),$===void 0?p:$},-1),xe(D,"$min",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s==null&&(s=p),!a(s["$nil?"]()))return n!==p?ae(i,"sort",[],function(v,w){return v==null&&(v=p),w==null&&(w=p),e.yieldX(n,[v,w])}).$take(s):i.$sort().$take(s);var $;return n!==p?i.$each.$$p=function(){var o=Ae.$destructure(arguments);if($===void 0){$=o;return}var v=n(o,$);v===p&&Ue.$raise(de("ArgumentError"),"comparison failed"),v<0&&($=o)}:i.$each.$$p=function(){var o=Ae.$destructure(arguments);if($===void 0){$=o;return}Ae.$compare(o,$)<0&&($=o)},i.$each(),$===void 0?p:$},-1),xe(D,"$min_by",function h(s){var n=h.$$p||p,i=this;if(h.$$p=null,s==null&&(s=p),!a(n))return ae(i,"enum_for",["min_by",s],function v(){var w=v.$$s==null?this:v.$$s;return w.$enumerator_size()},{$$s:i});if(!a(s["$nil?"]()))return ae(i,"sort_by",[],n.$to_proc()).$take(s);var $,o;return i.$each.$$p=function(){var v=Ae.$destructure(arguments),w=V(n,v);if($===void 0){$=v,o=w;return}w["$<=>"](o)<0&&($=v,o=w)},i.$each(),$===void 0?p:$},-1),xe(D,"$minmax",function h(){var s=h.$$p||p,n=this,i=p;h.$$p=null,s=a(i=s)?i:ae(Ue,"proc",[],function(K,Ce){return K==null&&(K=p),Ce==null&&(Ce=p),K["$<=>"](Ce)});var $=p,o=p,v=!0;return n.$each.$$p=function(){var w=Ae.$destructure(arguments);if(v)$=o=w,v=!1;else{var K=s.$call($,w);K===p?Ue.$raise(de("ArgumentError"),"comparison failed"):K>0&&($=w);var Ce=s.$call(o,w);Ce===p?Ue.$raise(de("ArgumentError"),"comparison failed"):Ce<0&&(o=w)}},n.$each(),[$,o]}),xe(D,"$minmax_by",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,!a(s))return ae(n,"enum_for",["minmax_by"],function w(){var K=w.$$s==null?this:w.$$s;return K.$enumerator_size()},{$$s:n});var i=p,$=p,o,v;return n.$each.$$p=function(){var w=Ae.$destructure(arguments),K=V(s,w);(o===void 0||K["$<=>"](o)<0)&&(i=w,o=K),(v===void 0||K["$<=>"](v)>0)&&($=w,v=K)},n.$each(),[i,$]}),xe(D,"$none?",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this;return h.$$p=null,a(s!==void 0)?ae($,"each",[],function(v){var w,K,Ce=p;if(w=ue(arguments),K=w,Ce=P(K),a(ae(s,"public_send",["==="].concat(B(Ce)))))n.$throw(!1);else return p},{$$arity:-1,$$ret:n}):i!==p?ae($,"each",[],function(v){var w,K;if(w=ue(arguments),K=w,a(e.yieldX(i,B(K))))n.$throw(!1);else return p},{$$arity:-1,$$ret:n}):ae($,"each",[],function(v){var w,K,Ce=p;if(w=ue(arguments),K=w,Ce=Ae.$destructure(K),a(Ce))n.$throw(!1);else return p},{$$arity:-1,$$ret:n}),!0}catch(o){if(o===n)return o.$v;throw o}},-1),xe(D,"$one?",function h(s){try{var n=ze("return"),i=h.$$p||p,$=this,o=p;return h.$$p=null,o=0,a(s!==void 0)?ae($,"each",[],function(w){var K,Ce,tt=p;if(K=ue(arguments),Ce=K,tt=P(Ce),a(ae(s,"public_send",["==="].concat(B(tt)))))if(o=Me(o,1),a(qe(o,1)))n.$throw(!1);else return p;else return p},{$$arity:-1,$$ret:n}):i!==p?ae($,"each",[],function(w){var K,Ce;if(K=ue(arguments),Ce=K,!a(e.yieldX(i,B(Ce))))return p;if(o=Me(o,1),a(qe(o,1)))n.$throw(!1);else return p},{$$arity:-1,$$ret:n}):ae($,"each",[],function(w){var K,Ce;if(K=ue(arguments),Ce=K,!a(Ae.$destructure(Ce)))return p;if(o=Me(o,1),a(qe(o,1)))n.$throw(!1);else return p},{$$arity:-1,$$ret:n}),o["$=="](1)}catch(v){if(v===n)return v.$v;throw v}},-1),xe(D,"$partition",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return ae(n,"enum_for",["partition"],function o(){var v=o.$$s==null?this:o.$$s;return v.$enumerator_size()},{$$s:n});var i=[],$=[];return n.$each.$$p=function(){var o=Ae.$destructure(arguments),v=V(s,o);a(v)?i.push(o):$.push(o)},n.$each(),[i,$]}),xe(D,"$reject",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return ae(n,"enum_for",["reject"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:n});var i=[];return n.$each.$$p=function(){var $=Ae.$destructure(arguments),o=V(s,$);a(o)||i.push($)},n.$each(),i}),xe(D,"$reverse_each",function h(){var s=h.$$p||p,n=this;if(h.$$p=null,s===p)return ae(n,"enum_for",["reverse_each"],function o(){var v=o.$$s==null?this:o.$$s;return v.$enumerator_size()},{$$s:n});var i=[];n.$each.$$p=function(){i.push(arguments)},n.$each();for(var $=i.length-1;$>=0;$--)I(s,i[$]);return i}),xe(D,"$slice_before",function h(s){var n=h.$$p||p,i=this;return h.$$p=null,a(s===void 0&&n===p)&&Ue.$raise(de("ArgumentError"),"both pattern and block are given"),a(s!==void 0&&n!==p||arguments.length>1)&&Ue.$raise(de("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),ae(de("Enumerator"),"new",[],function $(o){var v=$.$$s==null?this:$.$$s;o==null&&(o=p);var w=[];n!==p?s===void 0?v.$each.$$p=function(){var K=Ae.$destructure(arguments),Ce=V(n,K);a(Ce)&&w.length>0&&(o["$<<"](w),w=[]),w.push(K)}:v.$each.$$p=function(){var K=Ae.$destructure(arguments),Ce=n(K,s.$dup());a(Ce)&&w.length>0&&(o["$<<"](w),w=[]),w.push(K)}:v.$each.$$p=function(){var K=Ae.$destructure(arguments),Ce=s["$==="](K);a(Ce)&&w.length>0&&(o["$<<"](w),w=[]),w.push(K)},v.$each(),w.length>0&&o["$<<"](w)},{$$s:i})},-1),xe(D,"$slice_after",function h(s){var n=h.$$p||p,i=this;return h.$$p=null,a(s===void 0&&n===p)&&Ue.$raise(de("ArgumentError"),"both pattern and block are given"),a(s!==void 0&&n!==p||arguments.length>1)&&Ue.$raise(de("ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)"),a(s!==void 0)&&(n=ae(Ue,"proc",[],function(o){return o==null&&(o=p),s["$==="](o)})),ae(de("Enumerator"),"new",[],function $(o){var v=$.$$s==null?this:$.$$s;o==null&&(o=p);var w;v.$each.$$p=function(){var K=Ae.$destructure(arguments),Ce=V(n,K);w==null&&(w=[]),a(Ce)?(w.push(K),o.$yield(w),w=null):w.push(K)},v.$each(),w!=null&&o.$yield(w)},{$$s:i})},-1),xe(D,"$slice_when",function h(){var s=h.$$p||p,n=this;return h.$$p=null,s===p&&Ue.$raise(de("ArgumentError"),"wrong number of arguments (0 for 1)"),ae(de("Enumerator"),"new",[],function i($){var o=i.$$s==null?this:i.$$s;$==null&&($=p);var v=p,w=p;o.$each_cons.$$p=function(){var K=Ae.$destructure(arguments),Ce=K[0],tt=K[1],ot=I(s,[Ce,tt]);w=tt,v===p&&(v=[]),a(ot)?(v.push(Ce),$.$yield(v),v=[]):v.push(Ce)},o.$each_cons(2),v!==p&&(v.push(w),$.$yield(v))},{$$s:n})}),xe(D,"$sort",function h(){var s=h.$$p||p,n=this,i=p;return h.$$p=null,i=n.$to_a(),s===p&&(s=Re(function(o,v){return o==null&&(o=p),v==null&&(v=p),o["$<=>"](v)})),ae(i,"sort",[],s.$to_proc())}),xe(D,"$sort_by",function h(){var s=h.$$p||p,n=this,i=p;return h.$$p=null,s===p?ae(n,"enum_for",["sort_by"],function $(){var o=$.$$s==null?this:$.$$s;return o.$enumerator_size()},{$$s:n}):(i=ae(n,"map",[],function(){var o=p;return o=Ae.$destructure(arguments),[e.yield1(s,o),o]}),ae(i,"sort!",[],function(o,v){return o==null&&(o=p),v==null&&(v=p),o[0]["$<=>"](v[0])}),ae(i,"map!",[],function(o){return o==null&&(o=p),o[1]}))}),xe(D,"$sum",function h(s){var n=h.$$p||p,i=this,$=p,o=p;return h.$$p=null,s==null&&(s=0),$=s,o=0,ae(i,"each",[],function(w){var K,Ce,tt=p,ot=p,lt=p;return K=ue(arguments),Ce=K,tt=n!==p?e.yieldX(n,B(Ce)):Ae.$destructure(Ce),ie([de(de("Float"),"INFINITY"),de(de("Float"),"INFINITY")["$-@"]()]["$include?"](tt))&&a(tt["$respond_to?"]("-"))?(ot=Ie(tt,o),lt=Me($,ot),o=Ie(Ie(lt,$),ot),$=lt):$=Me($,tt)},-1),$},-1),xe(D,"$take",function(s){var n=this;return n.$first(s)}),xe(D,"$take_while",function h(){try{var s=ze("return"),n=h.$$p||p,i=this,$=p;return h.$$p=null,a(n)?($=[],ae(i,"each",[],function(v){var w,K,Ce=p;return w=ue(arguments),K=w,Ce=Ae.$destructure(K),a(e.yield1(n,Ce))||s.$throw($),$.push(Ce)},{$$arity:-1,$$ret:s})):i.$enum_for("take_while")}catch(o){if(o===s)return o.$v;throw o}}),xe(D,"$uniq",function h(){var s=h.$$p||p,n=this,i=p;return h.$$p=null,i=le([],{}),ae(n,"each",[],function(o){var v,w,K,Ce=p,tt=p;return v=ue(arguments),w=v,Ce=Ae.$destructure(w),tt=s!==p?e.yield1(s,Ce):Ce,a(i["$key?"](tt))?p:(K=[tt,Ce],ae(i,"[]=",K),K[K.length-1])},-1),i.$values()}),xe(D,"$tally",function(s){var n=this,i=p;return s&&s!==p&&_e(s),i=ae(ae(n,"group_by",[],"itself".$to_proc()),"transform_values",[],"count".$to_proc()),a(s)?(ae(i,"each",[],function(o,v){var w;return o==null&&(o=p),v==null&&(v=p),w=[o,Me(s.$fetch(o,0),v)],ae(s,"[]=",w),w[w.length-1]}),s):i},-1),xe(D,"$to_h",function h(s){var n=h.$$p||p,i,$,o=this;if(h.$$p=null,i=ue(arguments),$=i,n!==p)return ae(ae(o,"map",[],n.$to_proc()),"to_h",B($));var v=le([],{});return o.$each.$$p=function(){var w=Ae.$destructure(arguments),K=Ae["$coerce_to?"](w,de("Array"),"to_ary"),Ce,tt;K.$$is_array||Ue.$raise(de("TypeError"),"wrong element type "+K.$class()+" (expected array)"),K.length!==2&&Ue.$raise(de("ArgumentError"),"wrong array length (expected 2, was "+K.$length()+")"),Ce=K[0],tt=K[1],e.hash_put(v,Ce,tt)},o.$each.apply(o,$),v},-1),xe(D,"$to_set",function h(s,n){var i=h.$$p||p,$,o,v,w=this;return h.$$p=null,$=ue(arguments),$.length>0&&(o=$.shift()),o==null&&(o=oe("Set")),v=$,ae(o,"new",[w].concat(B(v)),i.$to_proc())},-1),xe(D,"$zip",function h(s){h.$$p;var n,i,$=this;return h.$$p=null,n=ue(arguments),i=n,ae($.$to_a(),"zip",B(i))},-1),pe(D,"find","detect"),pe(D,"filter","find_all"),pe(D,"flat_map","collect_concat"),pe(D,"map","collect"),pe(D,"member?","include?"),pe(D,"reduce","inject"),pe(D,"select","find_all"),pe(D,"to_a","entries")}("::",Q)};Opal.modules["corelib/enumerator/arithmetic_sequence"]=function(e){var a=e.klass,E=e.truthy,V=e.to_a,I=e.eqeq,_e=e.Kernel,ne=e.def,ae=e.rb_gt,ue=e.rb_lt,B=e.rb_le,Ae=e.rb_ge,ze=e.rb_plus,xe=e.rb_minus,Ue=e.eqeqeq,Ke=e.not,qe=e.rb_times,re=e.rb_divide,Fe=e.alias,Ve=[],Me=e.nil,Ie=e.$$$;return e.add_stubs("is_a?,==,raise,respond_to?,class,attr_reader,begin,end,exclude_end?,>,step,<,<=,>=,-@,_lesser_than_end?,<<,+,-,===,%,_greater_than_begin?,reverse,!,include?,*,to_i,abs,/,hash,inspect"),function(ce,ye,le){var Re=a(ce,ye,"Enumerator"),ie=[Re].concat(le);return function(pe,Q,p){var de=a(pe,Q,"ArithmeticSequence"),F=[de].concat(p),O=e.$r(F),D=de.$$prototype;D.step_arg2=D.receiver_num=D.step_arg1=D.step=D.range=D.topfx=D.bypfx=D.creation_method=D.skipped_arg=Me,e.prop(de.$$prototype,"$$is_arithmetic_seq",!0);var Ne=1/0;return ne(de,"$initialize",function(P,h,s){var n,i=this,$=Me;return s==null&&(s="step"),i.creation_method=s,E(P["$is_a?"](Ie("Array")))?(n=[].concat(V(P)),i.step_arg1=n[0]==null?Me:n[0],i.step_arg2=n[1]==null?Me:n[1],i.topfx=n[2]==null?Me:n[2],i.bypfx=n[3]==null?Me:n[3],i.receiver_num=h,i.step=1,i.range=E(i.step_arg2)?(i.step=i.step_arg2,e.Range.$new(i.receiver_num,i.step_arg1,!1)):E(i.step_arg1)?e.Range.$new(i.receiver_num,i.step_arg1,!1):e.Range.$new(i.receiver_num,Me,!1)):(E(h)||(i.skipped_arg=!0),n=[P,E($=h)?$:1],i.range=n[0],i.step=n[1]),i.object=i,I(i.step,0)&&_e.$raise(O("ArgumentError"),"step can't be 0"),E(i.step["$respond_to?"]("to_int"))?Me:_e.$raise(O("ArgumentError"),"no implicit conversion of "+i.step.$class()+" into Integer")},-2),de.$attr_reader("step"),ne(de,"$begin",function(){var P=this;return P.range.$begin()}),ne(de,"$end",function(){var P=this;return P.range.$end()}),ne(de,"$exclude_end?",function(){var P=this;return P.range["$exclude_end?"]()}),ne(de,"$_lesser_than_end?",function(P){var h=this,s=Me,n=Me;return s=E(n=h.$end())?n:Ne,E(ae(h.$step(),0))?E(h["$exclude_end?"]())?ue(P,s):B(P,s):E(h["$exclude_end?"]())?ae(P,s):Ae(P,s)}),ne(de,"$_greater_than_begin?",function(P){var h=this,s=Me,n=Me;return s=E(n=h.$begin())?n:Ne["$-@"](),E(ae(h.$step(),0))?ae(P,s):ue(P,s)}),ne(de,"$first",function(P){var h=this,s=Me,n=Me,i=Me;if(s=E(n=h.$begin())?n:Ne["$-@"](),!E(P))return E(h["$_lesser_than_end?"](s))?s:Me;for(i=[];E(E(n=h["$_lesser_than_end?"](s))?ae(P,0):n);)i["$<<"](s),s=ze(s,h.$step()),P=xe(P,1);return i},-1),ne(de,"$each",function oe(){var P=oe.$$p||Me,h=this,s=Me,n=Me;if(oe.$$p=null,P===Me)return h;for(Ue(Me,s=h.$begin())&&_e.$raise(O("TypeError"),"nil can't be coerced into Integer"),n=E(s=h.$begin())?s:Ne["$-@"]();E(h["$_lesser_than_end?"](n));)e.yield1(P,n),n=ze(n,h.$step());return h}),ne(de,"$last",function(P){var h=this,s=Me,n=Me,i=Me;if(Ue(Ne,s=h.$end())||Ue(Ne["$-@"](),s)?_e.$raise(Ie("FloatDomainError"),h.$end()):Ue(Me,s)&&_e.$raise(Ie("RangeError"),"cannot get the last element of endless arithmetic sequence"),n=xe(h.$end(),xe(h.$end(),h.$begin())["$%"](h.$step())),E(h["$_lesser_than_end?"](n))||(n=xe(n,h.$step())),!E(P))return E(h["$_greater_than_begin?"](n))?n:Me;for(i=[];E(E(s=h["$_greater_than_begin?"](n))?ae(P,0):s);)i["$<<"](n),n=xe(n,h.$step()),P=xe(P,1);return i.$reverse()},-1),ne(de,"$size",function(){var P=this,h=Me,s=Me;return h=E(ae(P.$step(),0))?1:-1,Ke(P["$_lesser_than_end?"](P.$begin()))?0:E([Ne["$-@"](),Ne]["$include?"](P.$step()))?1:E([qe(Ne["$-@"](),h),Me]["$include?"](P.$begin()))||E([qe(Ne,h),Me]["$include?"](P.$end()))?Ne:(s=xe(P.$end(),xe(P.$end(),P.$begin())["$%"](P.$step())),E(P["$_lesser_than_end?"](s))||(s=xe(s,P.$step())),ze(re(xe(s,P.$begin()),P.$step()).$abs().$to_i(),1))}),ne(de,"$==",function(P){var h=this,s=Me,n=Me,i=Me,$=Me;return E(s=E(n=E(i=E($=h.$class()["$=="](P.$class()))?h.$begin()["$=="](P.$begin()):$)?h.$end()["$=="](P.$end()):i)?h.$step()["$=="](P.$step()):n)?h["$exclude_end?"]()["$=="](P["$exclude_end?"]()):s}),ne(de,"$hash",function(){var P=this;return[P.$begin(),P.$end(),P.$step(),P["$exclude_end?"]()].$hash()}),ne(de,"$inspect",function(){var P=this,h=Me;return E(P.receiver_num)?(h=E(P.step_arg2)?"("+P.topfx+P.step_arg1.$inspect()+", "+P.bypfx+P.step_arg2.$inspect()+")":E(P.step_arg1)?"("+P.topfx+P.step_arg1.$inspect()+")":Me,"("+P.receiver_num.$inspect()+"."+P.creation_method+h+")"):(h=E(P.skipped_arg)?Me:"("+P.step+")","(("+P.range.$inspect()+")."+P.creation_method+h+")")}),Fe(de,"===","=="),Fe(de,"eql?","==")}(Re,Re,ie)}("::",null,Ve)};Opal.modules["corelib/enumerator/chain"]=function(e){var a=e.deny_frozen_access,E=e.klass,V=e.slice,I=e.def,_e=e.send,ne=e.to_a,ae=e.truthy,ue=e.rb_plus,B=e.thrower,Ae=e.nil,ze=e.$$$;return e.add_stubs("to_enum,size,each,<<,to_proc,include?,+,reverse_each,respond_to?,rewind,inspect"),function(xe,Ue){var Ke=E(xe,Ue,"Enumerator");return function(qe,re){var Fe=E(qe,re,"Chain"),Ve=Fe.$$prototype;return Ve.enums=Ve.iterated=Ae,I(Fe,"$initialize",function(Ie){var ce,ye,le=this;return ce=V(arguments),ye=ce,a(le),le.enums=ye,le.iterated=[],le.object=le},-1),I(Fe,"$each",function Me(Ie){var ce=Me.$$p||Ae,ye,le,Re=this;return Me.$$p=null,ye=V(arguments),le=ye,ce===Ae?_e(Re,"to_enum",["each"].concat(ne(le)),function ie(){var pe=ie.$$s==null?this:ie.$$s;return pe.$size()},{$$s:Re}):(_e(Re.enums,"each",[],function ie(pe){var Q=ie.$$s==null?this:ie.$$s;return Q.iterated==null&&(Q.iterated=Ae),pe==null&&(pe=Ae),Q.iterated["$<<"](pe),_e(pe,"each",ne(le),ce.$to_proc())},{$$s:Re}),Re)},-1),I(Fe,"$size",function(Ie){try{var ce=B("return"),ye,le,Re=this,ie=Ae;return ye=V(arguments),le=ye,ie=0,_e(Re.enums,"each",[],function(Q){var p=Ae;return Q==null&&(Q=Ae),p=_e(Q,"size",ne(le)),ae([Ae,ze(ze("Float"),"INFINITY")]["$include?"](p))&&ce.$throw(p),ie=ue(ie,p)},{$$ret:ce}),ie}catch(pe){if(pe===ce)return pe.$v;throw pe}},-1),I(Fe,"$rewind",function(){var Ie=this;return _e(Ie.iterated,"reverse_each",[],function(ye){return ye==null&&(ye=Ae),ae(ye["$respond_to?"]("rewind"))?ye.$rewind():Ae}),Ie.iterated=[],Ie}),I(Fe,"$inspect",function(){var Ie=this;return"#<Enumerator::Chain: "+Ie.enums.$inspect()+">"})}(Ke,Ke)}("::",null)};Opal.modules["corelib/enumerator/generator"]=function(e){var a=e.deny_frozen_access,E=e.klass,V=e.truthy,I=e.Kernel,_e=e.def,ne=e.slice,ae=e.send,ue=[],B=e.nil,Ae=e.$$$;return e.add_stubs("include,raise,new,to_proc"),function(ze,xe,Ue){var Ke=E(ze,xe,"Enumerator"),qe=[Ke].concat(Ue);return function(re,Fe,Ve){var Me=E(re,Fe,"Generator"),Ie=[Me].concat(Ve),ce=e.$r(Ie),ye=Me.$$prototype;return ye.block=B,Me.$include(Ae("Enumerable")),_e(Me,"$initialize",function le(){var Re=le.$$p||B,ie=this;return le.$$p=null,a(ie),V(Re)||I.$raise(Ae("LocalJumpError"),"no block given"),ie.block=Re}),_e(Me,"$each",function le(Re){var ie=le.$$p||B,pe,Q,p=this,de=B;le.$$p=null,pe=ne(arguments),Q=pe,de=ae(ce("Yielder"),"new",[],ie.$to_proc());try{Q.unshift(de),e.yieldX(p.block,Q)}catch(F){if(F&&F.$thrower_type=="breaker")return F.$v;throw F}return p},-1)}(qe[0],null,qe)}(ue[0],null,ue)};Opal.modules["corelib/enumerator/lazy"]=function(e){var a=e.truthy,E=e.coerce_to,V=e.yield1,I=e.yieldX,_e=e.deny_frozen_access,ne=e.klass,ae=e.slice,ue=e.send2,B=e.find_super,Ae=e.to_a,ze=e.defs,xe=e.Kernel,Ue=e.send,Ke=e.def,qe=e.return_self,re=e.Opal,Fe=e.rb_lt,Ve=e.eqeqeq,Me=e.rb_plus,Ie=e.alias,ce=[],ye=e.nil,le=e.$$$;return e.add_stubs("raise,each,new,enumerator_size,yield,respond_to?,try_convert,<,===,+,for,class,to_proc,destructure,inspect,to_a,find_all,collect_concat,collect,enum_for"),function(Re,ie,pe){var Q=ne(Re,ie,"Enumerator"),p=[Q].concat(pe);return function(de,F,O){var D=ne(de,F,"Lazy"),Ne=[D].concat(O),oe=e.$r(Ne),P=D.$$prototype;return P.enumerator=ye,ne(D,le("Exception"),"StopLazyError"),ze(D,"$for",function h(s,n){var i,$,o=h.$$p||ye,v=this,w=ye;return h.$$p=null,i=ae(arguments,1),$=i,w=ue(v,B(v,"for",h,!1,!0),"for",[s].concat(Ae($)),o),w.enumerator=s,w},-2),Ke(D,"$initialize",function h(s,n){var i=h.$$p||ye,$=this;return h.$$p=null,n==null&&(n=ye),_e($),i===ye&&xe.$raise(le("ArgumentError"),"tried to call lazy new without a block"),$.enumerator=s,ue($,B($,"initialize",h,!1,!0),"initialize",[n],function(v,w){var K,Ce;v==null&&(v=ye),K=ae(arguments,1),Ce=K;try{return Ue(s,"each",Ae(Ce),function(ot){var lt,vt;lt=ae(arguments),vt=lt,vt.unshift(v),I(i,vt)},-1)}catch(tt){if(e.rescue(tt,[oe("StopLazyError")]))try{return ye}finally{e.pop_exception()}else throw tt}},-2)},-2),Ke(D,"$lazy",qe),Ke(D,"$collect",function h(){var s=h.$$p||ye,n=this;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy map without a block"),Ue(oe("Lazy"),"new",[n,n.$enumerator_size()],function($,o){var v,w;$==null&&($=ye),v=ae(arguments,1),w=v;var K=I(s,w);$.$yield(K)},-2)}),Ke(D,"$collect_concat",function h(){var s=h.$$p||ye,n=this;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy map without a block"),Ue(oe("Lazy"),"new",[n,ye],function($,o){var v,w;$==null&&($=ye),v=ae(arguments,1),w=v;var K=I(s,w);if(K["$respond_to?"]("force")&&K["$respond_to?"]("each"))Ue(K,"each",[],function(ot){return ot==null&&(ot=ye),$.$yield(ot)});else{var Ce=re.$try_convert(K,le("Array"),"to_ary");Ce===ye?$.$yield(K):Ue(K,"each",[],function(ot){return ot==null&&(ot=ye),$.$yield(ot)})}},-2)}),Ke(D,"$drop",function(s){var n=this,i=ye,$=ye,o=ye;return s=E(s,le("Integer"),"to_int"),a(Fe(s,0))&&xe.$raise(le("ArgumentError"),"attempt to drop negative size"),i=n.$enumerator_size(),$=Ve(le("Integer"),i)&&a(Fe(s,i))?s:i,o=0,Ue(oe("Lazy"),"new",[n,$],function(w,K){var Ce,tt;return w==null&&(w=ye),Ce=ae(arguments,1),tt=Ce,a(Fe(o,s))?o=Me(o,1):Ue(w,"yield",Ae(tt))},-2)}),Ke(D,"$drop_while",function h(){var s=h.$$p||ye,n=this,i=ye;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy drop_while without a block"),i=!0,Ue(oe("Lazy"),"new",[n,ye],function(o,v){var w,K;if(o==null&&(o=ye),w=ae(arguments,1),K=w,a(i)){var Ce=I(s,K);a(Ce)||(i=!1,Ue(o,"yield",Ae(K)))}else return Ue(o,"yield",Ae(K))},-2)}),Ke(D,"$enum_for",function h(s,n){var i=h.$$p||ye,$,o,v,w=this;return h.$$p=null,$=ae(arguments),$.length>0&&(o=$.shift()),o==null&&(o="each"),v=$,Ue(w.$class(),"for",[w,o].concat(Ae(v)),i.$to_proc())},-1),Ke(D,"$find_all",function h(){var s=h.$$p||ye,n=this;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy select without a block"),Ue(oe("Lazy"),"new",[n,ye],function($,o){var v,w;$==null&&($=ye),v=ae(arguments,1),w=v;var K=I(s,w);a(K)&&Ue($,"yield",Ae(w))},-2)}),Ke(D,"$grep",function h(s){var n=h.$$p||ye,i=this;return h.$$p=null,a(n)?Ue(oe("Lazy"),"new",[i,ye],function(o,v){var w,K;o==null&&(o=ye),w=ae(arguments,1),K=w;var Ce=re.$destructure(K),tt=s["$==="](Ce);a(tt)&&(tt=V(n,Ce),o.$yield(V(n,Ce)))},-2):Ue(oe("Lazy"),"new",[i,ye],function(o,v){var w,K;o==null&&(o=ye),w=ae(arguments,1),K=w;var Ce=re.$destructure(K),tt=s["$==="](Ce);a(tt)&&o.$yield(Ce)},-2)}),Ke(D,"$reject",function h(){var s=h.$$p||ye,n=this;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy reject without a block"),Ue(oe("Lazy"),"new",[n,ye],function($,o){var v,w;$==null&&($=ye),v=ae(arguments,1),w=v;var K=I(s,w);a(K)||Ue($,"yield",Ae(w))},-2)}),Ke(D,"$take",function(s){var n=this,i=ye,$=ye,o=ye;return s=E(s,le("Integer"),"to_int"),a(Fe(s,0))&&xe.$raise(le("ArgumentError"),"attempt to take negative size"),i=n.$enumerator_size(),$=Ve(le("Integer"),i)&&a(Fe(s,i))?s:i,o=0,Ue(oe("Lazy"),"new",[n,$],function(w,K){var Ce,tt;return w==null&&(w=ye),Ce=ae(arguments,1),tt=Ce,a(Fe(o,s))?(Ue(w,"yield",Ae(tt)),o=Me(o,1)):xe.$raise(oe("StopLazyError"))},-2)}),Ke(D,"$take_while",function h(){var s=h.$$p||ye,n=this;return h.$$p=null,a(s)||xe.$raise(le("ArgumentError"),"tried to call lazy take_while without a block"),Ue(oe("Lazy"),"new",[n,ye],function($,o){var v,w;$==null&&($=ye),v=ae(arguments,1),w=v;var K=I(s,w);a(K)?Ue($,"yield",Ae(w)):xe.$raise(oe("StopLazyError"))},-2)}),Ke(D,"$inspect",function(){var s=this;return"#<"+s.$class()+": "+s.enumerator.$inspect()+">"}),Ie(D,"force","to_a"),Ie(D,"filter","find_all"),Ie(D,"flat_map","collect_concat"),Ie(D,"map","collect"),Ie(D,"select","find_all"),Ie(D,"to_enum","enum_for")}(Q,Q,p)}("::",null,ce)};Opal.modules["corelib/enumerator/yielder"]=function(e){var a=e.klass,E=e.def,V=e.slice,I=e.send,_e=e.to_a,ne=[],ae=e.nil;return e.add_stubs("yield,proc"),function(ue,B,Ae){var ze=a(ue,B,"Enumerator"),xe=[ze].concat(Ae);return function(Ue,Ke){var qe=a(Ue,Ke,"Yielder"),re=qe.$$prototype;return re.block=ae,E(qe,"$initialize",function Fe(){var Ve=Fe.$$p||ae,Me=this;return Fe.$$p=null,Me.block=Ve,Me}),E(qe,"$yield",function(Ve){var Me,Ie,ce=this;Me=V(arguments),Ie=Me;var ye=e.yieldX(ce.block,Ie);if(ye&&ye.$thrower_type=="break")throw ye;return ye},-1),E(qe,"$<<",function(Ve){var Me=this;return Me.$yield(Ve),Me}),E(qe,"$to_proc",function(){var Ve=this;return I(Ve,"proc",[],function Me(Ie){var ce,ye,le=Me.$$s==null?this:Me.$$s;return ce=V(arguments),ye=ce,I(le,"yield",_e(ye))},{$$arity:-1,$$s:Ve})})}(xe[0],null)}(ne[0],null,ne)};Opal.modules["corelib/enumerator"]=function(e){var a=e.slice,E=e.coerce_to,V=e.deny_frozen_access,I=e.klass,_e=e.defs,ne=e.truthy,ae=e.send,ue=e.not,B=e.def,Ae=e.rb_plus,ze=e.to_a,xe=e.Opal,Ue=e.send2,Ke=e.find_super,qe=e.rb_ge,re=e.Kernel,Fe=e.rb_le,Ve=e.alias,Me=e.top,Ie=[],ce=e.nil,ye=e.$$$;return e.add_stubs("require,include,allocate,new,to_proc,!,respond_to?,empty?,nil?,+,class,__send__,call,enum_for,size,destructure,map,>=,length,raise,[],peek_values,<=,next_values,inspect,any?,each_with_object,autoload"),Me.$require("corelib/enumerable"),function(le,Re,ie){var pe=I(le,Re,"Enumerator"),Q=[pe].concat(ie),p=e.$r(Q),de=pe.$$prototype;return de.size=de.args=de.object=de.method=de.values=de.cursor=ce,pe.$include(ye("Enumerable")),pe.$$prototype.$$is_enumerator=!0,_e(pe,"$for",function F(O,D,Ne){var oe=F.$$p||ce,P,h,s,n=this;F.$$p=null,P=a(arguments,1),P.length>0&&(h=P.shift()),h==null&&(h="each"),s=P;var i=n.$allocate();return i.object=O,i.size=oe,i.method=h,i.args=s,i.cursor=0,i},-2),B(pe,"$initialize",function F(O){var D=F.$$p||ce,Ne=this;return F.$$p=null,a(arguments),V(Ne),Ne.cursor=0,ne(D)?(Ne.object=ae(p("Generator"),"new",[],D.$to_proc()),Ne.method="each",Ne.args=[],Ne.size=arguments[0]||ce,ne(Ne.size)&&ue(Ne.size["$respond_to?"]("call"))?Ne.size=E(Ne.size,ye("Integer"),"to_int"):ce):(Ne.object=arguments[0],Ne.method=arguments[1]||"each",Ne.args=a(arguments,2),Ne.size=ce)},-1),B(pe,"$each",function F(O){var D=F.$$p||ce,Ne,oe,P=this;return F.$$p=null,Ne=a(arguments),oe=Ne,ne(D["$nil?"]())&&ne(oe["$empty?"]())?P:(oe=Ae(P.args,oe),ne(D["$nil?"]())?ae(P.$class(),"new",[P.object,P.method].concat(ze(oe))):ae(P.object,"__send__",[P.method].concat(ze(oe)),D.$to_proc()))},-1),B(pe,"$size",function(){var O=this;return ne(O.size["$respond_to?"]("call"))?ae(O.size,"call",ze(O.args)):O.size}),B(pe,"$with_index",function F(O){var D=F.$$p||ce,Ne=this;if(F.$$p=null,O==null&&(O=0),O=ne(O)?E(O,ye("Integer"),"to_int"):0,!ne(D))return ae(Ne,"enum_for",["with_index",O],function P(){var h=P.$$s==null?this:P.$$s;return h.$size()},{$$s:Ne});var oe=O;return Ne.$each.$$p=function(){var P=xe.$destructure(arguments),h=D(P,oe);return oe++,h},Ne.$each()},-1),B(pe,"$each_with_index",function F(){var O=F.$$p||ce,D=this;return F.$$p=null,O===ce?ae(D,"enum_for",["each_with_index"],function Ne(){var oe=Ne.$$s==null?this:Ne.$$s;return oe.$size()},{$$s:D}):(Ue(D,Ke(D,"each_with_index",F,!1,!0),"each_with_index",[],O),D.object)}),B(pe,"$rewind",function(){var O=this;return O.cursor=0,O}),B(pe,"$peek_values",function(){var O=this,D=ce;return O.values=ne(D=O.values)?D:ae(O,"map",[],function(oe){var P,h;return P=a(arguments),h=P,h},-1),ne(qe(O.cursor,O.values.$length()))&&re.$raise(ye("StopIteration"),"iteration reached an end"),O.values["$[]"](O.cursor)}),B(pe,"$peek",function(){var O=this,D=ce;return D=O.$peek_values(),ne(Fe(D.$length(),1))?D["$[]"](0):D}),B(pe,"$next_values",function(){var O=this,D=ce;return D=O.$peek_values(),O.cursor=Ae(O.cursor,1),D}),B(pe,"$next",function(){var O=this,D=ce;return D=O.$next_values(),ne(Fe(D.$length(),1))?D["$[]"](0):D}),B(pe,"$feed",function(O){var D=this;return D.$raise(p("NotImplementedError"),"Opal doesn't support Enumerator#feed")}),B(pe,"$+",function(O){var D=this;return ye(ye("Enumerator"),"Chain").$new(D,O)}),B(pe,"$inspect",function(){var O=this,D=ce;return D="#<"+O.$class()+": "+O.object.$inspect()+":"+O.method,ne(O.args["$any?"]())&&(D=Ae(D,"("+O.args.$inspect()["$[]"](ye("Range").$new(1,-2))+")")),Ae(D,">")}),Ve(pe,"with_object","each_with_object"),pe.$autoload("ArithmeticSequence","corelib/enumerator/arithmetic_sequence"),pe.$autoload("Chain","corelib/enumerator/chain"),pe.$autoload("Generator","corelib/enumerator/generator"),pe.$autoload("Lazy","corelib/enumerator/lazy"),pe.$autoload("Yielder","corelib/enumerator/yielder")}("::",null,Ie)};Opal.modules["corelib/numeric"]=function(e){var a=e.klass,E=e.truthy,V=e.Kernel,I=e.def,_e=e.to_ary,ne=e.return_self,ae=e.rb_minus,ue=e.rb_times,B=e.rb_lt,Ae=e.eqeq,ze=e.rb_divide,xe=e.return_val,Ue=e.Opal,Ke=e.slice,qe=e.extract_kwargs,re=e.ensure_kwargs,Fe=e.not,Ve=e.send,Me=e.rb_ge,Ie=e.rb_le,ce=e.rb_plus,ye=e.rb_gt,le=e.alias,Re=e.top,ie=e.nil,pe=e.$$$;return e.add_stubs("require,include,instance_of?,class,Float,respond_to?,coerce,__send__,raise,equal?,-,*,div,<,-@,ceil,to_f,denominator,to_r,==,floor,/,%,Complex,zero?,numerator,abs,arg,coerce_to!,round,<=>,compare,is_a?,!,new,enum_for,to_proc,negative?,>=,<=,+,to_i,truncate,>,angle,conj,imag,rect"),Re.$require("corelib/comparable"),function(Q,p){var de=a(Q,p,"Numeric");return de.$include(pe("Comparable")),I(de,"$coerce",function(O){var D=this;return E(O["$instance_of?"](D.$class()))?[O,D]:[V.$Float(O),V.$Float(D)]}),I(de,"$__coerced__",function(O,D){var Ne,oe,P=this,h=ie,s=ie;if(E(D["$respond_to?"]("coerce")))return oe=D.$coerce(P),Ne=_e(oe),h=Ne[0]==null?ie:Ne[0],s=Ne[1]==null?ie:Ne[1],h.$__send__(O,s);switch(O){case"+":case"-":case"*":case"/":case"%":case"&":case"|":case"^":case"**":return V.$raise(pe("TypeError"),""+D.$class()+" can't be coerced into Numeric");case">":case">=":case"<":case"<=":case"<=>":return V.$raise(pe("ArgumentError"),"comparison of "+P.$class()+" with "+D.$class()+" failed");default:return ie}}),I(de,"$<=>",function(O){var D=this;return E(D["$equal?"](O))?0:ie}),I(de,"$+@",ne),I(de,"$-@",function(){var O=this;return ae(0,O)}),I(de,"$%",function(O){var D=this;return ae(D,ue(O,D.$div(O)))}),I(de,"$abs",function(){var O=this;return B(O,0)?O["$-@"]():O}),I(de,"$abs2",function(){var O=this;return ue(O,O)}),I(de,"$angle",function(){var O=this;return B(O,0)?pe(pe("Math"),"PI"):0}),I(de,"$ceil",function(O){var D=this;return O==null&&(O=0),D.$to_f().$ceil(O)},-1),I(de,"$conj",ne),I(de,"$denominator",function(){var O=this;return O.$to_r().$denominator()}),I(de,"$div",function(O){var D=this;return Ae(O,0)&&V.$raise(pe("ZeroDivisionError"),"divided by o"),ze(D,O).$floor()}),I(de,"$divmod",function(O){var D=this;return[D.$div(O),D["$%"](O)]}),I(de,"$fdiv",function(O){var D=this;return ze(D.$to_f(),O)}),I(de,"$floor",function(O){var D=this;return O==null&&(O=0),D.$to_f().$floor(O)},-1),I(de,"$i",function(){var O=this;return V.$Complex(0,O)}),I(de,"$imag",xe(0)),I(de,"$integer?",xe(!1)),I(de,"$nonzero?",function(){var O=this;return E(O["$zero?"]())?ie:O}),I(de,"$numerator",function(){var O=this;return O.$to_r().$numerator()}),I(de,"$polar",function(){var O=this;return[O.$abs(),O.$arg()]}),I(de,"$quo",function(O){var D=this;return ze(Ue["$coerce_to!"](D,pe("Rational"),"to_r"),O)}),I(de,"$real",ne),I(de,"$real?",xe(!0)),I(de,"$rect",function(){var O=this;return[O,0]}),I(de,"$round",function(O){var D=this;return D.$to_f().$round(O)},-1),I(de,"$step",function F(O,D,Ne){var oe=F.$$p||ie,P,h,s,n,i,$,o=this,v=ie;F.$$p=null,P=Ke(arguments),h=qe(P),h=re(h),P.length>0&&(s=P.shift()),P.length>0&&(n=P.shift()),i=h.$$smap.to,$=h.$$smap.by,s!==void 0&&i!==void 0&&V.$raise(pe("ArgumentError"),"to is given twice"),n!==void 0&&$!==void 0&&V.$raise(pe("ArgumentError"),"step is given twice"),i!==void 0&&(s=i),$!==void 0&&(n=$),s===void 0&&(s=ie);function w(){n===ie&&V.$raise(pe("TypeError"),"step must be numeric"),n!=null&&n["$=="](0)&&V.$raise(pe("ArgumentError"),"step can't be 0"),(n===ie||n==null)&&(n=1);var gt=n["$<=>"](0);gt===ie&&V.$raise(pe("ArgumentError"),"0 can't be coerced into "+n.$class()),(s===ie||s==null)&&(s=gt>0?pe(pe("Float"),"INFINITY"):pe(pe("Float"),"INFINITY")["$-@"]()),Ue.$compare(o,s)}function K(){if(n>0&&o>s||n<0&&o<s)return 0;if(n===1/0||n===-1/0)return 1;var gt=Math.abs,mt=Math.floor,Qe=(gt(o)+gt(s)+gt(s-o))/gt(n)*pe(pe("Float"),"EPSILON");return Qe===1/0||Qe===-1/0?0:(Qe>.5&&(Qe=.5),mt((s-o)/n+Qe)+1)}function Ce(){if(w(),n===0)return 1/0;if(n%1!==0)return K();if(n>0&&o>s||n<0&&o<s)return 0;var gt=Math.ceil,mt=Math.abs,Qe=mt(o-s)+1,me=mt(n);return gt(Qe/me)}if(oe===ie)return(Fe(s)||E(s["$is_a?"](pe("Numeric"))))&&(Fe(n)||E(n["$is_a?"](pe("Numeric"))))?pe(pe("Enumerator"),"ArithmeticSequence").$new([s,n,E(i)?"to: ":ie,E($)?"by: ":ie],o):Ve(o,"enum_for",["step",s,n],Ce.$to_proc());w();var tt=n["$negative?"](),ot=n["$=="](0)||s===1/0&&!tt||s===-1/0&&tt;if(o.$$is_number&&n.$$is_number&&s.$$is_number)if(o%1===0&&(ot||s%1===0)&&n%1===0){var lt=o;if(ot)for(;;lt+=n)oe(lt);else if(tt)for(;lt>=s;lt+=n)oe(lt);else for(;lt<=s;lt+=n)oe(lt);return o}else{var vt=o.$to_f().valueOf();n=n.$to_f().valueOf(),s=s.$to_f().valueOf();var _t=K();if(!isFinite(n))_t!==0&&oe(vt);else if(n===0)for(;;)oe(vt);else for(var bt=0;bt<_t;bt++){var pt=bt*n+o;(n>=0?s<pt:s>pt)&&(pt=s),oe(pt)}return o}for(v=o;E(tt?Me(v,s):Ie(v,s));)e.yield1(oe,v),v=ce(v,n)},-1),I(de,"$to_c",function(){var O=this;return V.$Complex(O,0)}),I(de,"$to_int",function(){var O=this;return O.$to_i()}),I(de,"$truncate",function(O){var D=this;return O==null&&(O=0),D.$to_f().$truncate(O)},-1),I(de,"$zero?",function(){var O=this;return O["$=="](0)}),I(de,"$positive?",function(){var O=this;return ye(O,0)}),I(de,"$negative?",function(){var O=this;return B(O,0)}),I(de,"$dup",ne),I(de,"$clone",function(O){var D=this;return O=re(O),O.$$smap.freeze,D},-1),I(de,"$finite?",xe(!0)),I(de,"$infinite?",xe(ie)),le(de,"arg","angle"),le(de,"conjugate","conj"),le(de,"imaginary","imag"),le(de,"magnitude","abs"),le(de,"modulo","%"),le(de,"phase","arg"),le(de,"rectangular","rect")}("::",null)};Opal.modules["corelib/array"]=function(e){var a=e.truthy,E=e.falsy,V=e.hash_ids,I=e.yield1,_e=e.hash_get,ne=e.hash_put,ae=e.hash_delete,ue=e.coerce_to,B=e.respond_to,Ae=e.deny_frozen_access,ze=e.freeze,xe=e.klass,Ue=e.slice,Ke=e.defs,qe=e.Kernel,re=e.def,Fe=e.Opal,Ve=e.eqeqeq,Me=e.hash2,Ie=e.send2,ce=e.find_super,ye=e.send,le=e.rb_gt,Re=e.rb_times,ie=e.eqeq,pe=e.rb_minus,Q=e.to_a,p=e.to_ary,de=e.gvars,F=e.rb_ge,O=e.assign_ivar,D=e.rb_lt,Ne=e.return_self,oe=e.neqeq,P=e.alias,h=e.top,s=[],n=e.nil,i=e.$$$;return e.add_stubs("require,include,to_a,warn,raise,replace,respond_to?,to_ary,coerce_to?,===,join,to_str,hash,<=>,==,object_id,inspect,enum_for,class,bsearch_index,to_proc,nil?,coerce_to!,>,*,enumerator_size,empty?,size,map,equal?,dup,each,reduce,-,[],dig,eql?,length,exclude_end?,flatten,frozen?,__id__,&,!,intersection,to_s,new,item,max,min,>=,**,delete_if,reverse,rotate,rand,at,keep_if,shuffle!,<,sort,sort_by,!=,times,[]=,<<,uniq,|,values,is_a?,end,begin,upto,reject,push,select,select!,collect,collect!,unshift,pristine,singleton_class"),h.$require("corelib/enumerable"),h.$require("corelib/numeric"),function($,o,v){var w=xe($,o,"Array"),K=[w].concat(v),Ce=e.$r(K);w.$include(i("Enumerable")),e.prop(w.$$prototype,"$$is_array",!0);function tt(Qe){for(var me=Qe[0],Ee=1,je=Qe.length;Ee<je;Ee++)Qe[Ee-1]=Qe[Ee];return Qe.pop(),me}function ot(Qe,me){return me.$$name===e.Array?Qe:me.$allocate().$replace(Qe.$to_a())}function lt(Qe,me,Ee){for(var je,_=null,x=new Array(Qe.length),te=0,we=0,Ye=Qe.length;te<Ye;te++){if(!_)try{je=I(Ee,Qe[te])}catch(nt){_=nt}(_||me(je))&&(x[we]=Qe[te],we+=1)}if(we!==te&&(Qe.splice.apply(Qe,[0,x.length].concat(x)),Qe.splice(we,x.length)),_)throw _}Ke(w,"$[]",function(me){var Ee,je,_=this;return Ee=Ue(arguments),je=Ee,ot(je,_)},-1),re(w,"$initialize",function Qe(me,Ee){var je=Qe.$$p||n,_=this;if(Qe.$$p=null,me==null&&(me=n),Ee==null&&(Ee=n),Ae(_),Ee!==n&&je!==n&&qe.$warn("warning: block supersedes default value argument"),me>i(i("Integer"),"MAX")&&qe.$raise(i("ArgumentError"),"array size too big"),arguments.length>2&&qe.$raise(i("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)"),arguments.length===0)return _.splice(0,_.length),_;if(arguments.length===1){if(me.$$is_array)return _.$replace(me.$to_a()),_;if(me["$respond_to?"]("to_ary"))return _.$replace(me.$to_ary()),_}me=ue(me,i("Integer"),"to_int"),me<0&&qe.$raise(i("ArgumentError"),"negative array size"),_.splice(0,_.length);var x,te;if(je===n)for(x=0;x<me;x++)_.push(Ee);else for(x=0,te;x<me;x++)te=je(x),_[x]=te;return _},-1),Ke(w,"$try_convert",function(me){return Fe["$coerce_to?"](me,i("Array"),"to_ary")}),re(w,"$&",function(me){var Ee=this;me=Ve(i("Array"),me)?me.$to_a():ue(me,i("Array"),"to_ary").$to_a();var je=[],_=Me([],{}),x,te,we;for(x=0,te=me.length;x<te;x++)ne(_,me[x],!0);for(x=0,te=Ee.length;x<te;x++)we=Ee[x],ae(_,we)!==void 0&&je.push(we);return je}),re(w,"$|",function(me){var Ee=this;me=Ve(i("Array"),me)?me.$to_a():ue(me,i("Array"),"to_ary").$to_a();var je=Me([],{}),_,x;for(_=0,x=Ee.length;_<x;_++)ne(je,Ee[_],!0);for(_=0,x=me.length;_<x;_++)ne(je,me[_],!0);return je.$keys()}),re(w,"$*",function(me){var Ee=this;if(a(me["$respond_to?"]("to_str")))return Ee.$join(me.$to_str());me=ue(me,i("Integer"),"to_int"),a(me<0)&&qe.$raise(i("ArgumentError"),"negative argument");for(var je=[],_=Ee.$to_a(),x=0;x<me;x++)je=je.concat(_);return je}),re(w,"$+",function(me){var Ee=this;return me=Ve(i("Array"),me)?me.$to_a():ue(me,i("Array"),"to_ary").$to_a(),Ee.concat(me)}),re(w,"$-",function(me){var Ee=this;if(me=Ve(i("Array"),me)?me.$to_a():ue(me,i("Array"),"to_ary").$to_a(),a(Ee.length===0))return[];if(a(me.length===0))return Ee.slice();var je=[],_=Me([],{}),x,te,we;for(x=0,te=me.length;x<te;x++)ne(_,me[x],!0);for(x=0,te=Ee.length;x<te;x++)we=Ee[x],_e(_,we)===void 0&&je.push(we);return je}),re(w,"$<<",function(me){var Ee=this;return Ae(Ee),Ee.push(me),Ee}),re(w,"$<=>",function(me){var Ee=this;if(Ve(i("Array"),me))me=me.$to_a();else if(a(me["$respond_to?"]("to_ary")))me=me.$to_ary().$to_a();else return n;if(Ee.$hash()===me.$hash())return 0;for(var je=Math.min(Ee.length,me.length),_=0;_<je;_++){var x=Ee[_]["$<=>"](me[_]);if(x!==0)return x}return Ee.length["$<=>"](me.length)}),re(w,"$==",function(me){var Ee=this,je={};function _(x,te){var we,Ye,nt,t;if(x===te)return!0;if(!te.$$is_array)return B(te,"$to_ary")?te["$=="](x):!1;if(x.$$constructor!==Array&&(x=x.$to_a()),te.$$constructor!==Array&&(te=te.$to_a()),x.length!==te.length)return!1;for(je[x.$object_id()]=!0,we=0,Ye=x.length;we<Ye;we++)if(nt=x[we],t=te[we],nt.$$is_array){if(t.$$is_array&&t.length!==nt.length||!je.hasOwnProperty(nt.$object_id())&&!_(nt,t))return!1}else if(!nt["$=="](t))return!1;return!0}return _(Ee,me)});function vt(Qe,me){var Ee=Qe.length,je,_,x,te;return je=me.excl,_=me.begin===n?0:ue(me.begin,e.Integer,"to_int"),x=me.end===n?-1:ue(me.end,e.Integer,"to_int"),_<0&&(_+=Ee,_<0)||(me.excl_rev&&me.begin!==n&&(_+=1),_>Ee)?n:x<0&&(x+=Ee,x<0)?[]:((!je||me.end===n)&&(x+=1),te=Qe.slice(_,x),te)}function _t(Qe,me){var Ee,je=[],_=0,x;for(me.step<0?(x={begin:me.range.end,end:me.range.begin,excl:!1,excl_rev:me.range.excl},Ee=vt(Qe,x).$reverse()):Ee=vt(Qe,me.range);_<Ee.length;)je.push(Ee[_]),_+=Math.abs(me.step);return je}function bt(Qe,me,Ee){var je=Qe.length,_;return me=ue(me,e.Integer,"to_int"),me<0&&(me+=je,me<0)?n:Ee===void 0?me>=je||me<0?n:Qe[me]:(Ee=ue(Ee,e.Integer,"to_int"),Ee<0||me>je||me<0?n:(_=Qe.slice(me,me+Ee),_))}re(w,"$[]",function(me,Ee){var je=this;return me.$$is_range?vt(je,me):me.$$is_arithmetic_seq?_t(je,me):bt(je,me,Ee)},-2),re(w,"$[]=",function(me,Ee,je){var _=this,x=n,te=n;Ae(_),x=n;var we,Ye=_.length;if(me.$$is_range){Ee.$$is_array?x=Ee.$to_a():Ee["$respond_to?"]("to_ary")?x=Ee.$to_ary().$to_a():x=[Ee];var nt=me.excl,t=me.begin===n?0:ue(me.begin,e.Integer,"to_int"),Y=me.end===n?-1:ue(me.end,e.Integer,"to_int");if(t<0&&(t+=Ye,t<0&&qe.$raise(i("RangeError"),""+me.$inspect()+" out of range")),Y<0&&(Y+=Ye),(!nt||me.end===n)&&(Y+=1),t>Ye)for(we=Ye;we<t;we++)_[we]=n;return Y<0?_.splice.apply(_,[t,0].concat(x)):_.splice.apply(_,[t,Y-t].concat(x)),Ee}else{je===void 0?te=1:(te=Ee,Ee=je,Ee.$$is_array?x=Ee.$to_a():Ee["$respond_to?"]("to_ary")?x=Ee.$to_ary().$to_a():x=[Ee]);var U;if(me=ue(me,i("Integer"),"to_int"),te=ue(te,i("Integer"),"to_int"),me<0&&(U=me,me+=Ye,me<0&&qe.$raise(i("IndexError"),"index "+U+" too small for array; minimum "+-_.length)),te<0&&qe.$raise(i("IndexError"),"negative length ("+te+")"),me>Ye)for(we=Ye;we<me;we++)_[we]=n;return je===void 0?_[me]=Ee:_.splice.apply(_,[me,te].concat(x)),Ee}},-3),re(w,"$any?",function Qe(me){var Ee=Qe.$$p||n,je=this;return Qe.$$p=null,je.length===0?!1:Ie(je,ce(je,"any?",Qe,!1,!0),"any?",[me],Ee)},-1),re(w,"$assoc",function(me){for(var Ee=this,je=0,_=Ee.length,x;je<_;je++)if(x=Ee[je],x.length&&x[0]["$=="](me))return x;return n}),re(w,"$at",function(me){var Ee=this;return me=ue(me,i("Integer"),"to_int"),me<0&&(me+=Ee.length),me<0||me>=Ee.length?n:Ee[me]}),re(w,"$bsearch_index",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return Ee.$enum_for("bsearch_index");for(var je=0,_=Ee.length,x,te,we,Ye=!1,nt=n;je<_;){if(x=je+Math.floor((_-je)/2),te=Ee[x],we=I(me,te),we===!0)nt=x,Ye=!0;else if(we===!1||we===n)Ye=!1;else if(we.$$is_number){if(we===0)return x;Ye=we<0}else qe.$raise(i("TypeError"),"wrong argument type "+we.$class()+" (must be numeric, true, false or nil)");Ye?_=x:je=x+1}return nt}),re(w,"$bsearch",function Qe(){var me=Qe.$$p||n,Ee=this,je=n;return Qe.$$p=null,me===n?Ee.$enum_for("bsearch"):(je=ye(Ee,"bsearch_index",[],me.$to_proc()),je!=null&&je.$$is_number?Ee[je]:je)}),re(w,"$cycle",function Qe(me){var Ee=Qe.$$p||n,je=this;if(Qe.$$p=null,me==null&&(me=n),Ee===n)return ye(je,"enum_for",["cycle",me],function te(){var we=te.$$s==null?this:te.$$s;return a(me["$nil?"]())?i(i("Float"),"INFINITY"):(me=Fe["$coerce_to!"](me,i("Integer"),"to_int"),a(le(me,0))?Re(we.$enumerator_size(),me):0)},{$$s:je});if(a(je["$empty?"]())||ie(me,0))return n;var _,x;if(me===n)for(;;)for(_=0,x=je.length;_<x;_++)I(Ee,je[_]);else{if(me=Fe["$coerce_to!"](me,i("Integer"),"to_int"),me<=0)return je;for(;me>0;){for(_=0,x=je.length;_<x;_++)I(Ee,je[_]);me--}}return je},-1),re(w,"$clear",function(){var me=this;return Ae(me),me.splice(0,me.length),me}),re(w,"$count",function Qe(me){var Ee=Qe.$$p||n,je=this;return Qe.$$p=null,a(me!==void 0)||a(Ee)?Ie(je,ce(je,"count",Qe,!1,!0),"count",[me],Ee):je.$size()},-1),re(w,"$initialize_copy",function(me){var Ee=this;return Ee.$replace(me)}),re(w,"$collect",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["collect"],function we(){var Ye=we.$$s==null?this:we.$$s;return Ye.$size()},{$$s:Ee});for(var je=[],_=0,x=Ee.length;_<x;_++){var te=I(me,Ee[_]);je.push(te)}return je}),re(w,"$collect!",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["collect!"],function te(){var we=te.$$s==null?this:te.$$s;return we.$size()},{$$s:Ee});Ae(Ee);for(var je=0,_=Ee.length;je<_;je++){var x=I(me,Ee[je]);Ee[je]=x}return Ee});function pt(Qe,me){return Qe===me||me===0?1:me>0&&Qe>me?pt(Qe-1,me-1)+pt(Qe-1,me):0}re(w,"$combination",function Qe(me){var Ee=Qe.$$p||n,je=this,_=n;if(Qe.$$p=null,_=Fe["$coerce_to!"](me,i("Integer"),"to_int"),Ee===n)return ye(je,"enum_for",["combination",_],function U(){var T=U.$$s==null?this:U.$$s;return pt(T.length,_)},{$$s:je});var x,te,we,Ye,nt,t,Y;if(_===0)e.yield1(Ee,[]);else if(_===1)for(x=0,te=je.length;x<te;x++)e.yield1(Ee,[je[x]]);else if(_===je.length)e.yield1(Ee,je.slice());else if(_>=0&&_<je.length){for(we=[],x=0;x<=_+1;x++)we.push(0);for(Ye=[],nt=0,t=!1,we[0]=-1;!t;){for(Ye[nt]=je[we[nt+1]];nt<_-1;)nt++,Y=we[nt+1]=we[nt]+1,Ye[nt]=je[Y];e.yield1(Ee,Ye.slice()),nt++;do t=nt===0,we[nt]++,nt--;while(we[nt+1]+_===je.length+nt+1)}}return je}),re(w,"$repeated_combination",function Qe(me){var Ee=Qe.$$p||n,je=this,_=n;if(Qe.$$p=null,_=Fe["$coerce_to!"](me,i("Integer"),"to_int"),Ee===n)return ye(je,"enum_for",["repeated_combination",_],function te(){var we=te.$$s==null?this:te.$$s;return pt(we.length+_-1,_)},{$$s:je});function x(te,we,Ye,nt){if(Ye.length==te){var t=Ye.slice();e.yield1(Ee,t);return}for(var Y=we;Y<nt.length;Y++)Ye.push(nt[Y]),x(te,Y,Ye,nt),Ye.pop()}return _>=0&&x(_,0,[],je),je}),re(w,"$compact",function(){for(var me=this,Ee=[],je=0,_=me.length,x;je<_;je++)(x=me[je])!==n&&Ee.push(x);return Ee}),re(w,"$compact!",function(){var me=this;Ae(me);for(var Ee=me.length,je=0,_=me.length;je<_;je++)me[je]===n&&(me.splice(je,1),_--,je--);return me.length===Ee?n:me}),re(w,"$concat",function(me){var Ee,je,_=this;return Ee=Ue(arguments),je=Ee,Ae(_),je=ye(je,"map",[],function x(te){var we=x.$$s==null?this:x.$$s;return te==null&&(te=n),te=Ve(i("Array"),te)?te.$to_a():ue(te,i("Array"),"to_ary").$to_a(),a(te["$equal?"](we))&&(te=te.$dup()),te},{$$s:_}),ye(je,"each",[],function x(te){var we=x.$$s==null?this:x.$$s;te==null&&(te=n);for(var Ye=0,nt=te.length;Ye<nt;Ye++)we.push(te[Ye])},{$$s:_}),_},-1),re(w,"$delete",function Qe(me){var Ee=Qe.$$p||n,je=this;Qe.$$p=null;for(var _=je.length,x=0,te=_;x<te;x++)je[x]["$=="](me)&&(Ae(je),je.splice(x,1),te--,x--);return je.length===_?Ee!==n?e.yieldX(Ee,[]):n:me}),re(w,"$delete_at",function(me){var Ee=this;if(Ae(Ee),me=ue(me,i("Integer"),"to_int"),me<0&&(me+=Ee.length),me<0||me>=Ee.length)return n;var je=Ee[me];return Ee.splice(me,1),je}),re(w,"$delete_if",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,me===n?ye(Ee,"enum_for",["delete_if"],function je(){var _=je.$$s==null?this:je.$$s;return _.$size()},{$$s:Ee}):(Ae(Ee),lt(Ee,E,me),Ee)}),re(w,"$difference",function(me){var Ee,je,_=this;return Ee=Ue(arguments),je=Ee,ye(je,"reduce",[_.$to_a().$dup()],function(te,we){return te==null&&(te=n),we==null&&(we=n),pe(te,we)})},-1),re(w,"$dig",function(me,Ee){var je,_,x=this,te=n;return je=Ue(arguments,1),_=je,te=x["$[]"](me),te===n||_.length===0?te:(a(te["$respond_to?"]("dig"))||qe.$raise(i("TypeError"),""+te.$class()+" does not have #dig method"),ye(te,"dig",Q(_)))},-2),re(w,"$drop",function(me){var Ee=this;return me=ue(me,i("Integer"),"to_int"),me<0&&qe.$raise(i("ArgumentError")),Ee.slice(me)}),re(w,"$dup",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,Ee.$$class===e.Array&&Ee.$$class.$allocate.$$pristine&&Ee.$copy_instance_variables.$$pristine&&Ee.$initialize_dup.$$pristine?Ee.slice(0):Ie(Ee,ce(Ee,"dup",Qe,!1,!0),"dup",[],me)}),re(w,"$each",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["each"],function x(){var te=x.$$s==null?this:x.$$s;return te.$size()},{$$s:Ee});for(var je=0,_=Ee.length;je<_;je++)I(me,Ee[je]);return Ee}),re(w,"$each_index",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["each_index"],function x(){var te=x.$$s==null?this:x.$$s;return te.$size()},{$$s:Ee});for(var je=0,_=Ee.length;je<_;je++)I(me,je);return Ee}),re(w,"$empty?",function(){var me=this;return me.length===0}),re(w,"$eql?",function(me){var Ee=this,je={};function _(x,te){var we,Ye,nt,t;if(!te.$$is_array||(te=te.$to_a(),x.length!==te.length))return!1;for(je[x.$object_id()]=!0,we=0,Ye=x.length;we<Ye;we++)if(nt=x[we],t=te[we],nt.$$is_array){if(t.$$is_array&&t.length!==nt.length||!je.hasOwnProperty(nt.$object_id())&&!_(nt,t))return!1}else if(!nt["$eql?"](t))return!1;return!0}return _(Ee,me)}),re(w,"$fetch",function Qe(me,Ee){var je=Qe.$$p||n,_=this;Qe.$$p=null;var x=me;if(me=ue(me,i("Integer"),"to_int"),me<0&&(me+=_.length),me>=0&&me<_.length)return _[me];if(je!==n&&Ee!=null&&_.$warn("warning: block supersedes default value argument"),je!==n)return je(x);if(Ee!=null)return Ee;_.length===0?qe.$raise(i("IndexError"),"index "+x+" outside of array bounds: 0...0"):qe.$raise(i("IndexError"),"index "+x+" outside of array bounds: -"+_.length+"..."+_.length)},-2),re(w,"$fill",function Qe(me){var Ee=Qe.$$p||n,je,_,x,te,we=this,Ye=n,nt=n,t=n,Y=n,U=n;Qe.$$p=null,je=Ue(arguments),_=je,Ae(we);var T,Z;if(a(Ee)?(a(_.length>2)&&qe.$raise(i("ArgumentError"),"wrong number of arguments ("+_.$length()+" for 0..2)"),te=_,x=p(te),Ye=x[0]==null?n:x[0],nt=x[1]==null?n:x[1]):(a(_.length==0)?qe.$raise(i("ArgumentError"),"wrong number of arguments (0 for 1..3)"):a(_.length>3)&&qe.$raise(i("ArgumentError"),"wrong number of arguments ("+_.$length()+" for 1..3)"),te=_,x=p(te),t=x[0]==null?n:x[0],Ye=x[1]==null?n:x[1],nt=x[2]==null?n:x[2]),Ve(i("Range"),Ye)){if(a(nt)&&qe.$raise(i("TypeError"),"length invalid with range"),Y=Ye.begin===n?0:ue(Ye.begin,i("Integer"),"to_int"),a(Y<0)&&(Y+=this.length),a(Y<0)&&qe.$raise(i("RangeError"),""+Ye.$inspect()+" out of range"),U=Ye.end===n?-1:ue(Ye.end,i("Integer"),"to_int"),a(U<0)&&(U+=this.length),a(Ye["$exclude_end?"]())||(U+=1),a(U<=Y))return we}else if(a(Ye))if(Y=ue(Ye,i("Integer"),"to_int"),a(Y<0)&&(Y+=this.length),a(Y<0)&&(Y=0),a(nt)){if(U=ue(nt,i("Integer"),"to_int"),a(U==0))return we;U+=Y}else U=this.length;else Y=0,U=this.length;if(a(Y>this.length))for(T=this.length;T<U;T++)we[T]=n;if(a(U>this.length)&&(this.length=U),a(Ee))for(this.length;Y<U;Y++)Z=Ee(Y),we[Y]=Z;else for(this.length;Y<U;Y++)we[Y]=t;return we},-1),re(w,"$first",function(me){var Ee=this;return me==null?Ee.length===0?n:Ee[0]:(me=ue(me,i("Integer"),"to_int"),me<0&&qe.$raise(i("ArgumentError"),"negative array size"),Ee.slice(0,me))},-1),re(w,"$flatten",function(me){var Ee=this;function je(_,x){var te=[],we,Ye,nt,t;for(_=_.$to_a(),we=0,Ye=_.length;we<Ye;we++){if(nt=_[we],!B(nt,"$to_ary",!0)){te.push(nt);continue}if(t=nt.$to_ary(),t===n){te.push(nt);continue}switch(t.$$is_array||qe.$raise(i("TypeError")),t===Ee&&qe.$raise(i("ArgumentError")),x){case void 0:te=te.concat(je(t));break;case 0:te.push(t);break;default:te.push.apply(te,je(t,x-1))}}return te}return me!==void 0&&(me=ue(me,i("Integer"),"to_int")),je(Ee,me)},-1),re(w,"$flatten!",function(me){var Ee=this;Ae(Ee);var je=Ee.$flatten(me);if(Ee.length==je.length){for(var _=0,x=Ee.length;_<x&&Ee[_]===je[_];_++);if(_==x)return n}return Ee.$replace(je),Ee},-1),re(w,"$freeze",function(){var me=this;return a(me["$frozen?"]())?me:ze(me)}),re(w,"$hash",function(){var me=this,Ee=V===void 0,je=["A"],_=me.$object_id(),x,te,we;try{if(Ee&&(V=Object.create(null)),V[_])return"self";for(we in V)if(x=V[we],me["$eql?"](x))return"self";for(V[_]=me,te=0;te<me.length;te++)x=me[te],je.push(x.$hash());return je.join(",")}finally{Ee&&(V=void 0)}}),re(w,"$include?",function(me){for(var Ee=this,je=0,_=Ee.length;je<_;je++)if(Ee[je]["$=="](me))return!0;return!1}),re(w,"$index",function Qe(me){var Ee=Qe.$$p||n,je=this;Qe.$$p=null;var _,x,te;if(me!=null&&Ee!==n&&je.$warn("warning: given block not used"),me!=null){for(_=0,x=je.length;_<x;_++)if(je[_]["$=="](me))return _}else if(Ee!==n){for(_=0,x=je.length;_<x;_++)if(te=Ee(je[_]),te!==!1&&te!==n)return _}else return je.$enum_for("index");return n},-1),re(w,"$insert",function(me,Ee){var je,_,x=this;if(je=Ue(arguments,1),_=je,Ae(x),me=ue(me,i("Integer"),"to_int"),_.length>0){if(me<0&&(me+=x.length+1,me<0&&qe.$raise(i("IndexError"),""+me+" is out of bounds")),me>x.length)for(var te=x.length;te<me;te++)x.push(n);x.splice.apply(x,[me,0].concat(_))}return x},-2);var gt=[];re(w,"$inspect",function(){var me=this,Ee=[],je=me.$__id__(),_=!0;return function(){try{if(gt.indexOf(je)!==-1)return _=!1,"[...]";gt.push(je);for(var x=0,te=me.length;x<te;x++){var we=me["$[]"](x);Ee.push(Ce("Opal").$inspect(we))}return"["+Ee.join(", ")+"]"}finally{_&&gt.pop()}}()}),re(w,"$intersection",function(me){var Ee,je,_=this;return Ee=Ue(arguments),je=Ee,ye(je,"reduce",[_.$to_a().$dup()],function(te,we){return te==null&&(te=n),we==null&&(we=n),te["$&"](we)})},-1),re(w,"$intersect?",function(me){var Ee=this;return Ee.$intersection(me)["$empty?"]()["$!"]()}),re(w,"$join",function(me){var Ee=this;if(de[","]==null&&(de[","]=n),me==null&&(me=n),a(Ee.length===0))return"";a(me===n)&&(me=de[","]);var je=[],_,x,te,we;for(_=0,x=Ee.length;_<x;_++){if(te=Ee[_],B(te,"$to_str")&&(we=te.$to_str(),we!==n)){je.push(we.$to_s());continue}if(B(te,"$to_ary")&&(we=te.$to_ary(),we===Ee&&qe.$raise(i("ArgumentError")),we!==n)){je.push(we.$join(me));continue}if(B(te,"$to_s")&&(we=te.$to_s(),we!==n)){je.push(we);continue}qe.$raise(i("NoMethodError").$new(""+Ce("Opal").$inspect(Ee.$item())+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return me===n?je.join(""):je.join(Fe["$coerce_to!"](me,i("String"),"to_str").$to_s())},-1),re(w,"$keep_if",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,me===n?ye(Ee,"enum_for",["keep_if"],function je(){var _=je.$$s==null?this:je.$$s;return _.$size()},{$$s:Ee}):(Ae(Ee),lt(Ee,a,me),Ee)}),re(w,"$last",function(me){var Ee=this;return me==null?Ee.length===0?n:Ee[Ee.length-1]:(me=ue(me,i("Integer"),"to_int"),me<0&&qe.$raise(i("ArgumentError"),"negative array size"),me>Ee.length&&(me=Ee.length),Ee.slice(Ee.length-me,Ee.length))},-1),re(w,"$length",function(){var me=this;return me.length}),re(w,"$max",function Qe(me){var Ee=Qe.$$p||n,je=this;return Qe.$$p=null,ye(je.$each(),"max",[me],Ee.$to_proc())},-1),re(w,"$min",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,ye(Ee.$each(),"min",[],me.$to_proc())});function mt(Qe,me){for(var Ee=me>=0?1:0;me;)Ee*=Qe,Qe--,me--;return Ee}return re(w,"$permutation",function Qe(me){var Ee=Qe.$$p||n,je=this,_=n,x=n;if(Qe.$$p=null,Ee===n)return ye(je,"enum_for",["permutation",me],function t(){var Y=t.$$s==null?this:t.$$s;return mt(Y.length,me===void 0?Y.length:me)},{$$s:je});var te,we,Ye;if(me===void 0?me=je.length:me=ue(me,i("Integer"),"to_int"),!(me<0||je.length<me))if(me===0)e.yield1(Ee,[]);else if(me===1)for(var nt=0;nt<je.length;nt++)e.yield1(Ee,[je[nt]]);else _=Ce("Array").$new(me),x=Ce("Array").$new(je.length,!1),te=function(t,Y,U,T,Z){je=this;for(var c=0;c<je.length;c++)if(T["$[]"](c)["$!"]())if(Y[U]=c,U<t-1)T[c]=!0,te.call(je,t,Y,U+1,T,Z),T[c]=!1;else{Ye=[];for(var z=0;z<Y.length;z++)Ye.push(je[Y[z]]);I(Z,Ye)}},Ee!==n?(we=je.slice(),te.call(we,me,_,0,x,Ee)):te.call(je,me,_,0,x,Ee);return je},-1),re(w,"$repeated_permutation",function Qe(me){var Ee=Qe.$$p||n,je=this,_=n;if(Qe.$$p=null,_=Fe["$coerce_to!"](me,i("Integer"),"to_int"),Ee===n)return ye(je,"enum_for",["repeated_permutation",_],function te(){var we=te.$$s==null?this:te.$$s;return a(F(_,0))?we.$size()["$**"](_):0},{$$s:je});function x(te,we,Ye){if(we.length==te){var nt=we.slice();e.yield1(Ee,nt);return}for(var t=0;t<Ye.length;t++)we.push(Ye[t]),x(te,we,Ye),we.pop()}return x(_,[],je.slice()),je}),re(w,"$pop",function(me){var Ee=this;return Ae(Ee),a(me===void 0)?a(Ee.length===0)?n:Ee.pop():(me=ue(me,i("Integer"),"to_int"),a(me<0)&&qe.$raise(i("ArgumentError"),"negative array size"),a(Ee.length===0)?[]:a(me===1)?[Ee.pop()]:a(me>Ee.length)?Ee.splice(0,Ee.length):Ee.splice(Ee.length-me,Ee.length))},-1),re(w,"$product",function Qe(me){var Ee=Qe.$$p||n,je,_,x=this;Qe.$$p=null,je=Ue(arguments),_=je;var te=Ee!==n?null:[],we=_.length+1,Ye=new Array(we),nt=new Array(we),t=new Array(we),Y,U,T,Z,c=1;for(t[0]=x,Y=1;Y<we;Y++)t[Y]=ue(_[Y-1],i("Array"),"to_ary");for(Y=0;Y<we;Y++){if(Z=t[Y].length,Z===0)return te||x;c*=Z,c>2147483647&&qe.$raise(i("RangeError"),"too big to product"),nt[Y]=Z,Ye[Y]=0}e:for(;;){for(T=[],Y=0;Y<we;Y++)T.push(t[Y][Ye[Y]]);for(te?te.push(T):e.yield1(Ee,T),U=we-1,Ye[U]++;Ye[U]===nt[U];){if(Ye[U]=0,--U<0)break e;Ye[U]++}}return te||x},-1),re(w,"$push",function(me){var Ee,je,_=this;Ee=Ue(arguments),je=Ee,Ae(_);for(var x=0,te=je.length;x<te;x++)_.push(je[x]);return _},-1),re(w,"$rassoc",function(me){for(var Ee=this,je=0,_=Ee.length,x;je<_;je++)if(x=Ee[je],x.length&&x[1]!==void 0&&x[1]["$=="](me))return x;return n}),re(w,"$reject",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["reject"],function we(){var Ye=we.$$s==null?this:we.$$s;return Ye.$size()},{$$s:Ee});for(var je=[],_=0,x=Ee.length,te;_<x;_++)te=me(Ee[_]),(te===!1||te===n)&&je.push(Ee[_]);return je}),re(w,"$reject!",function Qe(){var me=Qe.$$p||n,Ee=this,je=n;return Qe.$$p=null,me===n?ye(Ee,"enum_for",["reject!"],function _(){var x=_.$$s==null?this:_.$$s;return x.$size()},{$$s:Ee}):(Ae(Ee),je=Ee.$length(),ye(Ee,"delete_if",[],me.$to_proc()),ie(Ee.$length(),je)?n:Ee)}),re(w,"$replace",function(me){var Ee=this;return Ae(Ee),me=Ve(i("Array"),me)?me.$to_a():ue(me,i("Array"),"to_ary").$to_a(),Ee.splice(0,Ee.length),Ee.push.apply(Ee,me),Ee}),re(w,"$reverse",function(){var me=this;return me.slice(0).reverse()}),re(w,"$reverse!",function(){var me=this;return Ae(me),me.reverse()}),re(w,"$reverse_each",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,me===n?ye(Ee,"enum_for",["reverse_each"],function je(){var _=je.$$s==null?this:je.$$s;return _.$size()},{$$s:Ee}):(ye(Ee.$reverse(),"each",[],me.$to_proc()),Ee)}),re(w,"$rindex",function Qe(me){var Ee=Qe.$$p||n,je=this;Qe.$$p=null;var _,x;if(me!=null&&Ee!==n&&je.$warn("warning: given block not used"),me!=null){for(_=je.length-1;_>=0&&!(_>=je.length);_--)if(je[_]["$=="](me))return _}else if(Ee!==n){for(_=je.length-1;_>=0&&!(_>=je.length);_--)if(x=Ee(je[_]),x!==!1&&x!==n)return _}else if(me==null)return je.$enum_for("rindex");return n},-1),re(w,"$rotate",function(me){var Ee=this;me==null&&(me=1);var je,_,x,te;return me=ue(me,i("Integer"),"to_int"),Ee.length===1?Ee.slice():Ee.length===0?[]:(je=Ee.slice(),_=me%je.length,x=je.slice(_),te=je.slice(0,_),x.concat(te))},-1),re(w,"$rotate!",function(me){var Ee=this,je=n;return me==null&&(me=1),Ae(Ee),Ee.length===0||Ee.length===1?Ee:(me=ue(me,i("Integer"),"to_int"),je=Ee.$rotate(me),Ee.$replace(je))},-1),function(Qe,me){var Ee=xe(Qe,me,"SampleRandom"),je=Ee.$$prototype;return je.rng=n,re(Ee,"$initialize",O("rng")),re(Ee,"$rand",function(x){var te=this,we=n;return we=ue(te.rng.$rand(x),i("Integer"),"to_int"),a(we<0)&&qe.$raise(i("RangeError"),"random value must be >= 0"),a(we<x)||qe.$raise(i("RangeError"),"random value must be less than Array size"),we})}(w,null),re(w,"$sample",function(me,Ee){var je=this,_=n,x=n;if(a(me===void 0))return je.$at(qe.$rand(je.length));if(a(Ee===void 0)?a(_=Fe["$coerce_to?"](me,i("Hash"),"to_hash"))?(Ee=_,me=n):(Ee=n,me=ue(me,i("Integer"),"to_int")):(me=ue(me,i("Integer"),"to_int"),Ee=ue(Ee,i("Hash"),"to_hash")),a(me)&&a(me<0)&&qe.$raise(i("ArgumentError"),"count must be greater than 0"),a(Ee)&&(x=Ee["$[]"]("random")),x=a(x)&&a(x["$respond_to?"]("rand"))?Ce("SampleRandom").$new(x):qe,!a(me))return je[x.$rand(je.length)];var te,we,Ye,nt,t,Y,U,T;switch(me>je.length&&(me=je.length),me){case 0:return[];case 1:return[je[x.$rand(je.length)]];case 2:return nt=x.$rand(je.length),t=x.$rand(je.length-1),nt<=t&&t++,[je[nt],je[t]];default:if(je.length/me>3){for(te=!1,we=0,Ye=Ce("Array").$new(me),nt=1,Ye[0]=x.$rand(je.length);nt<me;){for(Y=x.$rand(je.length),t=0;t<nt;){for(;Y===Ye[t];){if(we++,we>100){te=!0;break}Y=x.$rand(je.length)}if(te)break;t++}if(te)break;Ye[nt]=Y,nt++}if(!te){for(nt=0;nt<me;)Ye[nt]=je[Ye[nt]],nt++;return Ye}}Ye=je.slice();for(var Z=0;Z<me;Z++)U=x.$rand(je.length-Z)+Z,T=Ye[Z],Ye[Z]=Ye[U],Ye[U]=T;return me===je.length?Ye:Ye["$[]"](0,me)}},-1),re(w,"$select",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["select"],function Ye(){var nt=Ye.$$s==null?this:Ye.$$s;return nt.$size()},{$$s:Ee});for(var je=[],_=0,x=Ee.length,te,we;_<x;_++)te=Ee[_],we=I(me,te),a(we)&&je.push(te);return je}),re(w,"$select!",function Qe(){var me=Qe.$$p||n,Ee=this;if(Qe.$$p=null,me===n)return ye(Ee,"enum_for",["select!"],function _(){var x=_.$$s==null?this:_.$$s;return x.$size()},{$$s:Ee});Ae(Ee);var je=Ee.length;return ye(Ee,"keep_if",[],me.$to_proc()),Ee.length===je?n:Ee}),re(w,"$shift",function(me){var Ee=this;return Ae(Ee),a(me===void 0)?a(Ee.length===0)?n:tt(Ee):(me=ue(me,i("Integer"),"to_int"),a(me<0)&&qe.$raise(i("ArgumentError"),"negative array size"),a(Ee.length===0)?[]:Ee.splice(0,me))},-1),re(w,"$shuffle",function(me){var Ee=this;return Ee.$dup().$to_a()["$shuffle!"](me)},-1),re(w,"$shuffle!",function(me){var Ee=this;Ae(Ee);var je,_=Ee.length,x,te;for(me!==void 0&&(me=Fe["$coerce_to?"](me,i("Hash"),"to_hash"),me!==n&&(me=me["$[]"]("random"),me!==n&&me["$respond_to?"]("rand")&&(je=me)));_;)je?(x=je.$rand(_).$to_int(),x<0&&qe.$raise(i("RangeError"),"random number too small "+x),x>=_&&qe.$raise(i("RangeError"),"random number too big "+x)):x=Ee.$rand(_),te=Ee[--_],Ee[_]=Ee[x],Ee[x]=te;return Ee},-1),re(w,"$slice!",function(me,Ee){var je=this,_=n,x=n,te=n,we=n,Ye=n;if(Ae(je),_=n,a(Ee===void 0))if(Ve(i("Range"),me)){x=me,_=je["$[]"](x),te=x.begin===n?0:ue(x.begin,i("Integer"),"to_int"),we=x.end===n?-1:ue(x.end,i("Integer"),"to_int"),te<0&&(te+=je.length),we<0?we+=je.length:we>=je.length&&(we=je.length-1,x.excl&&(we+=1));var nt=we-te;x.excl&&x.end!==n?we-=1:nt+=1,te<je.length&&te>=0&&we<je.length&&we>=0&&nt>0&&je.splice(te,nt)}else{if(Ye=ue(me,i("Integer"),"to_int"),Ye<0&&(Ye+=je.length),Ye<0||Ye>=je.length)return n;_=je[Ye],Ye===0?je.shift():je.splice(Ye,1)}else{if(Ye=ue(me,i("Integer"),"to_int"),Ee=ue(Ee,i("Integer"),"to_int"),Ee<0)return n;_=je["$[]"](Ye,Ee),Ye<0&&(Ye+=je.length),Ye+Ee>je.length&&(Ee=je.length-Ye),Ye<je.length&&Ye>=0&&je.splice(Ye,Ee)}return _},-2),re(w,"$sort",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,a(Ee.length>1)?(me===n&&(me=function(je,_){return je["$<=>"](_)}),Ee.slice().sort(function(je,_){var x=me(je,_);return x===n&&qe.$raise(i("ArgumentError"),"comparison of "+je.$inspect()+" with "+_.$inspect()+" failed"),le(x,0)?1:D(x,0)?-1:0})):Ee}),re(w,"$sort!",function Qe(){var me=Qe.$$p||n,Ee=this;Qe.$$p=null,Ae(Ee);var je;me!==n?je=ye(Ee.slice(),"sort",[],me.$to_proc()):je=Ee.slice().$sort(),Ee.length=0;for(var _=0,x=je.length;_<x;_++)Ee.push(je[_]);return Ee}),re(w,"$sort_by!",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,me===n?ye(Ee,"enum_for",["sort_by!"],function je(){var _=je.$$s==null?this:je.$$s;return _.$size()},{$$s:Ee}):(Ae(Ee),Ee.$replace(ye(Ee,"sort_by",[],me.$to_proc())))}),re(w,"$take",function(me){var Ee=this;return me<0&&qe.$raise(i("ArgumentError")),Ee.slice(0,me)}),re(w,"$take_while",function Qe(){var me=Qe.$$p||n,Ee=this;Qe.$$p=null;for(var je=[],_=0,x=Ee.length,te,we;_<x;_++){if(te=Ee[_],we=me(te),we===!1||we===n)return je;je.push(te)}return je}),re(w,"$to_a",function(){var me=this;return me.$$class===e.Array?me:e.Array.$new(me)}),re(w,"$to_ary",Ne),re(w,"$to_h",function Qe(){var me=Qe.$$p||n,Ee=this,je=n;Qe.$$p=null,je=Ee,me!==n&&(je=ye(je,"map",[],me.$to_proc()));var _,x=je.length,te,we,Ye,nt=Me([],{});for(_=0;_<x;_++)te=Fe["$coerce_to?"](je[_],i("Array"),"to_ary"),te.$$is_array||qe.$raise(i("TypeError"),"wrong element type "+te.$class()+" at "+_+" (expected array)"),te.length!==2&&qe.$raise(i("ArgumentError"),"wrong array length at "+_+" (expected 2, was "+te.$length()+")"),we=te[0],Ye=te[1],ne(nt,we,Ye);return nt}),re(w,"$transpose",function(){var me=this,Ee=n,je=n;return a(me["$empty?"]())?[]:(Ee=[],je=n,ye(me,"each",[],function(x){var te=n;return x==null&&(x=n),x=Ve(i("Array"),x)?x.$to_a():ue(x,i("Array"),"to_ary").$to_a(),je=a(te=je)?te:x.length,oe(x.length,je)&&qe.$raise(i("IndexError"),"element size differs ("+x.length+" should be "+je+")"),ye(x.length,"times",[],function(Ye){var nt,t=n;return Ye==null&&(Ye=n),t=a(te=Ee["$[]"](Ye))?te:(nt=[Ye,[]],ye(Ee,"[]=",nt),nt[nt.length-1]),t["$<<"](x.$at(Ye))})}),Ee)}),re(w,"$union",function(me){var Ee,je,_=this;return Ee=Ue(arguments),je=Ee,ye(je,"reduce",[_.$uniq()],function(te,we){return te==null&&(te=n),we==null&&(we=n),te["$|"](we)})},-1),re(w,"$uniq",function Qe(){var me=Qe.$$p||n,Ee=this;Qe.$$p=null;var je=Me([],{}),_,x,te,we;if(me===n)for(_=0,x=Ee.length;_<x;_++)te=Ee[_],_e(je,te)===void 0&&ne(je,te,te);else for(_=0,x=Ee.length;_<x;_++)te=Ee[_],we=I(me,te),_e(je,we)===void 0&&ne(je,we,te);return je.$values()}),re(w,"$uniq!",function Qe(){var me=Qe.$$p||n,Ee=this;Qe.$$p=null,Ae(Ee);var je=Ee.length,_=Me([],{}),x,te,we,Ye;for(x=0,te=je;x<te;x++){if(we=Ee[x],Ye=me===n?we:I(me,we),_e(_,Ye)===void 0){ne(_,Ye,we);continue}Ee.splice(x,1),te--,x--}return Ee.length===je?n:Ee}),re(w,"$unshift",function(me){var Ee,je,_=this;Ee=Ue(arguments),je=Ee,Ae(_);var x=_.length,te=je.length;if(te==0)return _;for(var we=x-te,Ye=0;Ye<te;Ye++)_.push(_[we+Ye]);for(var nt=x-1;nt-te>=0;)_[nt]=_[nt-te],nt--;for(var t=0;t<te;t++)_[t]=je[t];return _},-1),re(w,"$values_at",function(me){var Ee,je,_=this,x=n;return Ee=Ue(arguments),je=Ee,x=[],ye(je,"each",[],function te(we){var Ye=te.$$s==null?this:te.$$s,nt=n,t=n,Y=n;return we==null&&(we=n),a(we["$is_a?"](i("Range")))?(nt=we.$end()===n?-1:ue(we.$end(),i("Integer"),"to_int"),t=we.$begin()===n?0:ue(we.$begin(),i("Integer"),"to_int"),t<0?(t=t+Ye.length,n):(nt<0&&(nt=nt+Ye.length),we["$exclude_end?"]()&&we.$end()!==n&&nt--,nt<t?n:ye(t,"upto",[nt],function U(T){var Z=U.$$s==null?this:U.$$s;return T==null&&(T=n),x["$<<"](Z.$at(T))},{$$s:Ye}))):(Y=ue(we,i("Integer"),"to_int"),x["$<<"](Ye.$at(Y)))},{$$s:_}),x},-1),re(w,"$zip",function Qe(me){var Ee=Qe.$$p||n,je,_,x=this,te=n;Qe.$$p=null,je=Ue(arguments),_=je;var we=[],Ye=x.length,nt,t,Y,U,T;for(U=0,T=_.length;U<T;U++)if(t=_[U],!t.$$is_array){if(t.$$is_range||t.$$is_enumerator){_[U]=t.$take(Ye);continue}_[U]=(a(te=Fe["$coerce_to?"](t,i("Array"),"to_ary"))?te:Fe["$coerce_to!"](t,i("Enumerator"),"to_enum","each")).$to_a()}for(Y=0;Y<Ye;Y++){for(nt=[x[Y]],U=0,T=_.length;U<T;U++)t=_[U][Y],t==null&&(t=n),nt[U+1]=t;we[Y]=nt}if(Ee!==n){for(Y=0;Y<Ye;Y++)e.yield1(Ee,we[Y]);return n}return we},-1),Ke(w,"$inherited",function(me){me.$$prototype.$to_a=function(){return this.slice(0,this.length)}}),re(w,"$instance_variables",function Qe(){var me=Qe.$$p||n,Ee=this;return Qe.$$p=null,ye(Ie(Ee,ce(Ee,"instance_variables",Qe,!1,!0),"instance_variables",[],me),"reject",[],function(_){var x=n;return _==null&&(_=n),a(x=/^@\d+$/.test(_))?x:_["$=="]("@length")})}),re(w,"$pack",function(me){return Ue(arguments),qe.$raise("To use Array#pack, you must first require 'corelib/array/pack'.")},-1),P(w,"append","push"),P(w,"filter","select"),P(w,"filter!","select!"),P(w,"map","collect"),P(w,"map!","collect!"),P(w,"prepend","unshift"),P(w,"size","length"),P(w,"slice","[]"),P(w,"to_s","inspect"),Fe.$pristine(w.$singleton_class(),"allocate"),Fe.$pristine(w,"copy_instance_variables","initialize_dup")}("::",Array,s)};Opal.modules["corelib/hash"]=function(e){var a=e.yield1,E=e.hash,V=e.hash_init,I=e.hash_get,_e=e.hash_put,ne=e.hash_delete,ae=e.deny_frozen_access,ue=e.freeze,B=e.klass,Ae=e.slice,ze=e.Opal,xe=e.Kernel,Ue=e.defs,Ke=e.def,qe=e.send,re=e.rb_ge,Fe=e.rb_gt,Ve=e.hash2,Me=e.truthy,Ie=e.to_a,ce=e.return_self,ye=e.alias,le=e.top,Re=[],ie=e.nil,pe=e.$$$;return e.add_stubs("require,include,coerce_to?,[],merge!,allocate,raise,coerce_to!,each,fetch,>=,>,==,compare_by_identity,lambda?,abs,arity,enum_for,size,respond_to?,class,dig,except!,dup,delete,new,inspect,map,to_proc,flatten,frozen?,eql?,default,default_proc,default_proc=,default=,to_h,proc,clone,select,select!,has_key?,indexes,index,length,[]=,has_value?"),le.$require("corelib/enumerable"),function(Q,p,de){var F=B(Q,p,"Hash"),O=[F].concat(de),D=e.$r(O);F.$include(pe("Enumerable")),F.$$prototype.$$is_hash=!0,Ue(F,"$[]",function(P){var h,s,n=this;h=Ae(arguments),s=h;var i,$=s.length,o;if($===1){if(i=ze["$coerce_to?"](s["$[]"](0),pe("Hash"),"to_hash"),i!==ie)return n.$allocate()["$merge!"](i);for(s=ze["$coerce_to?"](s["$[]"](0),pe("Array"),"to_ary"),s===ie&&xe.$raise(pe("ArgumentError"),"odd number of arguments for Hash"),$=s.length,i=n.$allocate(),o=0;o<$;o++)if(s[o].$$is_array)switch(s[o].length){case 1:i.$store(s[o][0],ie);break;case 2:i.$store(s[o][0],s[o][1]);break;default:xe.$raise(pe("ArgumentError"),"invalid number of elements ("+s[o].length+" for 1..2)")}return i}for($%2!==0&&xe.$raise(pe("ArgumentError"),"odd number of arguments for Hash"),i=n.$allocate(),o=0;o<$;o+=2)i.$store(s[o],s[o+1]);return i},-1),Ue(F,"$allocate",function(){var P=this,h=new P.$$constructor;return V(h),h.$$none=ie,h.$$proc=ie,h}),Ue(F,"$try_convert",function(P){return ze["$coerce_to?"](P,pe("Hash"),"to_hash")}),Ke(F,"$initialize",function oe(P){var h=oe.$$p||ie,s=this;return oe.$$p=null,ae(s),P!==void 0&&h!==ie&&xe.$raise(pe("ArgumentError"),"wrong number of arguments (1 for 0)"),s.$$none=P===void 0?ie:P,s.$$proc=h,s},-1),Ke(F,"$==",function(P){var h=this;if(h===P)return!0;if(!P.$$is_hash||h.$$keys.length!==P.$$keys.length)return!1;for(var s=0,n=h.$$keys,i=n.length,$,o,v;s<i;s++)if($=n[s],$.$$is_string?(o=h.$$smap[$],v=P.$$smap[$]):(o=$.value,v=I(P,$.key)),v===void 0||!o["$eql?"](v))return!1;return!0}),Ke(F,"$>=",function(P){var h=this,s=ie;return P=ze["$coerce_to!"](P,pe("Hash"),"to_hash"),h.$$keys.length<P.$$keys.length?!1:(s=!0,qe(P,"each",[],function n(i,$){var o=n.$$s==null?this:n.$$s,v=ie;if(i==null&&(i=ie),$==null&&($=ie),v=o.$fetch(i,null),v==null||v!==$){s=!1;return}},{$$s:h}),s)}),Ke(F,"$>",function(P){var h=this;return P=ze["$coerce_to!"](P,pe("Hash"),"to_hash"),h.$$keys.length<=P.$$keys.length?!1:re(h,P)}),Ke(F,"$<",function(P){var h=this;return P=ze["$coerce_to!"](P,pe("Hash"),"to_hash"),Fe(P,h)}),Ke(F,"$<=",function(P){var h=this;return P=ze["$coerce_to!"](P,pe("Hash"),"to_hash"),re(P,h)}),Ke(F,"$[]",function(P){var h=this,s=I(h,P);return s!==void 0?s:h.$default(P)}),Ke(F,"$[]=",function(P,h){var s=this;return ae(s),_e(s,P,h),h}),Ke(F,"$assoc",function(P){for(var h=this,s=0,n=h.$$keys,i=n.length,$;s<i;s++)if($=n[s],$.$$is_string){if($["$=="](P))return[$,h.$$smap[$]]}else if($.key["$=="](P))return[$.key,$.value];return ie}),Ke(F,"$clear",function(){var P=this;return ae(P),V(P),P}),Ke(F,"$clone",function(){var P=this,h=new P.$$class;return V(h),e.hash_clone(P,h),h}),Ke(F,"$compact",function(){for(var P=this,h=E(),s=0,n=P.$$keys,i=n.length,$,o,v;s<i;s++)$=n[s],$.$$is_string?o=P.$$smap[$]:(o=$.value,$=$.key),o!==ie&&_e(h,$,o);return h}),Ke(F,"$compact!",function(){var P=this;ae(P);for(var h=!1,s=0,n=P.$$keys,i=n.length,$,o,v;s<i;s++)$=n[s],$.$$is_string?o=P.$$smap[$]:(o=$.value,$=$.key),o===ie&&ne(P,$)!==void 0&&(h=!0,i--,s--);return h?P:ie}),Ke(F,"$compare_by_identity",function(){var P=this;ae(P);var h,s,n,i=P.$$keys,$;if(P.$$by_identity)return P;if(P.$$keys.length===0)return P.$$by_identity=!0,P;for($=Ve([],{}).$compare_by_identity(),h=0,s=i.length;h<s;h++)n=i[h],n.$$is_string||(n=n.key),_e($,n,I(P,n));return P.$$by_identity=!0,P.$$map=$.$$map,P.$$smap=$.$$smap,P}),Ke(F,"$compare_by_identity?",function(){var P=this;return P.$$by_identity===!0}),Ke(F,"$default",function(P){var h=this;return P!==void 0&&h.$$proc!==ie&&h.$$proc!==void 0?h.$$proc.$call(h,P):h.$$none===void 0?ie:h.$$none},-1),Ke(F,"$default=",function(P){var h=this;return ae(h),h.$$proc=ie,h.$$none=P,P}),Ke(F,"$default_proc",function(){var P=this;return P.$$proc!==void 0?P.$$proc:ie}),Ke(F,"$default_proc=",function(P){var h=this;ae(h);var s=P;return s!==ie&&(s=ze["$coerce_to!"](s,pe("Proc"),"to_proc"),s["$lambda?"]()&&s.$arity().$abs()!==2&&xe.$raise(pe("TypeError"),"default_proc takes two arguments")),h.$$none=ie,h.$$proc=s,P}),Ke(F,"$delete",function oe(P){var h=oe.$$p||ie,s=this;oe.$$p=null,ae(s);var n=ne(s,P);return n!==void 0?n:h!==ie?e.yield1(h,P):ie}),Ke(F,"$delete_if",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["delete_if"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:h});ae(h);for(var s=0,n=h.$$keys,i=n.length,$,o,v;s<i;s++)$=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),v=P($,o),v!==!1&&v!==ie&&ne(h,$)!==void 0&&(i--,s--);return h}),Ke(F,"$dig",function(P,h){var s,n,i=this,$=ie;return s=Ae(arguments,1),n=s,$=i["$[]"](P),$===ie||n.length===0?$:(Me($["$respond_to?"]("dig"))||xe.$raise(pe("TypeError"),""+$.$class()+" does not have #dig method"),qe($,"dig",Ie(n)))},-2),Ke(F,"$each",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["each"],function v(){var w=v.$$s==null?this:v.$$s;return w.$size()},{$$s:h});for(var s=0,n=h.$$keys.slice(),i=n.length,$,o;s<i;s++)$=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),a(P,[$,o]);return h}),Ke(F,"$each_key",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["each_key"],function o(){var v=o.$$s==null?this:o.$$s;return v.$size()},{$$s:h});for(var s=0,n=h.$$keys.slice(),i=n.length,$;s<i;s++)$=n[s],P($.$$is_string?$:$.key);return h}),Ke(F,"$each_value",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["each_value"],function o(){var v=o.$$s==null?this:o.$$s;return v.$size()},{$$s:h});for(var s=0,n=h.$$keys.slice(),i=n.length,$;s<i;s++)$=n[s],P($.$$is_string?h.$$smap[$]:$.value);return h}),Ke(F,"$empty?",function(){var P=this;return P.$$keys.length===0}),Ke(F,"$except",function(P){var h,s,n=this;return h=Ae(arguments),s=h,qe(n.$dup(),"except!",Ie(s))},-1),Ke(F,"$except!",function(P){var h,s,n=this;return h=Ae(arguments),s=h,qe(s,"each",[],function i($){var o=i.$$s==null?this:i.$$s;return $==null&&($=ie),o.$delete($)},{$$s:n}),n},-1),Ke(F,"$fetch",function oe(P,h){var s=oe.$$p||ie,n=this;oe.$$p=null;var i=I(n,P);return i!==void 0?i:s!==ie?s(P):h!==void 0?h:xe.$raise(pe("KeyError").$new("key not found: "+P.$inspect(),Ve(["key","receiver"],{key:P,receiver:n})))},-2),Ke(F,"$fetch_values",function oe(P){var h=oe.$$p||ie,s,n,i=this;return oe.$$p=null,s=Ae(arguments),n=s,qe(n,"map",[],function $(o){var v=$.$$s==null?this:$.$$s;return o==null&&(o=ie),qe(v,"fetch",[o],h.$to_proc())},{$$s:i})},-1),Ke(F,"$flatten",function(P){var h=this;P==null&&(P=1),P=ze["$coerce_to!"](P,pe("Integer"),"to_int");for(var s=[],n=0,i=h.$$keys,$=i.length,o,v;n<$;n++){if(o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),s.push(o),v.$$is_array){if(P===1){s.push(v);continue}s=s.concat(v.$flatten(P-2));continue}s.push(v)}return s},-1),Ke(F,"$freeze",function(){var P=this;return Me(P["$frozen?"]())?P:ue(P)}),Ke(F,"$has_key?",function(P){var h=this;return I(h,P)!==void 0}),Ke(F,"$has_value?",function(P){for(var h=this,s=0,n=h.$$keys,i=n.length,$;s<i;s++)if($=n[s],($.$$is_string?h.$$smap[$]:$.value)["$=="](P))return!0;return!1}),Ke(F,"$hash",function(){var P=this,h=e.hash_ids===void 0,s=P.$object_id(),n=["Hash"],i,$;try{if(h&&(e.hash_ids=Object.create(null)),e[s])return"self";for(i in e.hash_ids)if($=e.hash_ids[i],P["$eql?"]($))return"self";e.hash_ids[s]=P;for(var o=0,v=P.$$keys,w=v.length;o<w;o++)i=v[o],i.$$is_string?n.push([i,P.$$smap[i].$hash()]):n.push([i.key_hash,i.value.$hash()]);return n.sort().join()}finally{h&&(e.hash_ids=void 0)}}),Ke(F,"$index",function(P){for(var h=this,s=0,n=h.$$keys,i=n.length,$,o;s<i;s++)if($=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),o["$=="](P))return $;return ie}),Ke(F,"$indexes",function(P){var h,s,n=this;h=Ae(arguments),s=h;for(var i=[],$=0,o=s.length,v,w;$<o;$++){if(v=s[$],w=I(n,v),w===void 0){i.push(n.$default());continue}i.push(w)}return i},-1);var Ne;return Ke(F,"$inspect",function(){var P=this,h=Ne===void 0,s=P.$object_id(),n=[];return function(){try{if(h&&(Ne={}),Ne.hasOwnProperty(s))return"{...}";Ne[s]=!0;for(var i=0,$=P.$$keys,o=$.length,v,w;i<o;i++)v=$[i],v.$$is_string?w=P.$$smap[v]:(w=v.value,v=v.key),v=D("Opal").$inspect(v),w=D("Opal").$inspect(w),n.push(v+"=>"+w);return"{"+n.join(", ")+"}"}finally{h&&(Ne=void 0)}}()}),Ke(F,"$invert",function(){for(var P=this,h=E(),s=0,n=P.$$keys,i=n.length,$,o;s<i;s++)$=n[s],$.$$is_string?o=P.$$smap[$]:(o=$.value,$=$.key),_e(h,o,$);return h}),Ke(F,"$keep_if",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["keep_if"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:h});ae(h);for(var s=0,n=h.$$keys,i=n.length,$,o,v;s<i;s++)$=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),v=P($,o),(v===!1||v===ie)&&ne(h,$)!==void 0&&(i--,s--);return h}),Ke(F,"$keys",function(){for(var P=this,h=[],s=0,n=P.$$keys,i=n.length,$;s<i;s++)$=n[s],$.$$is_string?h.push($):h.push($.key);return h}),Ke(F,"$length",function(){var P=this;return P.$$keys.length}),Ke(F,"$merge",function oe(P){var h=oe.$$p||ie,s,n,i=this;return oe.$$p=null,s=Ae(arguments),n=s,qe(i.$dup(),"merge!",Ie(n),h.$to_proc())},-1),Ke(F,"$merge!",function oe(P){var h=oe.$$p||ie,s,n,i=this;oe.$$p=null,s=Ae(arguments),n=s,ae(i);var $,o,v,w,K,Ce,tt,ot;for($=0;$<n.length;++$)if(v=ze["$coerce_to!"](n[$],pe("Hash"),"to_hash"),w=v.$$keys,K=w.length,h===ie)for(o=0;o<K;o++)Ce=w[o],Ce.$$is_string?ot=v.$$smap[Ce]:(ot=Ce.value,Ce=Ce.key),_e(i,Ce,ot);else for(o=0;o<K;o++){if(Ce=w[o],Ce.$$is_string?ot=v.$$smap[Ce]:(ot=Ce.value,Ce=Ce.key),tt=I(i,Ce),tt===void 0){_e(i,Ce,ot);continue}_e(i,Ce,h(Ce,tt,ot))}return i},-1),Ke(F,"$rassoc",function(P){for(var h=this,s=0,n=h.$$keys,i=n.length,$,o;s<i;s++)if($=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),o["$=="](P))return[$,o];return ie}),Ke(F,"$rehash",function(){var P=this;return ae(P),e.hash_rehash(P),P}),Ke(F,"$reject",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["reject"],function K(){var Ce=K.$$s==null?this:K.$$s;return Ce.$size()},{$$s:h});for(var s=E(),n=0,i=h.$$keys,$=i.length,o,v,w;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),w=P(o,v),(w===!1||w===ie)&&_e(s,o,v);return s}),Ke(F,"$reject!",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["reject!"],function K(){var Ce=K.$$s==null?this:K.$$s;return Ce.$size()},{$$s:h});ae(h);for(var s=!1,n=0,i=h.$$keys,$=i.length,o,v,w;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),w=P(o,v),w!==!1&&w!==ie&&ne(h,o)!==void 0&&(s=!0,$--,n--);return s?h:ie}),Ke(F,"$replace",function(P){var h=this;ae(h),P=ze["$coerce_to!"](P,pe("Hash"),"to_hash"),V(h);for(var s=0,n=P.$$keys,i=n.length,$,o,v;s<i;s++)$=n[s],$.$$is_string?v=P.$$smap[$]:(v=$.value,$=$.key),_e(h,$,v);return Me(P.$default_proc())?h["$default_proc="](P.$default_proc()):h["$default="](P.$default()),h}),Ke(F,"$select",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["select"],function K(){var Ce=K.$$s==null?this:K.$$s;return Ce.$size()},{$$s:h});for(var s=E(),n=0,i=h.$$keys,$=i.length,o,v,w;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),w=P(o,v),w!==!1&&w!==ie&&_e(s,o,v);return s}),Ke(F,"$select!",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["select!"],function K(){var Ce=K.$$s==null?this:K.$$s;return Ce.$size()},{$$s:h});ae(h);for(var s=ie,n=0,i=h.$$keys,$=i.length,o,v,w;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),w=P(o,v),(w===!1||w===ie)&&(ne(h,o)!==void 0&&($--,n--),s=h);return s}),Ke(F,"$shift",function(){var P=this;ae(P);var h=P.$$keys,s;return h.length>0?(s=h[0],s=s.$$is_string?s:s.key,[s,ne(P,s)]):ie}),Ke(F,"$slice",function(P){var h,s,n=this;h=Ae(arguments),s=h;for(var i=E(),$=0,o=s.length;$<o;$++){var v=s[$],w=I(n,v);w!==void 0&&_e(i,v,w)}return i},-1),Ke(F,"$to_a",function(){for(var P=this,h=[],s=0,n=P.$$keys,i=n.length,$,o;s<i;s++)$=n[s],$.$$is_string?o=P.$$smap[$]:(o=$.value,$=$.key),h.push([$,o]);return h}),Ke(F,"$to_h",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,P!==ie)return qe(h,"map",[],P.$to_proc()).$to_h();if(h.$$class===e.Hash)return h;var s=new e.Hash;return V(s),e.hash_clone(h,s),s}),Ke(F,"$to_hash",ce),Ke(F,"$to_proc",function(){var P=this;return qe(P,"proc",[],function h(s){var n=h.$$s==null?this:h.$$s;return s==null&&xe.$raise(pe("ArgumentError"),"no key given"),n["$[]"](s)},{$$arity:-1,$$s:P})}),Ke(F,"$transform_keys",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["transform_keys"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:h});for(var s=E(),n=0,i=h.$$keys,$=i.length,o,v;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),o=a(P,o),_e(s,o,v);return s}),Ke(F,"$transform_keys!",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["transform_keys!"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:h});ae(h);var s=e.slice(h.$$keys),n,i=s.length,$,o,v;for(n=0;n<i;n++)$=s[n],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),v=a(P,$),ne(h,$),_e(h,v,o);return h}),Ke(F,"$transform_values",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["transform_values"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:h});for(var s=E(),n=0,i=h.$$keys,$=i.length,o,v;n<$;n++)o=i[n],o.$$is_string?v=h.$$smap[o]:(v=o.value,o=o.key),v=a(P,v),_e(s,o,v);return s}),Ke(F,"$transform_values!",function oe(){var P=oe.$$p||ie,h=this;if(oe.$$p=null,!Me(P))return qe(h,"enum_for",["transform_values!"],function v(){var w=v.$$s==null?this:v.$$s;return w.$size()},{$$s:h});ae(h);for(var s=0,n=h.$$keys,i=n.length,$,o;s<i;s++)$=n[s],$.$$is_string?o=h.$$smap[$]:(o=$.value,$=$.key),o=a(P,o),_e(h,$,o);return h}),Ke(F,"$values",function(){for(var P=this,h=[],s=0,n=P.$$keys,i=n.length,$;s<i;s++)$=n[s],$.$$is_string?h.push(P.$$smap[$]):h.push($.value);return h}),ye(F,"dup","clone"),ye(F,"each_pair","each"),ye(F,"eql?","=="),ye(F,"filter","select"),ye(F,"filter!","select!"),ye(F,"include?","has_key?"),ye(F,"indices","indexes"),ye(F,"key","index"),ye(F,"key?","has_key?"),ye(F,"member?","has_key?"),ye(F,"size","length"),ye(F,"store","[]="),ye(F,"to_s","inspect"),ye(F,"update","merge!"),ye(F,"value?","has_value?"),ye(F,"values_at","indexes")}("::",null,Re)};Opal.modules["corelib/number"]=function(e){var a=e.klass,E=e.Opal,V=e.Kernel,I=e.def,_e=e.eqeqeq,ne=e.truthy,ae=e.rb_gt,ue=e.not,B=e.rb_lt,Ae=e.alias,ze=e.send2,xe=e.find_super,Ue=e.send,Ke=e.rb_plus,qe=e.rb_minus,re=e.eqeq,Fe=e.return_self,Ve=e.rb_divide,Me=e.to_ary,Ie=e.rb_times,ce=e.rb_le,ye=e.rb_ge,le=e.return_val,Re=e.const_set,ie=e.top,pe=[],Q=e.nil,p=e.$$$;return e.add_stubs("require,bridge,raise,name,class,Float,respond_to?,coerce_to!,__coerced__,===,>,!,**,new,<,to_f,==,nan?,infinite?,enum_for,+,-,gcd,lcm,%,/,frexp,to_i,ldexp,rationalize,*,<<,to_r,truncate,-@,size,<=,>=,inspect,angle,to_s,is_a?,abs,__id__,next,coerce_to?"),ie.$require("corelib/numeric"),function(de,F,O){var D=a(de,F,"Number");E.$bridge(Number,D),e.prop(D.$$prototype,"$$is_number",!0),D.$$is_number_class=!0,function(n,i){return I(n,"$allocate",function(){var o=this;return V.$raise(p("TypeError"),"allocator undefined for "+o.$name())}),e.udef(n,"$new"),Q}(e.get_singleton_class(D)),I(D,"$coerce",function(i){var $=this;if(i===Q)V.$raise(p("TypeError"),"can't convert "+i.$class()+" into Float");else{if(i.$$is_string)return[V.$Float(i),$];if(i["$respond_to?"]("to_f"))return[E["$coerce_to!"](i,p("Float"),"to_f"),$];if(i.$$is_number)return[i,$];V.$raise(p("TypeError"),"can't convert "+i.$class()+" into Float")}}),I(D,"$__id__",function(){var i=this;return i*2+1}),I(D,"$+",function(i){var $=this;return i.$$is_number?$+i:$.$__coerced__("+",i)}),I(D,"$-",function(i){var $=this;return i.$$is_number?$-i:$.$__coerced__("-",i)}),I(D,"$*",function(i){var $=this;return i.$$is_number?$*i:$.$__coerced__("*",i)}),I(D,"$/",function(i){var $=this;return i.$$is_number?$/i:$.$__coerced__("/",i)}),I(D,"$%",function(i){var $=this;if(i.$$is_number){if(i==-1/0)return i;if(i==0)V.$raise(p("ZeroDivisionError"),"divided by 0");else return i<0||$<0?($%i+i)%i:$%i}else return $.$__coerced__("%",i)}),I(D,"$&",function(i){var $=this;return i.$$is_number?$&i:$.$__coerced__("&",i)}),I(D,"$|",function(i){var $=this;return i.$$is_number?$|i:$.$__coerced__("|",i)}),I(D,"$^",function(i){var $=this;return i.$$is_number?$^i:$.$__coerced__("^",i)}),I(D,"$<",function(i){var $=this;return i.$$is_number?$<i:$.$__coerced__("<",i)}),I(D,"$<=",function(i){var $=this;return i.$$is_number?$<=i:$.$__coerced__("<=",i)}),I(D,"$>",function(i){var $=this;return i.$$is_number?$>i:$.$__coerced__(">",i)}),I(D,"$>=",function(i){var $=this;return i.$$is_number?$>=i:$.$__coerced__(">=",i)});var Ne=function(n,i){return i.$$is_number?isNaN(n)||isNaN(i)?Q:n>i?1:n<i?-1:0:n.$__coerced__("<=>",i)};I(D,"$<=>",function(i){var $=this;try{return Ne($,i)}catch(o){if(e.rescue(o,[p("ArgumentError")]))try{return Q}finally{e.pop_exception()}else throw o}}),I(D,"$<<",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),i>0?$<<i:$>>-i}),I(D,"$>>",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),i>0?$>>i:$<<-i}),I(D,"$[]",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),i<0?0:i>=32?$<0?1:0:$>>i&1}),I(D,"$+@",function(){var i=this;return+i}),I(D,"$-@",function(){var i=this;return-i}),I(D,"$~",function(){var i=this;return~i}),I(D,"$**",function(i){var $=this;return _e(p("Integer"),i)?ue(p("Integer")["$==="]($))||ne(ae(i,0))?Math.pow($,i):p("Rational").$new($,1)["$**"](i):B($,0)&&(_e(p("Float"),i)||_e(p("Rational"),i))?p("Complex").$new($,0)["$**"](i.$to_f()):ne(i.$$is_number!=null)?Math.pow($,i):$.$__coerced__("**",i)}),I(D,"$==",function(i){var $=this;return i.$$is_number?$.valueOf()===i.valueOf():i["$respond_to?"]("==")?i["$=="]($):!1}),Ae(D,"===","=="),I(D,"$abs",function(){var i=this;return Math.abs(i)}),I(D,"$abs2",function(){var i=this;return Math.abs(i*i)}),I(D,"$allbits?",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),($&i)==i}),I(D,"$anybits?",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),($&i)!==0}),I(D,"$angle",function(){var i=this;return ne(i["$nan?"]())?i:i==0?1/i>0?0:Math.PI:i<0?Math.PI:0}),I(D,"$bit_length",function(){var i=this;if(_e(p("Integer"),i)||V.$raise(p("NoMethodError").$new("undefined method `bit_length` for "+i+":Float","bit_length")),i===0||i===-1)return 0;for(var $=0,o=i<0?~i:i;o!=0;)$+=1,o>>>=1;return $}),I(D,"$ceil",function(i){var $=this;i==null&&(i=0);var o=$.$to_f();if(o%1===0&&i>=0)return o;var v=Math.pow(10,i),w=Math.ceil(o*v)/v;return o%1===0&&(w=Math.round(w)),w},-1),I(D,"$chr",function(i){var $=this;return e.enc(String.fromCharCode($),i||"BINARY")},-1),I(D,"$denominator",function n(){var i=n.$$p||Q,$=this;return n.$$p=null,ne($["$nan?"]())||ne($["$infinite?"]())?1:ze($,xe($,"denominator",n,!1,!0),"denominator",[],i)}),I(D,"$downto",function n(i){var $=n.$$p||Q,o=this;if(n.$$p=null,$===Q)return Ue(o,"enum_for",["downto",i],function w(){var K=w.$$s==null?this:w.$$s;return _e(p("Numeric"),i)||V.$raise(p("ArgumentError"),"comparison of "+K.$class()+" with "+i.$class()+" failed"),ne(ae(i,K))?0:Ke(qe(K,i),1)},{$$s:o});i.$$is_number||V.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+i.$class()+" failed");for(var v=o;v>=i;v--)$(v);return o}),I(D,"$equal?",function(i){var $=this,o=Q;return ne(o=$["$=="](i))?o:isNaN($)&&isNaN(i)}),I(D,"$even?",function(){var i=this;return i%2===0}),I(D,"$floor",function(i){var $=this;i==null&&(i=0);var o=$.$to_f();if(o%1===0&&i>=0)return o;var v=Math.pow(10,i),w=Math.floor(o*v)/v;return o%1===0&&(w=Math.round(w)),w},-1),I(D,"$gcd",function(i){var $=this;_e(p("Integer"),i)||V.$raise(p("TypeError"),"not an integer");for(var o=Math.abs($),v=Math.abs(i);o>0;){var w=o;o=v%o,v=w}return v}),I(D,"$gcdlcm",function(i){var $=this;return[$.$gcd(i),$.$lcm(i)]}),I(D,"$integer?",function(){var i=this;return i%1===0}),I(D,"$is_a?",function n(i){var $=n.$$p||Q,o=this;return n.$$p=null,re(i,p("Integer"))&&_e(p("Integer"),o)||re(i,p("Integer"))&&_e(p("Integer"),o)||re(i,p("Float"))&&_e(p("Float"),o)?!0:ze(o,xe(o,"is_a?",n,!1,!0),"is_a?",[i],$)}),I(D,"$instance_of?",function n(i){var $=n.$$p||Q,o=this;return n.$$p=null,re(i,p("Integer"))&&_e(p("Integer"),o)||re(i,p("Integer"))&&_e(p("Integer"),o)||re(i,p("Float"))&&_e(p("Float"),o)?!0:ze(o,xe(o,"instance_of?",n,!1,!0),"instance_of?",[i],$)}),I(D,"$lcm",function(i){var $=this;return _e(p("Integer"),i)||V.$raise(p("TypeError"),"not an integer"),$==0||i==0?0:Math.abs($*i/$.$gcd(i))}),I(D,"$next",function(){var i=this;return i+1}),I(D,"$nobits?",function(i){var $=this;return i=E["$coerce_to!"](i,p("Integer"),"to_int"),($&i)==0}),I(D,"$nonzero?",function(){var i=this;return i==0?Q:i}),I(D,"$numerator",function n(){var i=n.$$p||Q,$=this;return n.$$p=null,ne($["$nan?"]())||ne($["$infinite?"]())?$:ze($,xe($,"numerator",n,!1,!0),"numerator",[],i)}),I(D,"$odd?",function(){var i=this;return i%2!==0}),I(D,"$ord",Fe),I(D,"$pow",function(i,$){var o=this;return o==0&&V.$raise(p("ZeroDivisionError"),"divided by 0"),$===void 0?o["$**"](i):(p("Integer")["$==="](i)||V.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless a 1st argument is integer"),i<0&&V.$raise(p("TypeError"),"Integer#pow() 1st argument cannot be negative when 2nd argument specified"),p("Integer")["$==="]($)||V.$raise(p("TypeError"),"Integer#pow() 2nd argument not allowed unless all arguments are integers"),$===0&&V.$raise(p("ZeroDivisionError"),"divided by 0"),o["$**"](i)["$%"]($))},-2),I(D,"$pred",function(){var i=this;return i-1}),I(D,"$quo",function n(i){var $=n.$$p||Q,o=this;return n.$$p=null,_e(p("Integer"),o)?ze(o,xe(o,"quo",n,!1,!0),"quo",[i],$):Ve(o,i)}),I(D,"$rationalize",function(i){var $,o,v=this,w=Q,K=Q;return arguments.length>1&&V.$raise(p("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),_e(p("Integer"),v)?p("Rational").$new(v,1):ne(v["$infinite?"]())?V.$raise(p("FloatDomainError"),"Infinity"):ne(v["$nan?"]())?V.$raise(p("FloatDomainError"),"NaN"):ne(i==null)?(o=p("Math").$frexp(v),$=Me(o),w=$[0]==null?Q:$[0],K=$[1]==null?Q:$[1],w=p("Math").$ldexp(w,p(p("Float"),"MANT_DIG")).$to_i(),K=qe(K,p(p("Float"),"MANT_DIG")),p("Rational").$new(Ie(2,w),1["$<<"](qe(1,K))).$rationalize(p("Rational").$new(1,1["$<<"](qe(1,K))))):v.$to_r().$rationalize(i)},-1),I(D,"$remainder",function(i){var $=this;return qe($,Ie(i,Ve($,i).$truncate()))}),I(D,"$round",function(i){var $,o,v=this,w=Q;if(_e(p("Integer"),v)){if(ne(i==null)||(_e(p("Float"),i)&&ne(i["$infinite?"]())&&V.$raise(p("RangeError"),"Infinity"),i=E["$coerce_to!"](i,p("Integer"),"to_int"),ne(B(i,p(p("Integer"),"MIN")))&&V.$raise(p("RangeError"),"out of bounds"),ne(i>=0)))return v;if(i=i["$-@"](),.415241*i-.125>v.$size())return 0;var K=Math.pow(10,i),Ce=Math.floor((Math.abs(v)+K/2)/K)*K;return v<0?-Ce:Ce}else{if(ne(v["$nan?"]())&&ne(i==null)&&V.$raise(p("FloatDomainError"),"NaN"),i=E["$coerce_to!"](i||0,p("Integer"),"to_int"),ne(ce(i,0)))ne(v["$nan?"]())?V.$raise(p("RangeError"),"NaN"):ne(v["$infinite?"]())&&V.$raise(p("FloatDomainError"),"Infinity");else{if(re(i,0))return Math.round(v);if(ne(v["$nan?"]())||ne(v["$infinite?"]()))return v}return o=p("Math").$frexp(v),$=Me(o),$[0]==null||$[0],w=$[1]==null?Q:$[1],ne(ye(i,qe(Ke(p(p("Float"),"DIG"),2),ne(ae(w,0))?Ve(w,4):qe(Ve(w,3),1))))?v:ne(B(i,(ne(ae(w,0))?Ke(Ve(w,3),1):Ve(w,4))["$-@"]()))?0:Math.round(v*Math.pow(10,i))/Math.pow(10,i)}},-1),I(D,"$times",function n(){var i=n.$$p||Q,$=this;if(n.$$p=null,!ne(i))return Ue($,"enum_for",["times"],function v(){var w=v.$$s==null?this:v.$$s;return w},{$$s:$});for(var o=0;o<$;o++)i(o);return $}),I(D,"$to_f",Fe),I(D,"$to_i",function(){var i=this;return i<0?Math.ceil(i):Math.floor(i)}),I(D,"$to_r",function(){var i,$,o=this,v=Q,w=Q;return _e(p("Integer"),o)?p("Rational").$new(o,1):($=p("Math").$frexp(o),i=Me($),v=i[0]==null?Q:i[0],w=i[1]==null?Q:i[1],v=p("Math").$ldexp(v,p(p("Float"),"MANT_DIG")).$to_i(),w=qe(w,p(p("Float"),"MANT_DIG")),Ie(v,p(p("Float"),"RADIX")["$**"](w)).$to_r())}),I(D,"$to_s",function(i){var $=this;return i==null&&(i=10),i=E["$coerce_to!"](i,p("Integer"),"to_int"),(ne(B(i,2))||ne(ae(i,36)))&&V.$raise(p("ArgumentError"),"invalid radix "+i),re($,0)&&ne(1/$===-1/0)?"-0.0":$.toString(i)},-1),I(D,"$truncate",function(i){var $=this;i==null&&(i=0);var o=$.$to_f();if(o%1===0&&i>=0)return o;var v=Math.pow(10,i),w=parseInt(o*v,10)/v;return o%1===0&&(w=Math.round(w)),w},-1),I(D,"$digits",function(i){var $=this;i==null&&(i=10),B($,0)&&V.$raise(p(p("Math"),"DomainError"),"out of domain"),i=E["$coerce_to!"](i,p("Integer"),"to_int"),ne(B(i,2))&&V.$raise(p("ArgumentError"),"invalid radix "+i),$!=parseInt($)&&V.$raise(p("NoMethodError"),"undefined method `digits' for "+$.$inspect());var o=$,v=[];if($==0)return[0];for(;o!=0;)v.push(o%i),o=parseInt(o/i,10);return v},-1),I(D,"$divmod",function n(i){var $=n.$$p||Q,o=this;return n.$$p=null,ne(o["$nan?"]())||ne(i["$nan?"]())?V.$raise(p("FloatDomainError"),"NaN"):ne(o["$infinite?"]())?V.$raise(p("FloatDomainError"),"Infinity"):ze(o,xe(o,"divmod",n,!1,!0),"divmod",[i],$)}),I(D,"$upto",function n(i){var $=n.$$p||Q,o=this;if(n.$$p=null,$===Q)return Ue(o,"enum_for",["upto",i],function w(){var K=w.$$s==null?this:w.$$s;return _e(p("Numeric"),i)||V.$raise(p("ArgumentError"),"comparison of "+K.$class()+" with "+i.$class()+" failed"),ne(B(i,K))?0:Ke(qe(i,K),1)},{$$s:o});i.$$is_number||V.$raise(p("ArgumentError"),"comparison of "+o.$class()+" with "+i.$class()+" failed");for(var v=o;v<=i;v++)$(v);return o}),I(D,"$zero?",function(){var i=this;return i==0}),I(D,"$size",le(4)),I(D,"$nan?",function(){var i=this;return isNaN(i)}),I(D,"$finite?",function(){var i=this;return i!=1/0&&i!=-1/0&&!isNaN(i)}),I(D,"$infinite?",function(){var i=this;return i==1/0?1:i==-1/0?-1:Q}),I(D,"$positive?",function(){var i=this;return i!=0&&(i==1/0||1/i>0)}),I(D,"$negative?",function(){var i=this;return i==-1/0||1/i<0});function oe(n){var i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,n,!0),i}function P(n){return new DataView(n.buffer).getFloat64(0,!0)}function h(n){for(var i=oe(n),$=0;$<i.length;$++)if(i[$]===255)i[$]=0;else{i[$]++;break}return P(i)}function s(n){for(var i=oe(n),$=0;$<i.length;$++)if(i[$]===0)i[$]=255;else{i[$]--;break}return P(i)}return I(D,"$next_float",function(){var i=this;return re(i,p(p("Float"),"INFINITY"))?p(p("Float"),"INFINITY"):ne(i["$nan?"]())?p(p("Float"),"NAN"):ye(i,0)?h(Math.abs(i)):s(i)}),I(D,"$prev_float",function(){var i=this;return re(i,p(p("Float"),"INFINITY")["$-@"]())?p(p("Float"),"INFINITY")["$-@"]():ne(i["$nan?"]())?p(p("Float"),"NAN"):ae(i,0)?s(i):-h(Math.abs(i))}),Ae(D,"arg","angle"),Ae(D,"eql?","=="),Ae(D,"fdiv","/"),Ae(D,"inspect","to_s"),Ae(D,"kind_of?","is_a?"),Ae(D,"magnitude","abs"),Ae(D,"modulo","%"),Ae(D,"object_id","__id__"),Ae(D,"phase","angle"),Ae(D,"succ","next"),Ae(D,"to_int","to_i")}("::",p("Numeric")),Re("::","Fixnum",p("Number")),function(de,F,O){var D=a(de,F,"Integer"),Ne=[D].concat(O);return D.$$is_number_class=!0,D.$$is_integer_class=!0,function(oe,P){var h=[oe].concat(P),s=e.$r(h);return I(oe,"$allocate",function(){var i=this;return V.$raise(p("TypeError"),"allocator undefined for "+i.$name())}),e.udef(oe,"$new"),I(oe,"$sqrt",function(i){return i=E["$coerce_to!"](i,p("Integer"),"to_int"),i<0&&V.$raise(p(p("Math"),"DomainError"),'Numerical argument is out of domain - "isqrt"'),parseInt(Math.sqrt(i),10)}),I(oe,"$try_convert",function(i){var $=this;return s("Opal")["$coerce_to?"](i,$,"to_int")})}(e.get_singleton_class(D),Ne),Re(D,"MAX",Math.pow(2,30)-1),Re(D,"MIN",-Math.pow(2,30))}("::",p("Numeric"),pe),function(de,F,O){var D=a(de,F,"Float");return D.$$is_number_class=!0,function(Ne,oe){return I(Ne,"$allocate",function(){var h=this;return V.$raise(p("TypeError"),"allocator undefined for "+h.$name())}),e.udef(Ne,"$new"),I(Ne,"$===",function(h){return!!h.$$is_number})}(e.get_singleton_class(D)),Re(D,"INFINITY",1/0),Re(D,"MAX",Number.MAX_VALUE),Re(D,"MIN",Number.MIN_VALUE),Re(D,"NAN",NaN),Re(D,"DIG",15),Re(D,"MANT_DIG",53),Re(D,"RADIX",2),Re(D,"EPSILON",Number.EPSILON||2220446049250313e-31)}("::",p("Numeric"))};Opal.modules["corelib/range"]=function(e){var a=e.klass,E=e.truthy,V=e.Kernel,I=e.def,_e=e.not,ne=e.send2,ae=e.find_super,ue=e.rb_lt,B=e.rb_le,Ae=e.send,ze=e.eqeq,xe=e.eqeqeq,Ue=e.return_ivar,Ke=e.rb_gt,qe=e.rb_minus,re=e.Opal,Fe=e.rb_divide,Ve=e.rb_plus,Me=e.rb_times,Ie=e.rb_ge,ce=e.thrower,ye=e.alias,le=e.top,Re=[],ie=e.nil,pe=e.$$$;return e.add_stubs("require,include,attr_reader,raise,nil?,<=>,include?,!,<,<=,enum_for,size,upto,to_proc,respond_to?,class,succ,==,===,exclude_end?,eql?,begin,end,last,to_a,>,-@,-,to_i,coerce_to!,ceil,/,is_a?,new,loop,+,*,>=,each_with_index,%,step,bsearch,inspect,[],hash,cover?"),le.$require("corelib/enumerable"),function(Q,p,de){var F=a(Q,p,"Range"),O=[F].concat(de),D=e.$r(O),Ne=F.$$prototype;Ne.begin=Ne.end=Ne.excl=ie,F.$include(pe("Enumerable")),F.$$prototype.$$is_range=!0,F.$attr_reader("begin","end"),I(F,"$initialize",function(h,s,n){var i=this;return n==null&&(n=!1),E(i.begin)&&V.$raise(pe("NameError"),"'initialize' called twice"),E(h["$<=>"](s))||E(h["$nil?"]())||E(s["$nil?"]())||V.$raise(pe("ArgumentError"),"bad value for range"),i.begin=h,i.end=s,i.excl=n},-3),I(F,"$===",function(h){var s=this;return s["$include?"](h)});function oe(P){return P.begin===ie||P.end===ie||P.begin===-1/0||P.end===1/0||P.begin===1/0||P.end===-1/0}return I(F,"$count",function P(){var h=P.$$p||ie,s=this;return P.$$p=null,_e(h!==ie)&&E(oe(s))?pe(pe("Float"),"INFINITY"):ne(s,ae(s,"count",P,!1,!0),"count",[],h)}),I(F,"$to_a",function P(){var h=P.$$p||ie,s=this;return P.$$p=null,E(oe(s))&&V.$raise(pe("TypeError"),"cannot convert endless range to an array"),ne(s,ae(s,"to_a",P,!1,!0),"to_a",[],h)}),I(F,"$cover?",function(h){var s=this,n=ie,i=ie,$=ie,o=ie,v=ie;return n=E(i=E($=E(o=s.begin["$nil?"]())?-1:o)?$:s.begin["$<=>"](h))&&i,v=E(i=E($=E(o=s.end["$nil?"]())?-1:o)?$:h["$<=>"](s.end))&&i,E(i=E($=E(s.excl)?E(o=v)?ue(v,0):o:E(o=v)?B(v,0):o)?n:$)?B(n,0):i}),I(F,"$each",function P(){var h=P.$$p||ie,s=this,n=ie,i=ie,$=ie;if(P.$$p=null,h===ie)return Ae(s,"enum_for",["each"],function w(){var K=w.$$s==null?this:w.$$s;return K.$size()},{$$s:s});var o,v;if(s.begin.$$is_number&&s.end.$$is_number){for((s.begin%1!==0||s.end%1!==0)&&V.$raise(pe("TypeError"),"can't iterate from Float"),o=s.begin,v=s.end+(E(s.excl)?0:1);o<v;o++)h(o);return s}if(s.begin.$$is_string&&s.end.$$is_string)return Ae(s.begin,"upto",[s.end,s.excl],h.$to_proc()),s;for(n=s.begin,i=s.end,E(n["$respond_to?"]("succ"))||V.$raise(pe("TypeError"),"can't iterate from "+n.$class());E(E($=s.end["$nil?"]())?$:ue(n["$<=>"](i),0));)e.yield1(h,n),n=n.$succ();return _e(s.excl)&&ze(n,i)&&e.yield1(h,n),s}),I(F,"$eql?",function(h){var s=this,n=ie,i=ie;return xe(pe("Range"),h)?E(n=E(i=s.excl["$==="](h["$exclude_end?"]()))?s.begin["$eql?"](h.$begin()):i)?s.end["$eql?"](h.$end()):n:!1}),I(F,"$exclude_end?",Ue("excl")),I(F,"$first",function P(h){var s=P.$$p||ie,n=this;return P.$$p=null,E(n.begin["$nil?"]())&&V.$raise(pe("RangeError"),"cannot get the minimum of beginless range"),E(h==null)?n.begin:ne(n,ae(n,"first",P,!1,!0),"first",[h],s)},-1),I(F,"$last",function(h){var s=this;return E(s.end["$nil?"]())&&V.$raise(pe("RangeError"),"cannot get the maximum of endless range"),E(h==null)?s.end:s.$to_a().$last(h)},-1),I(F,"$max",function P(){var h=P.$$p||ie,s=this;return P.$$p=null,E(s.end["$nil?"]())?V.$raise(pe("RangeError"),"cannot get the maximum of endless range"):h!==ie?ne(s,ae(s,"max",P,!1,!0),"max",[],h):_e(s.begin["$nil?"]())&&(E(Ke(s.begin,s.end))||E(s.excl)&&ze(s.begin,s.end))?ie:s.excl?s.end-1:s.end}),I(F,"$min",function P(){var h=P.$$p||ie,s=this;return P.$$p=null,E(s.begin["$nil?"]())?V.$raise(pe("RangeError"),"cannot get the minimum of beginless range"):h!==ie?ne(s,ae(s,"min",P,!1,!0),"min",[],h):_e(s.end["$nil?"]())&&(E(Ke(s.begin,s.end))||E(s.excl)&&ze(s.begin,s.end))?ie:s.begin}),I(F,"$size",function(){var h=this,s=ie,n=ie,i=ie;return s=pe(pe("Float"),"INFINITY"),ze(h.begin,s)&&_e(h.end["$nil?"]())||ze(h.end,s["$-@"]())&&_e(h.begin["$nil?"]())?0:E(oe(h))?s:xe(pe("Numeric"),h.begin)&&xe(pe("Numeric"),h.end)?(n=h.begin,i=h.end,E(h.excl)&&(i=qe(i,1)),E(ue(i,n))?0:(Math.abs(i-n)+1).$to_i()):ie}),I(F,"$step",function P(h){var s=P.$$p||ie,n=this,i=ie,$=ie;P.$$p=null;function o(){h==null?h=1:h.$$is_number||(h=re["$coerce_to!"](h,pe("Integer"),"to_int")),h<0?V.$raise(pe("ArgumentError"),"step can't be negative"):h===0&&V.$raise(pe("ArgumentError"),"step can't be 0")}function v(){if(!n.begin["$respond_to?"]("succ")||n.begin.$$is_string&&n.end.$$is_string)return ie;if(h%1===0)return Fe(n.$size(),h).$ceil();var w=n.begin,K=n.end,Ce=Math.abs,tt=Math.floor,ot=(Ce(w)+Ce(K)+Ce(K-w))/Ce(h)*pe(pe("Float"),"EPSILON"),lt;return ot>.5&&(ot=.5),n.excl?(lt=tt((K-w)/h-ot),lt*h+w<K&&lt++):lt=tt((K-w)/h+ot)+1,lt}return s===ie?(E(n.begin["$is_a?"](D("Numeric")))||E(n.begin["$nil?"]()))&&(E(n.end["$is_a?"](D("Numeric")))||E(n.end["$nil?"]()))&&_e(E(i=n.begin["$nil?"]())?n.end["$nil?"]():i)?pe(pe("Enumerator"),"ArithmeticSequence").$new(n,h,"step"):Ae(n,"enum_for",["step",h],function(){return o(),v()}):(o(),E(n.begin.$$is_number&&n.end.$$is_number)?($=0,function(){try{var w=ce("break");return Ae(n,"loop",[],function K(){var Ce=K.$$s==null?this:K.$$s,tt=ie;return Ce.begin==null&&(Ce.begin=ie),Ce.excl==null&&(Ce.excl=ie),Ce.end==null&&(Ce.end=ie),tt=Ve(Ce.begin,Me($,h)),E(Ce.excl)?E(Ie(tt,Ce.end))&&w.$throw():E(Ke(tt,Ce.end))&&w.$throw(),e.yield1(s,tt),$=Ve($,1)},{$$s:n})}catch(K){if(K===w)return K.$v;throw K}}()):(n.begin.$$is_string&&n.end.$$is_string&&h%1!==0&&V.$raise(pe("TypeError"),"no implicit conversion to float from string"),Ae(n,"each_with_index",[],function(K,Ce){return K==null&&(K=ie),Ce==null&&(Ce=ie),ze(Ce["$%"](h),0)?e.yield1(s,K):ie})),n)},-1),I(F,"$%",function(h){var s=this;return E(s.begin["$is_a?"](D("Numeric")))&&E(s.end["$is_a?"](D("Numeric")))?pe(pe("Enumerator"),"ArithmeticSequence").$new(s,h,"%"):s.$step(h)}),I(F,"$bsearch",function P(){var h=P.$$p||ie,s=this;return P.$$p=null,h===ie?s.$enum_for("bsearch"):(E(oe(s)&&(s.begin.$$is_number||s.end.$$is_number))&&V.$raise(pe("NotImplementedError"),"Can't #bsearch an infinite range"),E(s.begin.$$is_number&&s.end.$$is_number)||V.$raise(pe("TypeError"),"can't do binary search for "+s.begin.$class()),Ae(s.$to_a(),"bsearch",[],h.$to_proc()))}),I(F,"$to_s",function(){var h=this,s=ie;return""+(E(s=h.begin)?s:"")+(E(h.excl)?"...":"..")+(E(s=h.end)?s:"")}),I(F,"$inspect",function(){var h=this,s=ie;return""+(E(s=h.begin)?h.begin.$inspect():s)+(E(h.excl)?"...":"..")+(E(s=h.end)?h.end.$inspect():s)}),I(F,"$marshal_load",function(h){var s=this;return s.begin=h["$[]"]("begin"),s.end=h["$[]"]("end"),s.excl=h["$[]"]("excl")}),I(F,"$hash",function(){var h=this;return[h.begin,h.end,h.excl].$hash()}),ye(F,"==","eql?"),ye(F,"include?","cover?"),ye(F,"member?","cover?")}("::",null,Re)};Opal.modules["corelib/proc"]=function(e){var a=e.slice,E=e.klass,V=e.truthy,I=e.Kernel,_e=e.defs,ne=e.def,ae=e.send,ue=e.to_a,B=e.return_self,Ae=e.ensure_kwargs,ze=e.Opal,xe=e.alias,Ue=e.nil,Ke=e.$$$;return e.add_stubs("raise,proc,call,to_proc,new,source_location,coerce_to!,dup"),function(qe,re){var Fe=E(qe,re,"Proc");return e.prop(Fe.$$prototype,"$$is_proc",!0),e.prop(Fe.$$prototype,"$$is_lambda",!1),_e(Fe,"$new",function Ve(){var Me=Ve.$$p||Ue;return Ve.$$p=null,V(Me)||I.$raise(Ke("ArgumentError"),"tried to create a Proc object without a block"),Me}),ne(Fe,"$call",function Ve(Me){var Ie=Ve.$$p||Ue,ce,ye,le=this;Ve.$$p=null,ce=a(arguments),ye=ce,Ie!==Ue&&(le.$$p=Ie);var Re,ie=le.$$brk,pe=le.$$ret;if(ie||pe&&le.$$is_lambda)try{le.$$is_lambda?Re=le.apply(null,ye):Re=e.yieldX(le,ye)}catch(Q){if(Q===ie)return Q.$v;if(le.$$is_lambda&&Q===pe)return Q.$v;throw Q}else le.$$is_lambda?Re=le.apply(null,ye):Re=e.yieldX(le,ye);return Re},-1),ne(Fe,"$>>",function Ve(Me){Ve.$$p;var Ie=this;return Ve.$$p=null,ae(I,"proc",[],function ce(ye){var le=ce.$$p||Ue,Re,ie,pe=ce.$$s==null?this:ce.$$s,Q=Ue;return ce.$$p=null,Re=a(arguments),ie=Re,Q=ae(pe,"call",ue(ie),le.$to_proc()),Me.$call(Q)},{$$arity:-1,$$s:Ie})}),ne(Fe,"$<<",function Ve(Me){Ve.$$p;var Ie=this;return Ve.$$p=null,ae(I,"proc",[],function ce(ye){var le=ce.$$p||Ue,Re,ie,pe=ce.$$s==null?this:ce.$$s,Q=Ue;return ce.$$p=null,Re=a(arguments),ie=Re,Q=ae(Me,"call",ue(ie),le.$to_proc()),pe.$call(Q)},{$$arity:-1,$$s:Ie})}),ne(Fe,"$to_proc",B),ne(Fe,"$lambda?",function(){var Me=this;return!!Me.$$is_lambda}),ne(Fe,"$arity",function(){var Me=this;return Me.$$is_curried?-1:Me.$$arity!=null?Me.$$arity:Me.length}),ne(Fe,"$source_location",function(){var Me=this,Ie=Ue;return Me.$$is_curried?Ue:V(Ie=Me.$$source_location)?Ie:Ue}),ne(Fe,"$binding",function(){var Me=this;return Me.$$is_curried&&I.$raise(Ke("ArgumentError"),"Can't create Binding"),V(Ke("::","Binding","skip_raise")?"constant":Ue)?Ke("Binding").$new(Ue,[],Me.$$s,Me.$source_location()):Ue}),ne(Fe,"$parameters",function(Me){var Ie,ce=this;if(Me=Ae(Me),Ie=Me.$$smap.lambda,ce.$$is_curried)return[["rest"]];if(ce.$$parameters){if(Ie??ce.$$is_lambda)return ce.$$parameters;var ye=[],le,Re;for(le=0,Re=ce.$$parameters.length;le<Re;le++){var ie=ce.$$parameters[le];ie[0]==="req"&&(ie=["opt",ie[1]]),ye.push(ie)}return ye}else return[]},-1),ne(Fe,"$curry",function(Me){var Ie=this;Me===void 0?Me=Ie.length:(Me=ze["$coerce_to!"](Me,Ke("Integer"),"to_int"),Ie.$$is_lambda&&Me!==Ie.length&&I.$raise(Ke("ArgumentError"),"wrong number of arguments ("+Me+" for "+Ie.length+")"));function ce(){var ye=a(arguments),le=ye.length,Re;return le>Me&&Ie.$$is_lambda&&!Ie.$$is_curried&&I.$raise(Ke("ArgumentError"),"wrong number of arguments ("+le+" for "+Me+")"),le>=Me?Ie.$call.apply(Ie,ye):(Re=function(){return ce.apply(null,ye.concat(a(arguments)))},Re.$$is_lambda=Ie.$$is_lambda,Re.$$is_curried=!0,Re)}return ce.$$is_lambda=Ie.$$is_lambda,ce.$$is_curried=!0,ce},-1),ne(Fe,"$dup",function(){var Me=this,Ie=Me.$$original_proc||Me,ce=function(){return Ie.apply(this,arguments)};for(var ye in Me)Me.hasOwnProperty(ye)&&(ce[ye]=Me[ye]);return ce}),xe(Fe,"===","call"),xe(Fe,"clone","dup"),xe(Fe,"yield","call"),xe(Fe,"[]","call")}("::",Function)};Opal.modules["corelib/method"]=function(e){var a=e.klass,E=e.def,V=e.truthy,I=e.slice,_e=e.alias,ne=e.Kernel,ae=e.send,ue=e.to_a,B=e.nil,Ae=e.$$$;return e.add_stubs("attr_reader,arity,curry,>>,<<,new,class,join,source_location,call,raise,bind,to_proc"),function(ze,xe){var Ue=a(ze,xe,"Method"),Ke=Ue.$$prototype;return Ke.method=Ke.receiver=Ke.owner=Ke.name=B,Ue.$attr_reader("owner","receiver","name"),E(Ue,"$initialize",function(re,Fe,Ve,Me){var Ie=this;return Ie.receiver=re,Ie.owner=Fe,Ie.name=Me,Ie.method=Ve}),E(Ue,"$arity",function(){var re=this;return re.method.$arity()}),E(Ue,"$parameters",function(){var re=this;return re.method.$$parameters}),E(Ue,"$source_location",function(){var re=this,Fe=B;return V(Fe=re.method.$$source_location)?Fe:["(eval)",0]}),E(Ue,"$comments",function(){var re=this,Fe=B;return V(Fe=re.method.$$comments)?Fe:[]}),E(Ue,"$call",function qe(re){var Fe=qe.$$p||B,Ve,Me,Ie=this;return qe.$$p=null,Ve=I(arguments),Me=Ve,Ie.method.$$p=Fe,Ie.method.apply(Ie.receiver,Me)},-1),E(Ue,"$curry",function(re){var Fe=this;return Fe.method.$curry(re)},-1),E(Ue,"$>>",function(re){var Fe=this;return Fe.method["$>>"](re)}),E(Ue,"$<<",function(re){var Fe=this;return Fe.method["$<<"](re)}),E(Ue,"$unbind",function(){var re=this;return Ae("UnboundMethod").$new(re.receiver.$class(),re.owner,re.method,re.name)}),E(Ue,"$to_proc",function(){var re=this,Fe=re.$call.bind(re);return Fe.$$unbound=re.method,Fe.$$is_lambda=!0,Fe.$$arity=re.method.$$arity==null?re.method.length:re.method.$$arity,Fe.$$parameters=re.method.$$parameters,Fe}),E(Ue,"$inspect",function(){var re=this;return"#<"+re.$class()+": "+re.receiver.$class()+"#"+re.name+" (defined in "+re.owner+" in "+re.$source_location().$join(":")+")>"}),_e(Ue,"[]","call"),_e(Ue,"===","call")}("::",null),function(ze,xe){var Ue=a(ze,xe,"UnboundMethod"),Ke=Ue.$$prototype;return Ke.method=Ke.owner=Ke.name=Ke.source=B,Ue.$attr_reader("source","owner","name"),E(Ue,"$initialize",function(re,Fe,Ve,Me){var Ie=this;return Ie.source=re,Ie.owner=Fe,Ie.method=Ve,Ie.name=Me}),E(Ue,"$arity",function(){var re=this;return re.method.$arity()}),E(Ue,"$parameters",function(){var re=this;return re.method.$$parameters}),E(Ue,"$source_location",function(){var re=this,Fe=B;return V(Fe=re.method.$$source_location)?Fe:["(eval)",0]}),E(Ue,"$comments",function(){var re=this,Fe=B;return V(Fe=re.method.$$comments)?Fe:[]}),E(Ue,"$bind",function(re){var Fe=this;if(Fe.owner.$$is_module||e.is_a(re,Fe.owner))return Ae("Method").$new(re,Fe.owner,Fe.method,Fe.name);ne.$raise(Ae("TypeError"),"can't bind singleton method to a different class (expected "+re+".kind_of?("+Fe.owner+" to be true)")}),E(Ue,"$bind_call",function qe(re,Fe){var Ve=qe.$$p||B,Me,Ie,ce=this;return qe.$$p=null,Me=I(arguments,1),Ie=Me,ae(ce.$bind(re),"call",ue(Ie),Ve.$to_proc())},-2),E(Ue,"$inspect",function(){var re=this;return"#<"+re.$class()+": "+re.source+"#"+re.name+" (defined in "+re.owner+" in "+re.$source_location().$join(":")+")>"})}("::",null)};Opal.modules["corelib/variables"]=function(e){var a=e.gvars,E=e.const_set,V=e.Object,I=e.hash2,_e=e.nil;return e.add_stubs("new"),a["&"]=a["~"]=a["`"]=a["'"]=_e,a.LOADED_FEATURES=a['"']=e.loaded_features,a.LOAD_PATH=a[":"]=[],a["/"]=`
`,a[","]=_e,E("::","ARGV",[]),E("::","ARGF",V.$new()),E("::","ENV",I([],{})),a.VERBOSE=!1,a.DEBUG=!1,a.SAFE=0};Opal.modules["corelib/io"]=function(e){var a=e.klass,E=e.const_set,V=e.not,I=e.truthy,_e=e.def,ne=e.return_ivar,ae=e.return_val,ue=e.slice,B=e.Kernel,Ae=e.gvars,ze=e.send,xe=e.to_a,Ue=e.rb_plus,Ke=e.neqeq,qe=e.range,re=e.hash2,Fe=e.eqeq,Ve=e.to_ary,Me=e.rb_gt,Ie=e.assign_ivar_val,ce=e.alias,ye,le=e.nil,Re=e.$$$;e.add_stubs("attr_reader,attr_accessor,!,match?,include?,size,write,String,flatten,puts,sysread_noraise,+,!=,[],ord,getc,readchar,raise,gets,==,to_str,length,split,sub,sysread,>,to_a,each_line,enum_for,getbyte,closed_write?,closed_read?,each,eof,new,write_proc=,read_proc="),function(pe,Q){var p=a(pe,Q,"IO"),de=p.$$prototype;return de.read_buffer=de.closed=le,E(p,"SEEK_SET",0),E(p,"SEEK_CUR",1),E(p,"SEEK_END",2),E(p,"SEEK_DATA",3),E(p,"SEEK_HOLE",4),E(p,"READABLE",1),E(p,"WRITABLE",4),p.$attr_reader("eof"),p.$attr_accessor("read_proc","sync","tty","write_proc"),_e(p,"$initialize",function(O,D){var Ne=this;return D==null&&(D="r"),Ne.fd=O,Ne.flags=D,Ne.eof=!1,I(D["$include?"]("r"))&&V(D["$match?"](/[wa+]/))?Ne.closed="write":I(D["$match?"](/[wa]/))&&V(D["$match?"](/[r+]/))?Ne.closed="read":le},-2),_e(p,"$fileno",ne("fd")),_e(p,"$tty?",function(){var O=this;return O.tty==!0}),_e(p,"$write",function(O){var D=this;return D.write_proc(O),O.$size()}),_e(p,"$flush",ae(le)),_e(p,"$<<",function(O){var D=this;return D.$write(O),D}),_e(p,"$print",function(O){var D,Ne,oe=this;Ae[","]==null&&(Ae[","]=le),D=ue(arguments),Ne=D;for(var P=0,h=Ne.length;P<h;P++)Ne[P]=B.$String(Ne[P]);return oe.$write(Ne.join(Ae[","])),le},-1),_e(p,"$puts",function(O){var D,Ne,oe=this;D=ue(arguments),Ne=D;var P;if(Ne.length===0)return oe.$write(`
`),le;for(var h=0,s=Ne.length;h<s;h++)if(Ne[h].$$is_array){var n=Ne[h].$flatten();n.length>0&&ze(oe,"puts",xe(n))}else Ne[h].$$is_string?P=Ne[h].valueOf():P=B.$String(Ne[h]),P.endsWith(`
`)||(P+=`
`),oe.$write(P);return le},-1),_e(p,"$getc",function(){var O=this,D=le,Ne=le,oe=le;O.read_buffer=I(D=O.read_buffer)?D:"",Ne="";do if(O.read_buffer=Ue(O.read_buffer,Ne),Ke(O.read_buffer,""))return oe=O.read_buffer["$[]"](0),O.read_buffer=O.read_buffer["$[]"](qe(1,-1,!1)),oe;while(I(Ne=O.$sysread_noraise(1)));return le}),_e(p,"$getbyte",function(){var O,D=this;return O=D.$getc(),O===le||O==null?le:O.$ord()}),_e(p,"$readbyte",function(){var O=this;return O.$readchar().$ord()}),_e(p,"$readchar",function(){var O=this,D=le;return I(D=O.$getc())?D:B.$raise(Re("EOFError"),"end of file reached")}),_e(p,"$readline",function(O){var D,Ne,oe=this,P=le;return D=ue(arguments),Ne=D,I(P=ze(oe,"gets",xe(Ne)))?P:B.$raise(Re("EOFError"),"end of file reached")},-1),_e(p,"$gets",function(O,D,Ne){var oe,P,h=this,s=le,n=le,i=le,$=le,o=le,v=le;Ae["/"]==null&&(Ae["/"]=le),O==null&&(O=!1),D==null&&(D=le),Ne==null&&(Ne=re([],{})),I(O.$$is_number)&&V(D)&&(oe=[!1,O,D],O=oe[0],D=oe[1],Ne=oe[2]),I(O.$$is_hash)&&V(D)&&Fe(Ne,re([],{}))?(oe=[!1,le,O],O=oe[0],D=oe[1],Ne=oe[2]):I(D.$$is_hash)&&Fe(Ne,re([],{}))&&(oe=[O,le,D],O=oe[0],D=oe[1],Ne=oe[2]),s=O,Fe(O,!1)&&(O=Ae["/"]),Fe(O,"")&&(O=/\r?\n\r?\n/),O=I(n=O)?n:"",Fe(s,"")||(O=O.$to_str()),i=Fe(s,"")?2:O.$length(),Fe(O," ")&&(O=/ /),h.read_buffer=I(n=h.read_buffer)?n:"",$="",o=le;do if(h.read_buffer=Ue(h.read_buffer,$),Ke(O,"")&&I(I(O.$$is_regexp)?h.read_buffer["$match?"](O):h.read_buffer["$include?"](O))){v=h.read_buffer,P=h.read_buffer.$split(O,2),oe=Ve(P),o=oe[0]==null?le:oe[0],h.read_buffer=oe[1]==null?le:oe[1],Ke(o,v)&&(o=Ue(o,v["$[]"](o.$length(),i)));break}while(I($=h.$sysread_noraise(Fe(O,"")?65536:1)));return I(o)||(oe=[I(n=h.read_buffer)?n:"",""],o=oe[0],h.read_buffer=oe[1],Fe(o,"")&&(o=le)),I(o)&&(I(D)&&(o=o["$[]"](e.Range.$new(0,D,!0)),h.read_buffer=Ue(o["$[]"](e.Range.$new(D,-1,!1)),h.read_buffer)),I(Ne["$[]"]("chomp"))&&(o=o.$sub(/\r?\n$/,"")),Fe(s,"")&&(o=o.$sub(/^[\r\n]+/,""))),Fe(s,!1)&&(Ae._=o),o},-1),_e(p,"$sysread",function(O){var D=this,Ne=le;return I(Ne=D.read_proc(O))?Ne:(D.eof=!0,B.$raise(Re("EOFError"),"end of file reached"))}),_e(p,"$sysread_noraise",function(O){var D=this;try{return D.$sysread(O)}catch(Ne){if(e.rescue(Ne,[Re("EOFError")]))try{return le}finally{e.pop_exception()}else throw Ne}}),_e(p,"$readpartial",function(O){var D,Ne=this,oe=le,P=le,h=le;return Ne.read_buffer=I(oe=Ne.read_buffer)?oe:"",P=Ne.$sysread(O),D=[Ue(Ne.read_buffer,I(oe=P)?oe:""),""],h=D[0],Ne.read_buffer=D[1],Fe(h,"")&&(h=le),h}),_e(p,"$read",function(O){var D,Ne=this,oe=le,P=le,h=le;O==null&&(O=le),Ne.read_buffer=I(oe=Ne.read_buffer)?oe:"",P="",h=le;do if(Ne.read_buffer=Ue(Ne.read_buffer,P),I(O)&&I(Me(Ne.read_buffer.$length(),O)))return D=[Ne.read_buffer["$[]"](e.Range.$new(0,O,!0)),Ne.read_buffer["$[]"](e.Range.$new(O,-1,!1))],h=D[0],Ne.read_buffer=D[1],h;while(I(P=Ne.$sysread_noraise(I(oe=O)?oe:65536)));return D=[Ne.read_buffer,""],h=D[0],Ne.read_buffer=D[1],h},-1),_e(p,"$readlines",function(O){var D=this;return Ae["/"]==null&&(Ae["/"]=le),O==null&&(O=Ae["/"]),D.$each_line(O).$to_a()},-1),_e(p,"$each",function F(O,D){var Ne=F.$$p||le,oe,P,h,s=this,n=le;if(Ae["/"]==null&&(Ae["/"]=le),F.$$p=null,oe=ue(arguments),oe.length>0&&(P=oe.shift()),P==null&&(P=Ae["/"]),h=oe,Ne===le)return ze(s,"enum_for",["each",P].concat(xe(h)));for(;I(n=ze(s,"gets",[P].concat(xe(h))));)e.yield1(Ne,n);return s},-1),_e(p,"$each_byte",function F(){var O=F.$$p||le,D=this,Ne=le;if(F.$$p=null,O===le)return D.$enum_for("each_byte");for(;I(Ne=D.$getbyte());)e.yield1(O,Ne);return D}),_e(p,"$each_char",function F(){var O=F.$$p||le,D=this,Ne=le;if(F.$$p=null,O===le)return D.$enum_for("each_char");for(;I(Ne=D.$getc());)e.yield1(O,Ne);return D}),_e(p,"$close",Ie("closed","both")),_e(p,"$close_read",function(){var O=this;return Fe(O.closed,"write")?O.closed="both":O.closed="read"}),_e(p,"$close_write",function(){var O=this;return Fe(O.closed,"read")?O.closed="both":O.closed="write"}),_e(p,"$closed?",function(){var O=this;return O.closed["$=="]("both")}),_e(p,"$closed_read?",function(){var O=this,D=le;return I(D=O.closed["$=="]("read"))?D:O.closed["$=="]("both")}),_e(p,"$closed_write?",function(){var O=this,D=le;return I(D=O.closed["$=="]("write"))?D:O.closed["$=="]("both")}),_e(p,"$check_writable",function(){var O=this;return I(O["$closed_write?"]())?B.$raise(Re("IOError"),"not opened for writing"):le}),_e(p,"$check_readable",function(){var O=this;return I(O["$closed_read?"]())?B.$raise(Re("IOError"),"not opened for reading"):le}),ce(p,"each_line","each"),ce(p,"eof?","eof")}("::",null),E("::","STDIN",Ae.stdin=Re("IO").$new(0,"r")),E("::","STDOUT",Ae.stdout=Re("IO").$new(1,"w")),E("::","STDERR",Ae.stderr=Re("IO").$new(2,"w"));var ie=e.global.console;return Re("STDOUT")["$write_proc="](typeof process=="object"&&typeof process.stdout=="object"?function(pe){process.stdout.write(pe)}:function(pe){ie.log(pe)}),Re("STDERR")["$write_proc="](typeof process=="object"&&typeof process.stderr=="object"?function(pe){process.stderr.write(pe)}:function(pe){ie.warn(pe)}),ye=[function(pe){var Q=prompt();return Q!==null?Q+`
`:le}],ze(Re("STDIN"),"read_proc=",ye),ye[ye.length-1]};Opal.modules["opal/regexp_anchors"]=function(e){var a=e.module,E=e.const_set,V=[];e.nil;var I=e.$$$;return e.add_stubs("new"),function(_e,ne){var ae=a(_e,"Opal"),ue=[ae].concat(ne),B=e.$r(ue);return E(ae,"REGEXP_START","^"),E(ae,"REGEXP_END","$"),E(ae,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(ae,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(ae,"INLINE_IDENTIFIER_REGEXP",B("Regexp").$new("[^"+I(ae,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+I(ae,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]")),E(ae,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F"),E(ae,"CONST_NAME_REGEXP",B("Regexp").$new(""+I(ae,"REGEXP_START")+"(::)?[A-Z][^"+I(ae,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+I(ae,"REGEXP_END")))}(V[0],V)};Opal.modules["opal/mini"]=function(e){var a=e.Object;return e.nil,e.add_stubs("require"),a.$require("opal/base"),a.$require("corelib/nil"),a.$require("corelib/boolean"),a.$require("corelib/string"),a.$require("corelib/comparable"),a.$require("corelib/enumerable"),a.$require("corelib/enumerator"),a.$require("corelib/array"),a.$require("corelib/hash"),a.$require("corelib/number"),a.$require("corelib/range"),a.$require("corelib/proc"),a.$require("corelib/method"),a.$require("corelib/regexp"),a.$require("corelib/variables"),a.$require("corelib/io"),a.$require("opal/regexp_anchors")};Opal.modules["corelib/kernel/format"]=function(e){var a=e.coerce_to,E=e.module,V=e.slice,I=e.truthy,_e=e.eqeq,ne=e.Opal,ae=e.Kernel,ue=e.gvars,B=e.def,Ae=e.alias,ze=e.nil,xe=e.$$$;return e.add_stubs("respond_to?,[],==,length,coerce_to?,nil?,to_a,raise,to_int,fetch,Integer,Float,to_ary,to_str,inspect,to_s,format"),function(Ue){var Ke=E(Ue,"Kernel");return B(Ke,"$format",function(re,Fe){var Ve,Me,Ie=ze;ue.DEBUG==null&&(ue.DEBUG=ze),Ve=V(arguments,1),Me=Ve,_e(Me.$length(),1)&&I(Me["$[]"](0)["$respond_to?"]("to_ary"))&&(Ie=ne["$coerce_to?"](Me["$[]"](0),xe("Array"),"to_ary"),I(Ie["$nil?"]())||(Me=Ie.$to_a()));var ce="",ye=0,le,Re,ie=re.length,pe,Q,p,de,F,O,D,Ne,oe,P,h,s,n,i=1,$=0,o,v=0,w=1,K=2,Ce=4,tt=8,ot=16,lt=32,vt=64,_t=128;function bt(){o&lt&&ae.$raise(xe("ArgumentError"),"flag after width"),o&_t&&ae.$raise(xe("ArgumentError"),"flag after precision")}function pt(){o&lt&&ae.$raise(xe("ArgumentError"),"width given twice"),o&_t&&ae.$raise(xe("ArgumentError"),"width after precision")}function gt(_){return _>=Me.length&&ae.$raise(xe("ArgumentError"),"too few arguments"),Me[_]}function mt(){switch($){case-1:ae.$raise(xe("ArgumentError"),"unnumbered("+i+") mixed with numbered");case-2:ae.$raise(xe("ArgumentError"),"unnumbered("+i+") mixed with named")}return $=i++,gt($-1)}function Qe(_){return $>0&&ae.$raise(xe("ArgumentError"),"numbered("+_+") after unnumbered("+$+")"),$===-2&&ae.$raise(xe("ArgumentError"),"numbered("+_+") after named"),_<1&&ae.$raise(xe("ArgumentError"),"invalid index - "+_+"$"),$=-1,gt(_-1)}function me(){return n===void 0?mt():n}function Ee(_){for(var x,te="";;Re++){if(Re===ie&&ae.$raise(xe("ArgumentError"),"malformed format string - %*[0-9]"),re.charCodeAt(Re)<48||re.charCodeAt(Re)>57)return Re--,x=parseInt(te,10)||0,x>2147483647&&ae.$raise(xe("ArgumentError"),""+_+" too big"),x;te+=re.charAt(Re)}}function je(_){var x,te=Ee(_);return re.charAt(Re+1)==="$"?(Re++,x=Qe(te)):x=mt(),x.$to_int()}for(Re=re.indexOf("%");Re!==-1;Re=re.indexOf("%",Re)){switch(Q=void 0,o=v,de=-1,F=-1,n=void 0,le=Re,Re++,re.charAt(Re)){case"%":ye=Re;case"":case`
`:case"\0":Re++;continue}e:for(;Re<ie;Re++)switch(re.charAt(Re)){case" ":bt(),o|=ot;continue e;case"#":bt(),o|=w;continue e;case"+":bt(),o|=Ce;continue e;case"-":bt(),o|=K;continue e;case"0":bt(),o|=tt;continue e;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":if(O=Ee("width"),re.charAt(Re+1)==="$"){if(Re+2===ie){Q="%",Re++;break e}n!==void 0&&ae.$raise(xe("ArgumentError"),"value given twice - %"+O+"$"),n=Qe(O),Re++}else pt(),o|=lt,de=O;continue e;case"<":case"{":for(Ne=re.charAt(Re)==="<"?">":"}",D="",Re++;;Re++){if(Re===ie&&ae.$raise(xe("ArgumentError"),"malformed name - unmatched parenthesis"),re.charAt(Re)===Ne){if($>0&&ae.$raise(xe("ArgumentError"),"named "+D+" after unnumbered("+$+")"),$===-1&&ae.$raise(xe("ArgumentError"),"named "+D+" after numbered"),$=-2,(Me[0]===void 0||!Me[0].$$is_hash)&&ae.$raise(xe("ArgumentError"),"one hash required"),n=Me[0].$fetch(D),Ne===">")continue e;if(Q=n.toString(),F!==-1&&(Q=Q.slice(0,F)),o&K)for(;Q.length<de;)Q=Q+" ";else for(;Q.length<de;)Q=" "+Q;break e}D+=re.charAt(Re)}case"*":Re++,pt(),o|=lt,de=je("width"),de<0&&(o|=K,de=-de);continue e;case".":if(o&_t&&ae.$raise(xe("ArgumentError"),"precision given twice"),o|=vt|_t,F=0,Re++,re.charAt(Re)==="*"){Re++,F=je("precision"),F<0&&(o&=~vt);continue e}F=Ee("precision");continue e;case"d":case"i":case"u":if(pe=ae.$Integer(me()),pe>=0){for(Q=pe.toString();Q.length<F;)Q="0"+Q;if(o&K)for((o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q);Q.length<de;)Q=Q+" ";else if(o&tt&&F===-1){for(;Q.length<de-(o&Ce||o&ot?1:0);)Q="0"+Q;(o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q)}else for((o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q);Q.length<de;)Q=" "+Q}else{for(Q=(-pe).toString();Q.length<F;)Q="0"+Q;if(o&K)for(Q="-"+Q;Q.length<de;)Q=Q+" ";else if(o&tt&&F===-1){for(;Q.length<de-1;)Q="0"+Q;Q="-"+Q}else for(Q="-"+Q;Q.length<de;)Q=" "+Q}break e;case"b":case"B":case"o":case"x":case"X":switch(re.charAt(Re)){case"b":case"B":oe=2,P="0b",h=/^1+/,s="1";break;case"o":oe=8,P="0",h=/^3?7+/,s="7";break;case"x":case"X":oe=16,P="0x",h=/^f+/,s="f";break}if(pe=ae.$Integer(me()),pe>=0){for(Q=pe.toString(oe);Q.length<F;)Q="0"+Q;if(o&K)for((o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q),o&w&&pe!==0&&(Q=P+Q);Q.length<de;)Q=Q+" ";else if(o&tt&&F===-1){for(;Q.length<de-(o&Ce||o&ot?1:0)-(o&w&&pe!==0?P.length:0);)Q="0"+Q;o&w&&pe!==0&&(Q=P+Q),(o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q)}else for(o&w&&pe!==0&&(Q=P+Q),(o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q);Q.length<de;)Q=" "+Q}else if(o&Ce||o&ot){for(Q=(-pe).toString(oe);Q.length<F;)Q="0"+Q;if(o&K)for(o&w&&(Q=P+Q),Q="-"+Q;Q.length<de;)Q=Q+" ";else if(o&tt&&F===-1){for(;Q.length<de-1-(o&w?2:0);)Q="0"+Q;o&w&&(Q=P+Q),Q="-"+Q}else for(o&w&&(Q=P+Q),Q="-"+Q;Q.length<de;)Q=" "+Q}else{for(Q=(pe>>>0).toString(oe).replace(h,s);Q.length<F-2;)Q=s+Q;if(o&K)for(Q=".."+Q,o&w&&(Q=P+Q);Q.length<de;)Q=Q+" ";else if(o&tt&&F===-1){for(;Q.length<de-2-(o&w?P.length:0);)Q=s+Q;Q=".."+Q,o&w&&(Q=P+Q)}else for(Q=".."+Q,o&w&&(Q=P+Q);Q.length<de;)Q=" "+Q}re.charAt(Re)===re.charAt(Re).toUpperCase()&&(Q=Q.toUpperCase());break e;case"f":case"e":case"E":case"g":case"G":if(pe=ae.$Float(me()),pe>=0||isNaN(pe)){if(pe===1/0)Q="Inf";else switch(re.charAt(Re)){case"f":Q=pe.toFixed(F===-1?6:F);break;case"e":case"E":Q=pe.toExponential(F===-1?6:F);break;case"g":case"G":Q=pe.toExponential(),p=parseInt(Q.split("e")[1],10),p<-4||p>=(F===-1?6:F)||(Q=pe.toPrecision(F===-1?o&w?6:void 0:F));break}if(o&K)for((o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q);Q.length<de;)Q=Q+" ";else if(o&tt&&pe!==1/0&&!isNaN(pe)){for(;Q.length<de-(o&Ce||o&ot?1:0);)Q="0"+Q;(o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q)}else for((o&Ce||o&ot)&&(Q=(o&Ce?"+":" ")+Q);Q.length<de;)Q=" "+Q}else{if(pe===-1/0)Q="Inf";else switch(re.charAt(Re)){case"f":Q=(-pe).toFixed(F===-1?6:F);break;case"e":case"E":Q=(-pe).toExponential(F===-1?6:F);break;case"g":case"G":Q=(-pe).toExponential(),p=parseInt(Q.split("e")[1],10),p<-4||p>=(F===-1?6:F)||(Q=(-pe).toPrecision(F===-1?o&w?6:void 0:F));break}if(o&K)for(Q="-"+Q;Q.length<de;)Q=Q+" ";else if(o&tt&&pe!==-1/0){for(;Q.length<de-1;)Q="0"+Q;Q="-"+Q}else for(Q="-"+Q;Q.length<de;)Q=" "+Q}re.charAt(Re)===re.charAt(Re).toUpperCase()&&pe!==1/0&&pe!==-1/0&&!isNaN(pe)&&(Q=Q.toUpperCase()),Q=Q.replace(/([eE][-+]?)([0-9])$/,"$10$2");break e;case"a":case"A":ae.$raise(xe("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");case"c":if(pe=me(),pe["$respond_to?"]("to_ary")&&(pe=pe.$to_ary()[0]),pe["$respond_to?"]("to_str")?Q=pe.$to_str():Q=String.fromCharCode(a(pe,xe("Integer"),"to_int")),Q.length!==1&&ae.$raise(xe("ArgumentError"),"%c requires a character"),o&K)for(;Q.length<de;)Q=Q+" ";else for(;Q.length<de;)Q=" "+Q;break e;case"p":if(Q=me().$inspect(),F!==-1&&(Q=Q.slice(0,F)),o&K)for(;Q.length<de;)Q=Q+" ";else for(;Q.length<de;)Q=" "+Q;break e;case"s":if(Q=me().$to_s(),F!==-1&&(Q=Q.slice(0,F)),o&K)for(;Q.length<de;)Q=Q+" ";else for(;Q.length<de;)Q=" "+Q;break e;default:ae.$raise(xe("ArgumentError"),"malformed format string - %"+re.charAt(Re))}Q===void 0&&ae.$raise(xe("ArgumentError"),"malformed format string - %"),ce+=re.slice(ye,le)+Q,ye=Re+1}return ue.DEBUG&&$>=0&&i<Me.length&&ae.$raise(xe("ArgumentError"),"too many arguments for format string"),ce+re.slice(ye)},-2),Ae(Ke,"sprintf","format")}("::")};Opal.modules["corelib/string/encoding"]=function(e){var a=e.klass,E=e.hash2,V=e.rb_plus,I=e.truthy,_e=e.send,ne=e.defs,ae=e.eqeq,ue=e.def,B=e.return_ivar,Ae=e.return_val,ze=e.slice,xe=e.Kernel,Ue=e.Opal,Ke=e.rb_lt,qe,re=e.top,Fe=[],Ve=e.$r(Fe),Me=e.nil,Ie=e.$$$;return e.add_stubs("require,+,[],clone,initialize,new,instance_eval,to_proc,each,const_set,tr,==,default_external,attr_accessor,singleton_class,attr_reader,raise,register,length,bytes,force_encoding,dup,bytesize,enum_for,each_byte,to_a,each_char,each_codepoint,coerce_to!,find,<,default_external="),re.$require("corelib/string"),function(ce,ye){var le=a(ce,ye,"Encoding"),Re=le.$$prototype;return Re.name=Re.dummy=Me,ne(le,"$register",function ie(pe,Q){var p=ie.$$p||Me,de=this,F=Me,O=Me,D=Me,Ne=Me,oe=Me,P=Me;return ie.$$p=null,Q==null&&(Q=E([],{})),F=V([pe],I(O=Q["$[]"]("aliases"))?O:[]),D=I(O=Q["$[]"]("ascii"))&&O,Ne=I(O=Q["$[]"]("dummy"))&&O,I(Q["$[]"]("inherits"))?(oe=Q["$[]"]("inherits").$clone(),oe.$initialize(pe,F,D,Ne)):oe=de.$new(pe,F,D,Ne),p!==Me&&_e(oe,"instance_eval",[],p.$to_proc()),P=e.encodings,_e(F,"each",[],function h(s){var n=h.$$s==null?this:h.$$s;return s==null&&(s=Me),n.$const_set(s.$tr("-","_"),oe),P[s]=oe},{$$s:de})},-2),ne(le,"$find",function(pe){var Q=this;return ae(pe,"default_external")?Q.$default_external():e.find_encoding(pe)}),le.$singleton_class().$attr_accessor("default_external"),le.$attr_reader("name","names"),ue(le,"$initialize",function(pe,Q,p,de){var F=this;return F.name=pe,F.names=Q,F.ascii=p,F.dummy=de}),ue(le,"$ascii_compatible?",B("ascii")),ue(le,"$dummy?",B("dummy")),ue(le,"$binary?",Ae(!1)),ue(le,"$to_s",B("name")),ue(le,"$inspect",function(){var pe=this;return"#<Encoding:"+pe.name+(I(pe.dummy)?" (dummy)":Me)+">"}),ue(le,"$charsize",function(pe){for(var Q=0,p=0,de=pe.length;p<de;p++){var F=pe.charCodeAt(p);F>=55296&&F<=56319||Q++}return Q}),ue(le,"$each_char",function ie(pe){var Q=ie.$$p||Me;ie.$$p=null;for(var p="",de=0,F=pe.length;de<F;de++){var O=pe.charCodeAt(de),D=pe.charAt(de);if(O>=56320&&O<=57343){p=D;continue}else O>=55296&&O<=56319&&(D=p+D);pe.encoding.name!="UTF-8"&&(D=new String(D),D.encoding=pe.encoding),e.yield1(Q,D)}}),ue(le,"$each_byte",function(pe){return ze(arguments),xe.$raise(Ie("NotImplementedError"))},-1),ue(le,"$bytesize",function(pe){return ze(arguments),xe.$raise(Ie("NotImplementedError"))},-1),a("::",Ie("StandardError"),"EncodingError"),a("::",Ie("EncodingError"),"CompatibilityError"),Me}("::",null),_e(Ie("Encoding"),"register",["UTF-8",E(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=1/0,Q,p=Re.length,de=null,F=0;F<p;++F){if(Q=Re.charCodeAt(F),Q>55295&&Q<57344){if(!de){if(Q>56319){(pe-=3)>-1&&(e.yield1(ie,239),e.yield1(ie,191),e.yield1(ie,189));continue}else if(F+1===p){(pe-=3)>-1&&(e.yield1(ie,239),e.yield1(ie,191),e.yield1(ie,189));continue}de=Q;continue}if(Q<56320){(pe-=3)>-1&&(e.yield1(ie,239),e.yield1(ie,191),e.yield1(ie,189)),de=Q;continue}Q=(de-55296<<10|Q-56320)+65536}else de&&(pe-=3)>-1&&(e.yield1(ie,239),e.yield1(ie,191),e.yield1(ie,189));if(de=null,Q<128){if((pe-=1)<0)break;e.yield1(ie,Q)}else if(Q<2048){if((pe-=2)<0)break;e.yield1(ie,Q>>6|192),e.yield1(ie,Q&63|128)}else if(Q<65536){if((pe-=3)<0)break;e.yield1(ie,Q>>12|224),e.yield1(ie,Q>>6&63|128),e.yield1(ie,Q&63|128)}else if(Q<1114112){if((pe-=4)<0)break;e.yield1(ie,Q>>18|240),e.yield1(ie,Q>>12&63|128),e.yield1(ie,Q>>6&63|128),e.yield1(ie,Q&63|128)}}}),ue(ye,"$bytesize",function(Re){return Re.$bytes().$length()})},{$$s:re}),_e(Ie("Encoding"),"register",["UTF-16LE"],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=Re.charCodeAt(pe);e.yield1(ie,p&255),e.yield1(ie,p>>8)}}),ue(ye,"$bytesize",function(Re){return Re.length*2})},{$$s:re}),_e(Ie("Encoding"),"register",["UTF-16BE",E(["inherits"],{inherits:Ie(Ie("Encoding"),"UTF_16LE")})],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=Re.charCodeAt(pe);e.yield1(ie,p>>8),e.yield1(ie,p&255)}})},{$$s:re}),_e(Ie("Encoding"),"register",["UTF-32LE"],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=Re.charCodeAt(pe);e.yield1(ie,p&255),e.yield1(ie,p>>8),e.yield1(ie,0),e.yield1(ie,0)}}),ue(ye,"$bytesize",function(Re){return Re.length*4})},{$$s:re}),_e(Ie("Encoding"),"register",["UTF-32BE",E(["inherits"],{inherits:Ie(Ie("Encoding"),"UTF_32LE")})],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=Re.charCodeAt(pe);e.yield1(ie,0),e.yield1(ie,0),e.yield1(ie,p>>8),e.yield1(ie,p&255)}})},{$$s:re}),_e(Ie("Encoding"),"register",["ASCII-8BIT",E(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],function ce(){var ye=ce.$$s==null?this:ce.$$s;return ue(ye,"$each_char",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=new String(Re.charAt(pe));p.encoding=Re.encoding,e.yield1(ie,p)}}),ue(ye,"$charsize",function(Re){return Re.length}),ue(ye,"$each_byte",function le(Re){var ie=le.$$p||Me;le.$$p=null;for(var pe=0,Q=Re.length;pe<Q;pe++){var p=Re.charCodeAt(pe);e.yield1(ie,p&255)}}),ue(ye,"$bytesize",function(Re){return Re.length}),ue(ye,"$binary?",Ae(!0))},{$$s:re}),Ie("Encoding").$register("ISO-8859-1",E(["aliases","ascii","inherits"],{aliases:["ISO8859-1"],ascii:!0,inherits:Ie(Ie("Encoding"),"ASCII_8BIT")})),Ie("Encoding").$register("US-ASCII",E(["aliases","ascii","inherits"],{aliases:["ASCII"],ascii:!0,inherits:Ie(Ie("Encoding"),"ASCII_8BIT")})),function(ce,ye){var le=a(ce,ye,"String"),Re=le.$$prototype;return Re.internal_encoding=Re.bytes=Re.encoding=Me,le.$attr_reader("encoding"),le.$attr_reader("internal_encoding"),e.prop(String.prototype,"bytes",Me),e.prop(String.prototype,"encoding",Ie(Ie("Encoding"),"UTF_8")),e.prop(String.prototype,"internal_encoding",Ie(Ie("Encoding"),"UTF_8")),ue(le,"$b",function(){var pe=this;return pe.$dup().$force_encoding("binary")}),ue(le,"$bytesize",function(){var pe=this;return pe.internal_encoding.$bytesize(pe)}),ue(le,"$each_byte",function ie(){var pe=ie.$$p||Me,Q=this;return ie.$$p=null,pe===Me?_e(Q,"enum_for",["each_byte"],function p(){var de=p.$$s==null?this:p.$$s;return de.$bytesize()},{$$s:Q}):(_e(Q.internal_encoding,"each_byte",[Q],pe.$to_proc()),Q)}),ue(le,"$bytes",function(){var pe=this,Q=Me;return typeof pe=="string"?new String(pe).$each_byte().$to_a():(pe.bytes=I(Q=pe.bytes)?Q:pe.$each_byte().$to_a(),pe.bytes.$dup())}),ue(le,"$each_char",function ie(){var pe=ie.$$p||Me,Q=this;return ie.$$p=null,pe===Me?_e(Q,"enum_for",["each_char"],function p(){var de=p.$$s==null?this:p.$$s;return de.$length()},{$$s:Q}):(_e(Q.encoding,"each_char",[Q],pe.$to_proc()),Q)}),ue(le,"$chars",function ie(){var pe=ie.$$p||Me,Q=this;return ie.$$p=null,I(pe)?_e(Q,"each_char",[],pe.$to_proc()):Q.$each_char().$to_a()}),ue(le,"$each_codepoint",function ie(){var pe=ie.$$p||Me,Q=this;if(ie.$$p=null,pe===Me)return Q.$enum_for("each_codepoint");for(var p=0,de=Q.length;p<de;p++)e.yield1(pe,Q.codePointAt(p));return Q}),ue(le,"$codepoints",function ie(){var pe=ie.$$p||Me,Q=this;return ie.$$p=null,pe!==Me?_e(Q,"each_codepoint",[],pe.$to_proc()):Q.$each_codepoint().$to_a()}),ue(le,"$encode",function(pe){var Q=this;return e.enc(Q,pe)}),ue(le,"$force_encoding",function(pe){var Q=this,p=Q;return pe===p.encoding||(pe=Ue["$coerce_to!"](pe,Ie("String"),"to_s"),pe=Ie("Encoding").$find(pe),pe===p.encoding)||(p=e.set_encoding(p,pe)),p}),ue(le,"$getbyte",function(pe){var Q=this,p=Me;return p=Q.$bytes(),pe=Ue["$coerce_to!"](pe,Ie("Integer"),"to_int"),I(Ke(p.$length(),pe))?Me:p["$[]"](pe)}),ue(le,"$initialize_copy",function(pe){return`
      self.encoding = other.encoding;
      self.internal_encoding = other.internal_encoding;
    `}),ue(le,"$valid_encoding?",Ae(!0))}("::",null),qe=[Ie(Ve("Encoding"),"UTF_8")],_e(Ie("Encoding"),"default_external=",qe),qe[qe.length-1]};Opal.modules["corelib/math"]=function(e){var a=e.type_error,E=e.module,V=e.const_set,I=e.Class,_e=e.slice,ne=e.Kernel,ae=e.defs,ue=e.truthy,B=e.send,Ae=e.def,ze=e.rb_minus,xe=e.eqeqeq,Ue=e.rb_divide,Ke=[],qe=e.nil,re=e.$$$;return e.add_stubs("new,raise,Float,Integer,module_function,each,define_method,checked,float!,===,gamma,-,integer!,/,infinite?"),function(Fe,Ve){var Me=E(Fe,"Math"),Ie=[Me].concat(Ve),ce=e.$r(Ie);return V(Me,"E",Math.E),V(Me,"PI",Math.PI),V(Me,"DomainError",I.$new(re("StandardError"))),ae(Me,"$checked",function(le,Re){var ie,pe;if(ie=_e(arguments,1),pe=ie,isNaN(pe[0])||pe.length==2&&isNaN(pe[1]))return NaN;var Q=Math[le].apply(null,pe);return isNaN(Q)&&ne.$raise(ce("DomainError"),'Numerical argument is out of domain - "'+le+'"'),Q},-2),ae(Me,"$float!",function(le){try{return ne.$Float(le)}catch(Re){if(e.rescue(Re,[re("ArgumentError")]))try{return ne.$raise(a(le,re("Float")))}finally{e.pop_exception()}else throw Re}}),ae(Me,"$integer!",function(le){try{return ne.$Integer(le)}catch(Re){if(e.rescue(Re,[re("ArgumentError")]))try{return ne.$raise(a(le,re("Integer")))}finally{e.pop_exception()}else throw Re}}),Me.$module_function(),ue(typeof Math.erf<"u")||e.prop(Math,"erf",function(ye){var le=.254829592,Re=-.284496736,ie=1.421413741,pe=-1.453152027,Q=1.061405429,p=.3275911,de=1;ye<0&&(de=-1),ye=Math.abs(ye);var F=1/(1+p*ye),O=1-((((Q*F+pe)*F+ie)*F+Re)*F+le)*F*Math.exp(-ye*ye);return de*O}),ue(typeof Math.erfc<"u")||e.prop(Math,"erfc",function(ye){var le=Math.abs(ye),Re=1/(.5*le+1),ie=Re*.17087277+-.82215223,pe=Re*ie+1.48851587,Q=Re*pe+-1.13520398,p=Re*Q+.27886807,de=Re*p+-.18628806,F=Re*de+.09678418,O=Re*F+.37409196,D=Re*O+1.00002368,Ne=Re*D,oe=-le*le-1.26551223+Ne,P=Re*Math.exp(oe);return ye<0?2-P:P}),B(["acos","acosh","asin","asinh","atan","atanh","cbrt","cos","cosh","erf","erfc","exp","sin","sinh","sqrt","tanh"],"each",[],function ye(le){var Re=ye.$$s==null?this:ye.$$s;return le==null&&(le=qe),B(Re,"define_method",[le],function(pe){return pe==null&&(pe=qe),re("Math").$checked(le,re("Math")["$float!"](pe))})},{$$s:Me}),Ae(Me,"$atan2",function(le,Re){return re("Math").$checked("atan2",re("Math")["$float!"](le),re("Math")["$float!"](Re))}),Ae(Me,"$hypot",function(le,Re){return re("Math").$checked("hypot",re("Math")["$float!"](le),re("Math")["$float!"](Re))}),Ae(Me,"$frexp",function(le){if(le=ce("Math")["$float!"](le),isNaN(le))return[NaN,0];var Re=Math.floor(Math.log(Math.abs(le))/Math.log(2))+1,ie=le/Math.pow(2,Re);return[ie,Re]}),Ae(Me,"$gamma",function(le){le=ce("Math")["$float!"](le);var Re,ie,pe,Q,p,de,F,O,D,Ne=4.7421875,oe=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];if(isNaN(le))return NaN;if(le===0&&1/le<0)return-1/0;if((le===-1||le===-1/0)&&ne.$raise(ce("DomainError"),'Numerical argument is out of domain - "gamma"'),ce("Integer")["$==="](le)){if(le<=0)return isFinite(le)?1/0:NaN;if(le>171)return 1/0;for(Q=le-2,p=le-1;Q>1;)p*=Q,Q--;return p==0&&(p=1),p}if(le<.5)return Math.PI/(Math.sin(Math.PI*le)*re("Math").$gamma(ze(1,le)));if(le>=171.35)return 1/0;if(le>85)return de=le*le,F=de*le,O=F*le,D=O*le,Math.sqrt(2*Math.PI/le)*Math.pow(le/Math.E,le)*(1+1/(12*le)+1/(288*de)-139/(51840*F)-571/(2488320*O)+163879/(209018880*D)+5246819/(75246796800*D*le));for(le-=1,pe=oe[0],Re=1;Re<oe.length;++Re)pe+=oe[Re]/(le+Re);return ie=le+Ne+.5,Math.sqrt(2*Math.PI)*Math.pow(ie,le+.5)*Math.exp(-ie)*pe}),Ae(Me,"$ldexp",function(le,Re){return le=ce("Math")["$float!"](le),Re=ce("Math")["$integer!"](Re),isNaN(Re)&&ne.$raise(re("RangeError"),"float NaN out of range of integer"),le*Math.pow(2,Re)}),Ae(Me,"$lgamma",function(le){return le==-1?[1/0,1]:[Math.log(Math.abs(re("Math").$gamma(le))),re("Math").$gamma(le)<0?-1:1]}),Ae(Me,"$log",function(le,Re){return xe(re("String"),le)&&ne.$raise(a(le,re("Float"))),ue(Re==null)?re("Math").$checked("log",re("Math")["$float!"](le)):(xe(re("String"),Re)&&ne.$raise(a(Re,re("Float"))),Ue(re("Math").$checked("log",re("Math")["$float!"](le)),re("Math").$checked("log",re("Math")["$float!"](Re))))},-2),Ae(Me,"$log10",function(le){return xe(re("String"),le)&&ne.$raise(a(le,re("Float"))),re("Math").$checked("log10",re("Math")["$float!"](le))}),Ae(Me,"$log2",function(le){return xe(re("String"),le)&&ne.$raise(a(le,re("Float"))),re("Math").$checked("log2",re("Math")["$float!"](le))}),Ae(Me,"$tan",function(le){return le=re("Math")["$float!"](le),ue(le["$infinite?"]())?re(re("Float"),"NAN"):re("Math").$checked("tan",re("Math")["$float!"](le))})}("::",Ke)};Opal.modules["corelib/complex/base"]=function(e){var a=e.module,E=e.truthy,V=e.def,I=e.klass,_e=[],ne=e.nil;return e.add_stubs("new,from_string"),function(ae,ue){var B=a(ae,"Kernel"),Ae=[B].concat(ue),ze=e.$r(Ae);return V(B,"$Complex",function(Ue,Ke){return Ke==null&&(Ke=ne),E(Ke)?ze("Complex").$new(Ue,Ke):ze("Complex").$new(Ue,0)},-2)}("::",_e),function(ae,ue,B){var Ae=I(ae,ue,"String"),ze=[Ae].concat(B),xe=e.$r(ze);return V(Ae,"$to_c",function(){var Ke=this;return xe("Complex").$from_string(Ke)})}("::",null,_e)};Opal.modules["corelib/complex"]=function(e){var a=e.klass,E=e.truthy,V=e.eqeqeq,I=e.Kernel,_e=e.defs,ne=e.rb_times,ae=e.def,ue=e.rb_plus,B=e.rb_minus,Ae=e.rb_divide,ze=e.eqeq,xe=e.to_ary,Ue=e.rb_gt,Ke=e.neqeq,qe=e.return_val,re=e.const_set,Fe=e.alias,Ve=e.top,Me=[],Ie=e.nil,ce=e.$$$;return e.add_stubs("require,real?,===,raise,new,*,cos,sin,attr_reader,freeze,class,==,real,imag,Complex,-@,+,__coerced__,-,nan?,/,conj,abs2,quo,polar,exp,log,>,!=,divmod,**,hypot,atan2,lcm,denominator,finite?,infinite?,numerator,abs,arg,rationalize,to_f,to_i,to_r,inspect,zero?,positive?,Rational,rect,angle"),Ve.$require("corelib/numeric"),Ve.$require("corelib/complex/base"),function(ye,le,Re){var ie=a(ye,le,"Complex"),pe=[ie].concat(Re),Q=e.$r(pe),p=ie.$$prototype;return p.real=p.imag=Ie,_e(ie,"$rect",function(F,O){var D=this;return O==null&&(O=0),V(ce("Numeric"),F)&&E(F["$real?"]())&&V(ce("Numeric"),O)&&E(O["$real?"]())||I.$raise(ce("TypeError"),"not a real"),D.$new(F,O)},-2),_e(ie,"$polar",function(F,O){var D=this;return O==null&&(O=0),V(ce("Numeric"),F)&&E(F["$real?"]())&&V(ce("Numeric"),O)&&E(O["$real?"]())||I.$raise(ce("TypeError"),"not a real"),D.$new(ne(F,ce("Math").$cos(O)),ne(F,ce("Math").$sin(O)))},-2),ie.$attr_reader("real","imag"),ae(ie,"$initialize",function(F,O){var D=this;return O==null&&(O=0),D.real=F,D.imag=O,D.$freeze()},-2),ae(ie,"$coerce",function(F){var O=this;return V(ce("Complex"),F)?[F,O]:V(ce("Numeric"),F)&&E(F["$real?"]())?[ce("Complex").$new(F,0),O]:I.$raise(ce("TypeError"),""+F.$class()+" can't be coerced into Complex")}),ae(ie,"$==",function(F){var O=this,D=Ie;return V(ce("Complex"),F)?E(D=O.real["$=="](F.$real()))?O.imag["$=="](F.$imag()):D:V(ce("Numeric"),F)&&E(F["$real?"]())?E(D=O.real["$=="](F))?O.imag["$=="](0):D:F["$=="](O)}),ae(ie,"$-@",function(){var F=this;return I.$Complex(F.real["$-@"](),F.imag["$-@"]())}),ae(ie,"$+",function(F){var O=this;return V(ce("Complex"),F)?I.$Complex(ue(O.real,F.$real()),ue(O.imag,F.$imag())):V(ce("Numeric"),F)&&E(F["$real?"]())?I.$Complex(ue(O.real,F),O.imag):O.$__coerced__("+",F)}),ae(ie,"$-",function(F){var O=this;return V(ce("Complex"),F)?I.$Complex(B(O.real,F.$real()),B(O.imag,F.$imag())):V(ce("Numeric"),F)&&E(F["$real?"]())?I.$Complex(B(O.real,F),O.imag):O.$__coerced__("-",F)}),ae(ie,"$*",function(F){var O=this;return V(ce("Complex"),F)?I.$Complex(B(ne(O.real,F.$real()),ne(O.imag,F.$imag())),ue(ne(O.real,F.$imag()),ne(O.imag,F.$real()))):V(ce("Numeric"),F)&&E(F["$real?"]())?I.$Complex(ne(O.real,F),ne(O.imag,F)):O.$__coerced__("*",F)}),ae(ie,"$/",function(F){var O=this;return V(ce("Complex"),F)?V(ce("Number"),O.real)&&E(O.real["$nan?"]())||V(ce("Number"),O.imag)&&E(O.imag["$nan?"]())||V(ce("Number"),F.$real())&&E(F.$real()["$nan?"]())||V(ce("Number"),F.$imag())&&E(F.$imag()["$nan?"]())?ce("Complex").$new(ce(ce("Float"),"NAN"),ce(ce("Float"),"NAN")):Ae(ne(O,F.$conj()),F.$abs2()):V(ce("Numeric"),F)&&E(F["$real?"]())?I.$Complex(O.real.$quo(F),O.imag.$quo(F)):O.$__coerced__("/",F)}),ae(ie,"$**",function(F){var O,D,Ne=this,oe=Ie,P=Ie,h=Ie,s=Ie,n=Ie,i=Ie,$=Ie,o=Ie,v=Ie,w=Ie,K=Ie;if(ze(F,0))return ce("Complex").$new(1,0);if(V(ce("Complex"),F))return D=Ne.$polar(),O=xe(D),oe=O[0]==null?Ie:O[0],P=O[1]==null?Ie:O[1],h=F.$real(),s=F.$imag(),n=ce("Math").$exp(B(ne(h,ce("Math").$log(oe)),ne(s,P))),i=ue(ne(P,h),ne(s,ce("Math").$log(oe))),ce("Complex").$polar(n,i);if(V(ce("Integer"),F))if(E(Ue(F,0))){for($=Ne,o=$,v=B(F,1);Ke(v,0);){for(D=v.$divmod(2),O=xe(D),w=O[0]==null?Ie:O[0],K=O[1]==null?Ie:O[1];ze(K,0);)$=I.$Complex(B(ne($.$real(),$.$real()),ne($.$imag(),$.$imag())),ne(ne(2,$.$real()),$.$imag())),v=w,D=v.$divmod(2),O=xe(D),w=O[0]==null?Ie:O[0],K=O[1]==null?Ie:O[1];o=ne(o,$),v=B(v,1)}return o}else return Ae(ce("Rational").$new(1,1),Ne)["$**"](F["$-@"]());else return V(ce("Float"),F)||V(ce("Rational"),F)?(D=Ne.$polar(),O=xe(D),oe=O[0]==null?Ie:O[0],P=O[1]==null?Ie:O[1],ce("Complex").$polar(oe["$**"](F),ne(P,F))):Ne.$__coerced__("**",F)}),ae(ie,"$abs",function(){var F=this;return ce("Math").$hypot(F.real,F.imag)}),ae(ie,"$abs2",function(){var F=this;return ue(ne(F.real,F.real),ne(F.imag,F.imag))}),ae(ie,"$angle",function(){var F=this;return ce("Math").$atan2(F.imag,F.real)}),ae(ie,"$conj",function(){var F=this;return I.$Complex(F.real,F.imag["$-@"]())}),ae(ie,"$denominator",function(){var F=this;return F.real.$denominator().$lcm(F.imag.$denominator())}),ae(ie,"$eql?",function(F){var O=this,D=Ie,Ne=Ie;return E(D=E(Ne=Q("Complex")["$==="](F))?O.real.$class()["$=="](O.imag.$class()):Ne)?O["$=="](F):D}),ae(ie,"$fdiv",function(F){var O=this;return V(ce("Numeric"),F)||I.$raise(ce("TypeError"),""+F.$class()+" can't be coerced into Complex"),Ae(O,F)}),ae(ie,"$finite?",function(){var F=this,O=Ie;return E(O=F.real["$finite?"]())?F.imag["$finite?"]():O}),ae(ie,"$hash",function(){var F=this;return"Complex:"+F.real+":"+F.imag}),ae(ie,"$infinite?",function(){var F=this,O=Ie;return E(O=F.real["$infinite?"]())?O:F.imag["$infinite?"]()}),ae(ie,"$inspect",function(){var F=this;return"("+F+")"}),ae(ie,"$numerator",function(){var F=this,O=Ie;return O=F.$denominator(),I.$Complex(ne(F.real.$numerator(),Ae(O,F.real.$denominator())),ne(F.imag.$numerator(),Ae(O,F.imag.$denominator())))}),ae(ie,"$polar",function(){var F=this;return[F.$abs(),F.$arg()]}),ae(ie,"$rationalize",function(F){var O=this;return arguments.length>1&&I.$raise(ce("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),Ke(O.imag,0)&&I.$raise(ce("RangeError"),"can't convert "+O+" into Rational"),O.$real().$rationalize(F)},-1),ae(ie,"$real?",qe(!1)),ae(ie,"$rect",function(){var F=this;return[F.real,F.imag]}),ae(ie,"$to_f",function(){var F=this;return ze(F.imag,0)||I.$raise(ce("RangeError"),"can't convert "+F+" into Float"),F.real.$to_f()}),ae(ie,"$to_i",function(){var F=this;return ze(F.imag,0)||I.$raise(ce("RangeError"),"can't convert "+F+" into Integer"),F.real.$to_i()}),ae(ie,"$to_r",function(){var F=this;return ze(F.imag,0)||I.$raise(ce("RangeError"),"can't convert "+F+" into Rational"),F.real.$to_r()}),ae(ie,"$to_s",function(){var F=this,O=Ie;return O=F.real.$inspect(),O=ue(O,V(ce("Number"),F.imag)&&E(F.imag["$nan?"]())||E(F.imag["$positive?"]())||E(F.imag["$zero?"]())?"+":"-"),O=ue(O,F.imag.$abs().$inspect()),V(ce("Number"),F.imag)&&(E(F.imag["$nan?"]())||E(F.imag["$infinite?"]()))&&(O=ue(O,"*")),ue(O,"i")}),re(pe[0],"I",ie.$new(0,1)),_e(ie,"$from_string",function(F){var O=/[+-]?[\d_]+(\.[\d_]+)?(e\d+)?/;F.match(O);var D,Ne;function oe(){return O.test(F)}function P(){var s=F.match(O),n=s[0];return F=F.slice(n.length),n.replace(/_/g,"")}function h(){if(oe()){var s=parseFloat(P());if(F[0]==="/")if(F=F.slice(1),oe()){var n=parseFloat(P());return I.$Rational(s,n)}else return F="/"+F,s;else return s}else return null}return D=h(),D?(Ne=h(),Ne?I.$Complex(D,Ne):F[0]==="i"?I.$Complex(0,D):I.$Complex(D,0)):F[0]==="i"?I.$Complex(0,1):F[0]==="-"&&F[1]==="i"?I.$Complex(0,-1):F[0]==="+"&&F[1]==="i"?I.$Complex(0,1):I.$Complex(0,0)}),function(de,F){return Fe(de,"rectangular","rect")}(e.get_singleton_class(ie)),Fe(ie,"arg","angle"),Fe(ie,"conjugate","conj"),Fe(ie,"divide","/"),Fe(ie,"imaginary","imag"),Fe(ie,"magnitude","abs"),Fe(ie,"phase","arg"),Fe(ie,"quo","/"),Fe(ie,"rectangular","rect"),e.udef(ie,"$negative?"),e.udef(ie,"$positive?"),e.udef(ie,"$step"),Ie}("::",ce("Numeric"),Me)};Opal.modules["corelib/rational/base"]=function(e){var a=e.module,E=e.def,V=e.klass;e.nil;var I=e.$$$;return e.add_stubs("convert,from_string"),function(_e){var ne=a(_e,"Kernel");return E(ne,"$Rational",function(ue,B){return B==null&&(B=1),I("Rational").$convert(ue,B)},-2)}("::"),function(_e,ne){var ae=V(_e,ne,"String");return E(ae,"$to_r",function(){var B=this;return I("Rational").$from_string(B)})}("::",null)};Opal.modules["corelib/rational"]=function(e){var a=e.klass,E=e.eqeq,V=e.Kernel,I=e.truthy,_e=e.rb_lt,ne=e.rb_divide,ae=e.defs,ue=e.eqeqeq,B=e.not,Ae=e.Opal,ze=e.def,xe=e.return_ivar,Ue=e.rb_minus,Ke=e.rb_times,qe=e.rb_plus,re=e.rb_gt,Fe=e.rb_le,Ve=e.return_self,Me=e.alias,Ie=e.top,ce=e.nil,ye=e.$$$;return e.add_stubs("require,to_i,==,raise,<,-@,new,gcd,/,nil?,===,reduce,to_r,!,equal?,coerce_to!,freeze,to_f,numerator,denominator,<=>,-,*,__coerced__,+,Rational,>,**,abs,ceil,with_precision,floor,<=,truncate,send"),Ie.$require("corelib/numeric"),Ie.$require("corelib/rational/base"),function(le,Re){var ie=a(le,Re,"Rational"),pe=ie.$$prototype;return pe.num=pe.den=ce,ae(ie,"$reduce",function(p,de){var F=this,O=ce;if(p=p.$to_i(),de=de.$to_i(),E(de,0))V.$raise(ye("ZeroDivisionError"),"divided by 0");else if(I(_e(de,0)))p=p["$-@"](),de=de["$-@"]();else if(E(de,1))return F.$new(p,de);return O=p.$gcd(de),F.$new(ne(p,O),ne(de,O))}),ae(ie,"$convert",function(p,de){var F=this;return(I(p["$nil?"]())||I(de["$nil?"]()))&&V.$raise(ye("TypeError"),"cannot convert nil into Rational"),ue(ye("Integer"),p)&&ue(ye("Integer"),de)?F.$reduce(p,de):((ue(ye("Float"),p)||ue(ye("String"),p)||ue(ye("Complex"),p))&&(p=p.$to_r()),(ue(ye("Float"),de)||ue(ye("String"),de)||ue(ye("Complex"),de))&&(de=de.$to_r()),I(de["$equal?"](1))&&B(ye("Integer")["$==="](p))?Ae["$coerce_to!"](p,ye("Rational"),"to_r"):ue(ye("Numeric"),p)&&ue(ye("Numeric"),de)?ne(p,de):F.$reduce(p,de))}),ze(ie,"$initialize",function(p,de){var F=this;return F.num=p,F.den=de,F.$freeze()}),ze(ie,"$numerator",xe("num")),ze(ie,"$denominator",xe("den")),ze(ie,"$coerce",function(p){var de=this,F=ce;return ue(ye("Rational"),F=p)?[p,de]:ue(ye("Integer"),F)?[p.$to_r(),de]:ue(ye("Float"),F)?[p,de.$to_f()]:ce}),ze(ie,"$==",function(p){var de=this,F=ce,O=ce;return ue(ye("Rational"),F=p)?I(O=de.num["$=="](p.$numerator()))?de.den["$=="](p.$denominator()):O:ue(ye("Integer"),F)?I(O=de.num["$=="](p))?de.den["$=="](1):O:ue(ye("Float"),F)?de.$to_f()["$=="](p):p["$=="](de)}),ze(ie,"$<=>",function(p){var de=this,F=ce;return ue(ye("Rational"),F=p)?Ue(Ke(de.num,p.$denominator()),Ke(de.den,p.$numerator()))["$<=>"](0):ue(ye("Integer"),F)?Ue(de.num,Ke(de.den,p))["$<=>"](0):ue(ye("Float"),F)?de.$to_f()["$<=>"](p):de.$__coerced__("<=>",p)}),ze(ie,"$+",function(p){var de=this,F=ce,O=ce,D=ce;return ue(ye("Rational"),F=p)?(O=qe(Ke(de.num,p.$denominator()),Ke(de.den,p.$numerator())),D=Ke(de.den,p.$denominator()),V.$Rational(O,D)):ue(ye("Integer"),F)?V.$Rational(qe(de.num,Ke(p,de.den)),de.den):ue(ye("Float"),F)?qe(de.$to_f(),p):de.$__coerced__("+",p)}),ze(ie,"$-",function(p){var de=this,F=ce,O=ce,D=ce;return ue(ye("Rational"),F=p)?(O=Ue(Ke(de.num,p.$denominator()),Ke(de.den,p.$numerator())),D=Ke(de.den,p.$denominator()),V.$Rational(O,D)):ue(ye("Integer"),F)?V.$Rational(Ue(de.num,Ke(p,de.den)),de.den):ue(ye("Float"),F)?Ue(de.$to_f(),p):de.$__coerced__("-",p)}),ze(ie,"$*",function(p){var de=this,F=ce,O=ce,D=ce;return ue(ye("Rational"),F=p)?(O=Ke(de.num,p.$numerator()),D=Ke(de.den,p.$denominator()),V.$Rational(O,D)):ue(ye("Integer"),F)?V.$Rational(Ke(de.num,p),de.den):ue(ye("Float"),F)?Ke(de.$to_f(),p):de.$__coerced__("*",p)}),ze(ie,"$/",function(p){var de=this,F=ce,O=ce,D=ce;return ue(ye("Rational"),F=p)?(O=Ke(de.num,p.$denominator()),D=Ke(de.den,p.$numerator()),V.$Rational(O,D)):ue(ye("Integer"),F)?E(p,0)?ne(de.$to_f(),0):V.$Rational(de.num,Ke(de.den,p)):ue(ye("Float"),F)?ne(de.$to_f(),p):de.$__coerced__("/",p)}),ze(ie,"$**",function(p){var de=this,F=ce;return ue(ye("Integer"),F=p)?E(de,0)&&I(_e(p,0))?ye(ye("Float"),"INFINITY"):I(re(p,0))?V.$Rational(de.num["$**"](p),de.den["$**"](p)):I(_e(p,0))?V.$Rational(de.den["$**"](p["$-@"]()),de.num["$**"](p["$-@"]())):V.$Rational(1,1):ue(ye("Float"),F)?de.$to_f()["$**"](p):ue(ye("Rational"),F)?E(p,0)?V.$Rational(1,1):E(p.$denominator(),1)?I(_e(p,0))?V.$Rational(de.den["$**"](p.$numerator().$abs()),de.num["$**"](p.$numerator().$abs())):V.$Rational(de.num["$**"](p.$numerator()),de.den["$**"](p.$numerator())):E(de,0)&&I(_e(p,0))?V.$raise(ye("ZeroDivisionError"),"divided by 0"):de.$to_f()["$**"](p):de.$__coerced__("**",p)}),ze(ie,"$abs",function(){var p=this;return V.$Rational(p.num.$abs(),p.den.$abs())}),ze(ie,"$ceil",function(p){var de=this;return p==null&&(p=0),E(p,0)?ne(de.num["$-@"](),de.den)["$-@"]().$ceil():de.$with_precision("ceil",p)},-1),ze(ie,"$floor",function(p){var de=this;return p==null&&(p=0),E(p,0)?ne(de.num["$-@"](),de.den)["$-@"]().$floor():de.$with_precision("floor",p)},-1),ze(ie,"$hash",function(){var p=this;return"Rational:"+p.num+":"+p.den}),ze(ie,"$inspect",function(){var p=this;return"("+p+")"}),ze(ie,"$rationalize",function(p){var de=this;if(arguments.length>1&&V.$raise(ye("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)"),p==null)return de;for(var F=p.$abs(),O=Ue(de,F),D=qe(de,F),Ne=0,oe=1,P=1,h=0,s,n,i,$,o;i=O.$ceil(),!Fe(i,D);)$=i-1,s=$*oe+Ne,n=$*h+P,o=ne(1,Ue(D,$)),D=ne(1,Ue(O,$)),O=o,Ne=oe,P=h,oe=s,h=n;return V.$Rational(i*oe+Ne,i*h+P)},-1),ze(ie,"$round",function(p){var de=this,F=ce,O=ce,D=ce;return p==null&&(p=0),E(p,0)?E(de.num,0)?0:E(de.den,1)?de.num:(F=qe(Ke(de.num.$abs(),2),de.den),O=Ke(de.den,2),D=ne(F,O).$truncate(),I(_e(de.num,0))?D["$-@"]():D):de.$with_precision("round",p)},-1),ze(ie,"$to_f",function(){var p=this;return ne(p.num,p.den)}),ze(ie,"$to_i",function(){var p=this;return p.$truncate()}),ze(ie,"$to_r",Ve),ze(ie,"$to_s",function(){var p=this;return""+p.num+"/"+p.den}),ze(ie,"$truncate",function(p){var de=this;return p==null&&(p=0),E(p,0)?I(_e(de.num,0))?de.$ceil():de.$floor():de.$with_precision("truncate",p)},-1),ze(ie,"$with_precision",function(p,de){var F=this,O=ce,D=ce;return ue(ye("Integer"),de)||V.$raise(ye("TypeError"),"not an Integer"),O=10["$**"](de),D=Ke(F,O),I(_e(de,1))?ne(D.$send(p),O).$to_i():V.$Rational(D.$send(p),O)}),ae(ie,"$from_string",function(p){var de=p.trimLeft(),F=/^[+-]?[\d_]+(\.[\d_]+)?/;de.match(F);var O,D;function Ne(){return F.test(de)}function oe(){var P=de.match(F),h=P[0];return de=de.slice(h.length),h.replace(/_/g,"")}return Ne()?(O=parseFloat(oe()),de[0]==="/"?(de=de.slice(1),Ne()?(D=parseFloat(oe()),V.$Rational(O,D)):V.$Rational(O,1)):V.$Rational(O,1)):V.$Rational(0,1)}),Me(ie,"divide","/"),Me(ie,"quo","/")}("::",ye("Numeric"))};Opal.modules["corelib/time"]=function(e){var a=e.slice,E=e.deny_frozen_access,V=e.klass,I=e.Kernel,_e=e.Opal,ne=e.defs,ae=e.eqeqeq,ue=e.def,B=e.truthy,Ae=e.rb_gt,ze=e.rb_lt,xe=e.send,Ue=e.rb_plus,Ke=e.rb_divide,qe=e.rb_minus,re=e.range,Fe=e.neqeq,Ve=e.rb_le,Me=e.eqeq,Ie=e.alias,ce=e.top,ye=[],le=e.nil,Re=e.$$$;return e.add_stubs("require,include,===,raise,coerce_to!,respond_to?,to_str,to_i,_parse_offset,new,<=>,to_f,nil?,>,<,strftime,each,define_method,year,month,day,+,round,/,-,copy_instance_variables,initialize_dup,is_a?,zero?,wday,utc?,mon,yday,hour,min,sec,rjust,ljust,zone,to_s,[],cweek_cyear,jd,to_date,format,isdst,!=,<=,==,ceil,local,gm,asctime,getgm,gmt_offset,inspect,usec,gmtime,gmt?"),ce.$require("corelib/comparable"),function(ie,pe,Q){var p=V(ie,pe,"Time"),de=[p].concat(Q),F=e.$r(de);p.$include(Re("Comparable"));var O=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],D=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Ne=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oe=["January","February","March","April","May","June","July","August","September","October","November","December"];ne(p,"$at",function(s,n){var i;return Re("Time")["$==="](s)?(n!==void 0&&I.$raise(Re("TypeError"),"can't convert Time into an exact number"),i=new Date(s.getTime()),i.timezone=s.timezone,i):(s.$$is_number||(s=_e["$coerce_to!"](s,Re("Integer"),"to_int")),n===void 0?new Date(s*1e3):(n.$$is_number||(n=_e["$coerce_to!"](n,Re("Integer"),"to_int")),new Date(s*1e3+n/1e3)))},-2);function P(h,s,n,i,$,o){if(h.$$is_string?h=parseInt(h,10):h=_e["$coerce_to!"](h,Re("Integer"),"to_int"),s===le)s=1;else if(!s.$$is_number)if(s["$respond_to?"]("to_str"))switch(s=s.$to_str(),s.toLowerCase()){case"jan":s=1;break;case"feb":s=2;break;case"mar":s=3;break;case"apr":s=4;break;case"may":s=5;break;case"jun":s=6;break;case"jul":s=7;break;case"aug":s=8;break;case"sep":s=9;break;case"oct":s=10;break;case"nov":s=11;break;case"dec":s=12;break;default:s=s.$to_i()}else s=_e["$coerce_to!"](s,Re("Integer"),"to_int");return(s<1||s>12)&&I.$raise(Re("ArgumentError"),"month out of range: "+s),s=s-1,n===le?n=1:n.$$is_string?n=parseInt(n,10):n=_e["$coerce_to!"](n,Re("Integer"),"to_int"),(n<1||n>31)&&I.$raise(Re("ArgumentError"),"day out of range: "+n),i===le?i=0:i.$$is_string?i=parseInt(i,10):i=_e["$coerce_to!"](i,Re("Integer"),"to_int"),(i<0||i>24)&&I.$raise(Re("ArgumentError"),"hour out of range: "+i),$===le?$=0:$.$$is_string?$=parseInt($,10):$=_e["$coerce_to!"]($,Re("Integer"),"to_int"),($<0||$>59)&&I.$raise(Re("ArgumentError"),"min out of range: "+$),o===le?o=0:o.$$is_number||(o.$$is_string?o=parseInt(o,10):o=_e["$coerce_to!"](o,Re("Integer"),"to_int")),(o<0||o>60)&&I.$raise(Re("ArgumentError"),"sec out of range: "+o),[h,s,n,i,$,o]}return ne(p,"$new",function(s,n,i,$,o,v,w){var K=this;n==null&&(n=le),i==null&&(i=le),$==null&&($=le),o==null&&(o=le),v==null&&(v=le),w==null&&(w=le);var Ce,tt,ot,lt;return s===void 0?new Date:(Ce=P(s,n,i,$,o,v),s=Ce[0],n=Ce[1],i=Ce[2],$=Ce[3],o=Ce[4],v=Ce[5],w===le?(tt=new Date(s,n,i,$,o,0,v*1e3),s<100&&tt.setFullYear(s),tt):(ot=K.$_parse_offset(w),lt=new Date(Date.UTC(s,n,i,$,o,0,v*1e3)),s<100&&lt.setUTCFullYear(s),tt=new Date(lt.getTime()-ot*36e5),tt.timezone=ot,tt))},-1),ne(p,"$_parse_offset",function(s){var n;if(s.$$is_string)if(s=="UTC")n=0;else if(/^[+-]\d\d:[0-5]\d$/.test(s)){var i,$,o;i=s[0],$=+(s[1]+s[2]),o=+(s[4]+s[5]),n=(i=="-"?-1:1)*($+o/60)}else I.$raise(Re("ArgumentError"),'"+HH:MM", "-HH:MM", "UTC" expected for utc_offset: '+s);else s.$$is_number?n=s/3600:I.$raise(Re("ArgumentError"),"Opal doesn't support other types for a timezone argument than Integer and String");return n}),ne(p,"$local",function(s,n,i,$,o,v,w,K,Ce,tt){n==null&&(n=le),i==null&&(i=le),$==null&&($=le),o==null&&(o=le),v==null&&(v=le),w==null&&(w=le),K==null&&(K=le),Ce==null&&(Ce=le),tt==null&&(tt=le);var ot,lt;return arguments.length===10&&(ot=a(arguments),s=ot[5],n=ot[4],i=ot[3],$=ot[2],o=ot[1],v=ot[0]),ot=P(s,n,i,$,o,v),s=ot[0],n=ot[1],i=ot[2],$=ot[3],o=ot[4],v=ot[5],lt=new Date(s,n,i,$,o,0,v*1e3),s<100&&lt.setFullYear(s),lt},-2),ne(p,"$gm",function(s,n,i,$,o,v,w,K,Ce,tt){n==null&&(n=le),i==null&&(i=le),$==null&&($=le),o==null&&(o=le),v==null&&(v=le),w==null&&(w=le),K==null&&(K=le),Ce==null&&(Ce=le),tt==null&&(tt=le);var ot,lt;return arguments.length===10&&(ot=a(arguments),s=ot[5],n=ot[4],i=ot[3],$=ot[2],o=ot[1],v=ot[0]),ot=P(s,n,i,$,o,v),s=ot[0],n=ot[1],i=ot[2],$=ot[3],o=ot[4],v=ot[5],lt=new Date(Date.UTC(s,n,i,$,o,0,v*1e3)),s<100&&lt.setUTCFullYear(s),lt.timezone=0,lt},-2),ne(p,"$now",function(){var s=this;return s.$new()}),ue(p,"$+",function(s){var n=this;ae(Re("Time"),s)&&I.$raise(Re("TypeError"),"time + time?"),s.$$is_number||(s=_e["$coerce_to!"](s,Re("Integer"),"to_int"));var i=new Date(n.getTime()+s*1e3);return i.timezone=n.timezone,i}),ue(p,"$-",function(s){var n=this;if(ae(Re("Time"),s))return(n.getTime()-s.getTime())/1e3;s.$$is_number||(s=_e["$coerce_to!"](s,Re("Integer"),"to_int"));var i=new Date(n.getTime()-s*1e3);return i.timezone=n.timezone,i}),ue(p,"$<=>",function(s){var n=this,i=le;return ae(Re("Time"),s)?n.$to_f()["$<=>"](s.$to_f()):(i=s["$<=>"](n),B(i["$nil?"]())?le:B(Ae(i,0))?-1:B(ze(i,0))?1:0)}),ue(p,"$==",function(s){var n=this,i=le;return B(i=Re("Time")["$==="](s))?n.$to_f()===s.$to_f():i}),ue(p,"$asctime",function(){var s=this;return s.$strftime("%a %b %e %H:%M:%S %Y")}),xe([["year","getFullYear","getUTCFullYear"],["mon","getMonth","getUTCMonth",1],["wday","getDay","getUTCDay"],["day","getDate","getUTCDate"],["hour","getHours","getUTCHours"],["min","getMinutes","getUTCMinutes"],["sec","getSeconds","getUTCSeconds"]],"each",[],function h(s,n,i,$){var o=h.$$s==null?this:h.$$s;return s==null&&(s=le),n==null&&(n=le),i==null&&(i=le),$==null&&($=0),xe(o,"define_method",[s],function v(){var w=v.$$s==null?this:v.$$s;return $+(w.timezone!=null?new Date(w.getTime()+w.timezone*36e5)[i]():w[n]())},{$$s:o})},{$$arity:-4,$$s:p}),ue(p,"$yday",function(){var s=this,n=le,i=le,$=le;return n=F("Time").$new(s.$year()).$to_i(),i=F("Time").$new(s.$year(),s.$month(),s.$day()).$to_i(),$=86400,Ue(Ke(qe(i,n),$).$round(),1)}),ue(p,"$isdst",function(){var s=this,n=new Date(s.getFullYear(),0,1),i=new Date(s.getFullYear(),6,1);return s.getTimezoneOffset()<Math.max(n.getTimezoneOffset(),i.getTimezoneOffset())}),ue(p,"$dup",function(){var s=this,n=le;return n=new Date(s.getTime()),n.$copy_instance_variables(s),n.$initialize_dup(s),n}),ue(p,"$eql?",function(s){var n=this,i=le;return B(i=s["$is_a?"](Re("Time")))?n["$<=>"](s)["$zero?"]():i}),xe([["sunday?",0],["monday?",1],["tuesday?",2],["wednesday?",3],["thursday?",4],["friday?",5],["saturday?",6]],"each",[],function h(s,n){var i=h.$$s==null?this:h.$$s;return s==null&&(s=le),n==null&&(n=le),xe(i,"define_method",[s],function $(){var o=$.$$s==null?this:$.$$s;return o.$wday()===n},{$$s:i})},{$$s:p}),ue(p,"$hash",function(){var s=this;return"Time:"+s.getTime()}),ue(p,"$inspect",function(){var s=this;return B(s["$utc?"]())?s.$strftime("%Y-%m-%d %H:%M:%S UTC"):s.$strftime("%Y-%m-%d %H:%M:%S %z")}),ue(p,"$succ",function(){var s=this,n=new Date(s.getTime()+1e3);return n.timezone=s.timezone,n}),ue(p,"$usec",function(){var s=this;return s.getMilliseconds()*1e3}),ue(p,"$zone",function(){var s=this;if(s.timezone===0)return"UTC";if(s.timezone!=null)return le;var n=s.toString(),i;return n.indexOf("(")==-1?i=n.match(/[A-Z]{3,4}/)[0]:i=n.match(/\((.+)\)(?:\s|$)/)[1],i=="GMT"&&/(GMT\W*\d{4})/.test(n)?RegExp.$1:i}),ue(p,"$getgm",function(){var s=this,n=new Date(s.getTime());return n.timezone=0,n}),ue(p,"$gmtime",function(){var s=this;return s.timezone!==0&&(E(s),s.timezone=0),s}),ue(p,"$gmt?",function(){var s=this;return s.timezone===0}),ue(p,"$gmt_offset",function(){var s=this;return s.timezone!=null?s.timezone*60:-s.getTimezoneOffset()*60}),ue(p,"$strftime",function(s){var n=this;return s.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(i,$,o,v,w){var K="",Ce,tt,ot,lt=$.indexOf("0")!==-1,vt=$.indexOf("-")===-1,_t=$.indexOf("_")!==-1,bt=$.indexOf("^")!==-1,pt=$.indexOf("#")!==-1,gt=($.match(":")||[]).length;switch(o=parseInt(o,10),lt&&_t&&($.indexOf("0")<$.indexOf("_")?lt=!1:_t=!1),w){case"Y":K+=n.$year();break;case"C":lt=!_t,K+=Math.round(n.$year()/100);break;case"y":lt=!_t,K+=n.$year()%100;break;case"m":lt=!_t,K+=n.$mon();break;case"B":K+=oe[n.$mon()-1];break;case"b":case"h":_t=!lt,K+=Ne[n.$mon()-1];break;case"d":lt=!_t,K+=n.$day();break;case"e":_t=!lt,K+=n.$day();break;case"j":lt=!_t,o=isNaN(o)?3:o,K+=n.$yday();break;case"H":lt=!_t,K+=n.$hour();break;case"k":_t=!lt,K+=n.$hour();break;case"I":lt=!_t,K+=n.$hour()%12||12;break;case"l":_t=!lt,K+=n.$hour()%12||12;break;case"P":K+=n.$hour()>=12?"pm":"am";break;case"p":K+=n.$hour()>=12?"PM":"AM";break;case"M":lt=!_t,K+=n.$min();break;case"S":lt=!_t,K+=n.$sec();break;case"L":lt=!_t,o=isNaN(o)?3:o,K+=n.getMilliseconds();break;case"N":o=isNaN(o)?9:o,K+=n.getMilliseconds().toString().$rjust(3,"0"),K=K.$ljust(o,"0");break;case"z":var mt=n.timezone==null?n.getTimezoneOffset():-n.timezone*60,Qe=Math.floor(Math.abs(mt)/60),me=Math.abs(mt)%60;K+=mt<0?"+":"-",K+=Qe<10?"0":"",K+=Qe,gt>0&&(K+=":"),K+=me<10?"0":"",K+=me,gt>1&&(K+=":00");break;case"Z":K+=n.$zone();break;case"A":K+=O[n.$wday()];break;case"a":K+=D[n.$wday()];break;case"u":K+=n.$wday()+1;break;case"w":K+=n.$wday();break;case"V":K+=n.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case"G":K+=n.$cweek_cyear()["$[]"](1);break;case"g":K+=n.$cweek_cyear()["$[]"](1)["$[]"](re(-2,-1,!1));break;case"s":K+=n.$to_i();break;case"n":K+=`
`;break;case"t":K+="	";break;case"%":K+="%";break;case"c":K+=n.$strftime("%a %b %e %T %Y");break;case"D":case"x":K+=n.$strftime("%m/%d/%y");break;case"F":K+=n.$strftime("%Y-%m-%d");break;case"v":K+=n.$strftime("%e-%^b-%4Y");break;case"r":K+=n.$strftime("%I:%M:%S %p");break;case"R":K+=n.$strftime("%H:%M");break;case"T":case"X":K+=n.$strftime("%H:%M:%S");break;case"J":if(Ce=n.$to_date().$jd(),Ce<2405160){K+=n.$strftime("%Y-%m-%d");break}else Ce<2419614?(tt="M",ot=1867):Ce<2424875?(tt="T",ot=1911):Ce<2447535?(tt="S",ot=1925):Ce<2458605?(tt="H",ot=1988):(tt="R",ot=2018);K+=n.$format("%c%02d",tt,qe(n.$year(),ot)),K+=n.$strftime("-%m-%d");break;default:return i}return bt&&(K=K.toUpperCase()),pt&&(K=K.replace(/[A-Z]/,function(Ee){Ee.toLowerCase()}).replace(/[a-z]/,function(Ee){Ee.toUpperCase()})),vt&&(lt||_t)&&(K=K.$rjust(isNaN(o)?2:o,_t?" ":"0")),K})}),ue(p,"$to_a",function(){var s=this;return[s.$sec(),s.$min(),s.$hour(),s.$day(),s.$month(),s.$year(),s.$wday(),s.$yday(),s.$isdst(),s.$zone()]}),ue(p,"$to_f",function(){var s=this;return s.getTime()/1e3}),ue(p,"$to_i",function(){var s=this;return parseInt(s.getTime()/1e3,10)}),ue(p,"$cweek_cyear",function(){var s=this,n=le,i=le,$=le,o=le,v=le,w=le,K=le;return n=Re("Time").$new(s.$year(),1,1),i=n.$wday(),$=s.$year(),B(Ve(i,4))&&Fe(i,0)?o=qe(i,1):(o=qe(qe(i,7),1),Me(o,-8)&&(o=-1)),v=Ke(Ue(s.$yday(),o),7).$ceil(),B(Ve(v,0))?Re("Time").$new(qe(s.$year(),1),12,31).$cweek_cyear():(Me(v,53)&&(w=Re("Time").$new(s.$year(),12,31),K=w.$wday(),B(Ve(K,3))&&Fe(K,0)&&(v=1,$=Ue($,1))),[v,$])}),function(h,s){return Ie(h,"mktime","local"),Ie(h,"utc","gm")}(e.get_singleton_class(p)),Ie(p,"ctime","asctime"),Ie(p,"dst?","isdst"),Ie(p,"getutc","getgm"),Ie(p,"gmtoff","gmt_offset"),Ie(p,"mday","day"),Ie(p,"month","mon"),Ie(p,"to_s","inspect"),Ie(p,"tv_sec","to_i"),Ie(p,"tv_usec","usec"),Ie(p,"utc","gmtime"),Ie(p,"utc?","gmt?"),Ie(p,"utc_offset","gmt_offset")}("::",Date,ye)};Opal.modules["corelib/struct"]=function(e){var a=e.klass,E=e.slice,V=e.extract_kwargs,I=e.ensure_kwargs,_e=e.truthy,ne=e.neqeq,ae=e.eqeq,ue=e.Opal,B=e.send,Ae=e.Class,ze=e.to_a,xe=e.def,Ue=e.defs,Ke=e.Kernel,qe=e.hash2,re=e.rb_gt,Fe=e.rb_minus,Ve=e.eqeqeq,Me=e.rb_lt,Ie=e.rb_ge,ce=e.rb_plus,ye=e.alias,le=e.top,Re=[],ie=e.nil,pe=e.$$$;return e.add_stubs("require,include,!=,upcase,[],==,class,unshift,const_name!,map,coerce_to!,new,each,define_struct_attribute,allocate,initialize,alias_method,module_eval,to_proc,const_set,raise,<<,members,define_method,instance_eval,last,>,length,-,keys,any?,join,[]=,each_with_index,hash,===,<,-@,size,>=,include?,to_sym,instance_of?,__id__,eql?,enum_for,+,name,each_pair,inspect,to_h,args,each_with_object,flatten,to_a,respond_to?,dig"),le.$require("corelib/enumerable"),function(Q,p,de){var F=a(Q,p,"Struct"),O=[F].concat(de),D=e.$r(O);F.$include(pe("Enumerable")),Ue(F,"$new",function oe(P,h,s){var n=oe.$$p||ie,i,$,o,v,w=this,K=ie;if(oe.$$p=null,i=E(arguments,1),$=V(i),$=I($),o=i,v=$.$$smap.keyword_init,v==null&&(v=!1),_e(P))if(ae(P.$class(),pe("String"))&&ne(P["$[]"](0).$upcase(),P["$[]"](0)))o.$unshift(P),P=ie;else try{P=ue["$const_name!"](P)}catch(Ce){if(e.rescue(Ce,[pe("TypeError"),pe("NameError")]))try{o.$unshift(P),P=ie}finally{e.pop_exception()}else throw Ce}return B(o,"map",[],function(tt){return tt==null&&(tt=ie),ue["$coerce_to!"](tt,pe("String"),"to_str")}),K=B(Ae,"new",[w],function Ce(){var tt=Ce.$$s==null?this:Ce.$$s;return B(o,"each",[],function ot(lt){var vt=ot.$$s==null?this:ot.$$s;return lt==null&&(lt=ie),vt.$define_struct_attribute(lt)},{$$s:tt}),function(ot,lt){return xe(ot,"$new",function(_t){var bt,pt,gt=this,mt=ie;return bt=E(arguments),pt=bt,mt=gt.$allocate(),mt.$$data={},B(mt,"initialize",ze(pt)),mt},-1),ot.$alias_method("[]","new")}(e.get_singleton_class(tt))},{$$s:w}),_e(n)&&B(K,"module_eval",[],n.$to_proc()),K.$$keyword_init=v,_e(P)&&pe("Struct").$const_set(P,K),K},-2),Ue(F,"$define_struct_attribute",function(P){var h=this;return ae(h,pe("Struct"))&&Ke.$raise(pe("ArgumentError"),"you cannot define attributes to the Struct class"),h.$members()["$<<"](P),B(h,"define_method",[P],function s(){var n=s.$$s==null?this:s.$$s;return n.$$data[P]},{$$s:h}),B(h,"define_method",[""+P+"="],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ie),i.$$data[P]=n},{$$s:h})}),Ue(F,"$members",function(){var P=this,h=ie;return P.members==null&&(P.members=ie),ae(P,pe("Struct"))&&Ke.$raise(pe("ArgumentError"),"the Struct class has no members"),P.members=_e(h=P.members)?h:[]}),Ue(F,"$inherited",function(P){var h=this,s=ie;return h.members==null&&(h.members=ie),s=h.members,B(P,"instance_eval",[],function n(){var i=n.$$s==null?this:n.$$s;return i.members=s},{$$s:h})}),xe(F,"$initialize",function(P){var h,s,n=this,i=ie,$=ie,o=ie;return h=E(arguments),s=h,_e(n.$class().$$keyword_init)?(i=_e($=s.$last())?$:qe([],{}),(_e(re(s.$length(),1))||_e(s.length===1&&!i.$$is_hash))&&Ke.$raise(pe("ArgumentError"),"wrong number of arguments (given "+s.$length()+", expected 0)"),o=Fe(i.$keys(),n.$class().$members()),_e(o["$any?"]())&&Ke.$raise(pe("ArgumentError"),"unknown keywords: "+o.$join(", ")),B(n.$class().$members(),"each",[],function v(w){var K,Ce=v.$$s==null?this:v.$$s;return w==null&&(w=ie),K=[w,i["$[]"](w)],B(Ce,"[]=",K),K[K.length-1]},{$$s:n})):(_e(re(s.$length(),n.$class().$members().$length()))&&Ke.$raise(pe("ArgumentError"),"struct size differs"),B(n.$class().$members(),"each_with_index",[],function v(w,K){var Ce,tt=v.$$s==null?this:v.$$s;return w==null&&(w=ie),K==null&&(K=ie),Ce=[w,s["$[]"](K)],B(tt,"[]=",Ce),Ce[Ce.length-1]},{$$s:n}))},-1),xe(F,"$initialize_copy",function(P){var h=this;h.$$data={};var s=Object.keys(P.$$data),n,i,$;for(n=0,i=s.length;n<i;n++)$=s[n],h.$$data[$]=P.$$data[$]}),Ue(F,"$keyword_init?",function(){var P=this;return P.$$keyword_init}),xe(F,"$members",function(){var P=this;return P.$class().$members()}),xe(F,"$hash",function(){var P=this;return D("Hash").$new(P.$$data).$hash()}),xe(F,"$[]",function(P){var h=this;return Ve(pe("Integer"),P)?(_e(Me(P,h.$class().$members().$size()["$-@"]()))&&Ke.$raise(pe("IndexError"),"offset "+P+" too small for struct(size:"+h.$class().$members().$size()+")"),_e(Ie(P,h.$class().$members().$size()))&&Ke.$raise(pe("IndexError"),"offset "+P+" too large for struct(size:"+h.$class().$members().$size()+")"),P=h.$class().$members()["$[]"](P)):Ve(pe("String"),P)?h.$$data.hasOwnProperty(P)||Ke.$raise(pe("NameError").$new("no member '"+P+"' in struct",P)):Ke.$raise(pe("TypeError"),"no implicit conversion of "+P.$class()+" into Integer"),P=ue["$coerce_to!"](P,pe("String"),"to_str"),h.$$data[P]}),xe(F,"$[]=",function(P,h){var s=this;return Ve(pe("Integer"),P)?(_e(Me(P,s.$class().$members().$size()["$-@"]()))&&Ke.$raise(pe("IndexError"),"offset "+P+" too small for struct(size:"+s.$class().$members().$size()+")"),_e(Ie(P,s.$class().$members().$size()))&&Ke.$raise(pe("IndexError"),"offset "+P+" too large for struct(size:"+s.$class().$members().$size()+")"),P=s.$class().$members()["$[]"](P)):Ve(pe("String"),P)?_e(s.$class().$members()["$include?"](P.$to_sym()))||Ke.$raise(pe("NameError").$new("no member '"+P+"' in struct",P)):Ke.$raise(pe("TypeError"),"no implicit conversion of "+P.$class()+" into Integer"),P=ue["$coerce_to!"](P,pe("String"),"to_str"),s.$$data[P]=h}),xe(F,"$==",function(P){var h=this;if(!_e(P["$instance_of?"](h.$class())))return!1;var s={},n={};function i($,o){var v,w,K;s[$.$__id__()]=!0,n[o.$__id__()]=!0;for(v in $.$$data)if(w=$.$$data[v],K=o.$$data[v],pe("Struct")["$==="](w)){if((!s.hasOwnProperty(w.$__id__())||!n.hasOwnProperty(K.$__id__()))&&!i(w,K))return!1}else if(!w["$=="](K))return!1;return!0}return i(h,P)}),xe(F,"$eql?",function(P){var h=this;if(!_e(P["$instance_of?"](h.$class())))return!1;var s={},n={};function i($,o){var v,w,K;s[$.$__id__()]=!0,n[o.$__id__()]=!0;for(v in $.$$data)if(w=$.$$data[v],K=o.$$data[v],pe("Struct")["$==="](w)){if((!s.hasOwnProperty(w.$__id__())||!n.hasOwnProperty(K.$__id__()))&&!i(w,K))return!1}else if(!w["$eql?"](K))return!1;return!0}return i(h,P)}),xe(F,"$each",function oe(){var P=oe.$$p||ie,h=this;return oe.$$p=null,P===ie?B(h,"enum_for",["each"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:h}):(B(h.$class().$members(),"each",[],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ie),e.yield1(P,i["$[]"](n))},{$$s:h}),h)}),xe(F,"$each_pair",function oe(){var P=oe.$$p||ie,h=this;return oe.$$p=null,P===ie?B(h,"enum_for",["each_pair"],function s(){var n=s.$$s==null?this:s.$$s;return n.$size()},{$$s:h}):(B(h.$class().$members(),"each",[],function s(n){var i=s.$$s==null?this:s.$$s;return n==null&&(n=ie),e.yield1(P,[n,i["$[]"](n)])},{$$s:h}),h)}),xe(F,"$length",function(){var P=this;return P.$class().$members().$length()}),xe(F,"$to_a",function(){var P=this;return B(P.$class().$members(),"map",[],function h(s){var n=h.$$s==null?this:h.$$s;return s==null&&(s=ie),n["$[]"](s)},{$$s:P})});var Ne=[];return xe(F,"$inspect",function(){var P=this,h=ie,s=ie;return function(){try{return h="#<struct ",_e(Ne["$include?"](P.$__id__()))?ce(h,":...>"):(Ne["$<<"](P.$__id__()),s=!0,Ve(pe("Struct"),P)&&_e(P.$class().$name())&&(h=ce(h,""+P.$class()+" ")),h=ce(h,B(P.$each_pair(),"map",[],function(i,$){return i==null&&(i=ie),$==null&&($=ie),""+i+"="+D("Opal").$inspect($)}).$join(", ")),h=ce(h,">"),h)}finally{_e(s)&&Ne.pop()}}()}),xe(F,"$to_h",function oe(){var P=oe.$$p||ie,h=this;return oe.$$p=null,P!==ie?B(B(h,"map",[],P.$to_proc()),"to_h",ze(h.$args())):B(h.$class().$members(),"each_with_object",[qe([],{})],function s(n,i){var $,o=s.$$s==null?this:s.$$s;return n==null&&(n=ie),i==null&&(i=ie),$=[n,o["$[]"](n)],B(i,"[]=",$),$[$.length-1]},{$$s:h})}),xe(F,"$values_at",function(P){var h,s,n=this;h=E(arguments),s=h,s=B(s,"map",[],function(w){return w==null&&(w=ie),w.$$is_range?w.$to_a():w}).$flatten();for(var i=[],$=0,o=s.length;$<o;$++)s[$].$$is_number||Ke.$raise(pe("TypeError"),"no implicit conversion of "+s[$].$class()+" into Integer"),i.push(n["$[]"](s[$]));return i},-1),xe(F,"$dig",function(P,h){var s,n,i=this,$=ie;return s=E(arguments,1),n=s,$=_e(P.$$is_string&&i.$$data.hasOwnProperty(P))&&i.$$data[P]||ie,$===ie||n.length===0?$:(_e($["$respond_to?"]("dig"))||Ke.$raise(pe("TypeError"),""+$.$class()+" does not have #dig method"),B($,"dig",ze(n)))},-2),ye(F,"size","length"),ye(F,"to_s","inspect"),ye(F,"values","to_a")}("::",null,Re)};Opal.modules["corelib/set"]=function(e){var a=e.freeze,E=e.klass,V=e.slice,I=e.defs,_e=e.hash2,ne=e.truthy,ae=e.eqeqeq,ue=e.Kernel,B=e.send,Ae=e.def,ze=e.eqeq,xe=e.rb_lt,Ue=e.rb_le,Ke=e.alias,qe=[],re=e.nil,Fe=e.$$$;return e.add_stubs("include,new,nil?,===,raise,each,add,merge,class,respond_to?,subtract,dup,join,to_a,equal?,instance_of?,==,instance_variable_get,size,is_a?,all?,include?,[]=,enum_for,[],<<,replace,compare_by_identity,name,compare_by_identity?,delete,select,frozen?,freeze,reject,delete_if,to_proc,keep_if,each_key,empty?,eql?,instance_eval,clear,<,<=,any?,!,intersect?,keys,|,proper_subset?,subset?,proper_superset?,superset?,-,select!,collect!"),function(Ve,Me,Ie){var ce=E(Ve,Me,"Set"),ye=[ce].concat(Ie),le=e.$r(ye),Re=re,ie=ce.$$prototype;ie.hash=re,ce.$include(Fe("Enumerable")),I(ce,"$[]",function(p){var de,F,O=this;return de=V(arguments),F=de,O.$new(F)},-1),Ae(ce,"$initialize",function Q(p){var de=Q.$$p||re,F=this;return Q.$$p=null,p==null&&(p=re),F.hash=_e([],{}),ne(p["$nil?"]())?re:(ae(Fe("Enumerable"),p)||ue.$raise(Fe("ArgumentError"),"value must be enumerable"),ne(de)?B(p,"each",[],function O(D){var Ne=O.$$s==null?this:O.$$s;return D==null&&(D=re),Ne.$add(e.yield1(de,D))},{$$s:F}):F.$merge(p))},-1),Ae(ce,"$dup",function(){var p=this,de=re;return de=p.$class().$new(),de.$merge(p)}),Ae(ce,"$-",function(p){var de=this;return ne(p["$respond_to?"]("each"))||ue.$raise(Fe("ArgumentError"),"value must be enumerable"),de.$dup().$subtract(p)}),Ae(ce,"$inspect",function(){var p=this;return"#<Set: {"+p.$to_a().$join(",")+"}>"}),Ae(ce,"$==",function(p){var de=this;return ne(de["$equal?"](p))?!0:ne(p["$instance_of?"](de.$class()))?de.hash["$=="](p.$instance_variable_get("@hash")):ne(p["$is_a?"](Fe("Set")))&&ze(de.$size(),p.$size())?B(p,"all?",[],function F(O){var D=F.$$s==null?this:F.$$s;return D.hash==null&&(D.hash=re),O==null&&(O=re),D.hash["$include?"](O)},{$$s:de}):!1}),Ae(ce,"$add",function(p){var de=this;return de.hash["$[]="](p,!0),de}),Ae(ce,"$classify",function Q(){var p=Q.$$p||re,de=this,F=re;return Q.$$p=null,p===re?de.$enum_for("classify"):(F=B(Fe("Hash"),"new",[],function O(D,Ne){var oe,P=O.$$s==null?this:O.$$s;return D==null&&(D=re),Ne==null&&(Ne=re),oe=[Ne,P.$class().$new()],B(D,"[]=",oe),oe[oe.length-1]},{$$s:de}),B(de,"each",[],function(D){return D==null&&(D=re),F["$[]"](e.yield1(p,D)).$add(D)}),F)}),Ae(ce,"$collect!",function Q(){var p=Q.$$p||re,de=this,F=re;return Q.$$p=null,p===re?de.$enum_for("collect!"):(F=de.$class().$new(),B(de,"each",[],function(D){return D==null&&(D=re),F["$<<"](e.yield1(p,D))}),de.$replace(F))}),Ae(ce,"$compare_by_identity",function(){var p=this;return ne(p.hash["$respond_to?"]("compare_by_identity"))?(p.hash.$compare_by_identity(),p):p.$raise(le("NotImplementedError"),""+p.$class().$name()+"#compare_by_identity is not implemented")}),Ae(ce,"$compare_by_identity?",function(){var p=this,de=re;return ne(de=p.hash["$respond_to?"]("compare_by_identity?"))?p.hash["$compare_by_identity?"]():de}),Ae(ce,"$delete",function(p){var de=this;return de.hash.$delete(p),de}),Ae(ce,"$delete?",function(p){var de=this;return ne(de["$include?"](p))?(de.$delete(p),de):re}),Ae(ce,"$delete_if",function Q(){var p=Q.$$p||re,de=this;return Q.$$p=null,p===re?de.$enum_for("delete_if"):(B(B(de,"select",[],function(O){return O==null&&(O=re),e.yield1(p,O)}),"each",[],function F(O){var D=F.$$s==null?this:F.$$s;return D.hash==null&&(D.hash=re),O==null&&(O=re),D.hash.$delete(O)},{$$s:de}),de)}),Ae(ce,"$freeze",function(){var p=this;return ne(p["$frozen?"]())?p:(p.hash.$freeze(),a(p))}),Ae(ce,"$keep_if",function Q(){var p=Q.$$p||re,de=this;return Q.$$p=null,p===re?de.$enum_for("keep_if"):(B(B(de,"reject",[],function(O){return O==null&&(O=re),e.yield1(p,O)}),"each",[],function F(O){var D=F.$$s==null?this:F.$$s;return D.hash==null&&(D.hash=re),O==null&&(O=re),D.hash.$delete(O)},{$$s:de}),de)}),Ae(ce,"$reject!",function Q(){var p=Q.$$p||re,de=this,F=re;return Q.$$p=null,p===re?de.$enum_for("reject!"):(F=de.$size(),B(de,"delete_if",[],p.$to_proc()),ze(de.$size(),F)?re:de)}),Ae(ce,"$select!",function Q(){var p=Q.$$p||re,de=this,F=re;return Q.$$p=null,p===re?de.$enum_for("select!"):(F=de.$size(),B(de,"keep_if",[],p.$to_proc()),ze(de.$size(),F)?re:de)}),Ae(ce,"$add?",function(p){var de=this;return ne(de["$include?"](p))?re:de.$add(p)}),Ae(ce,"$each",function Q(){var p=Q.$$p||re,de=this;return Q.$$p=null,p===re?de.$enum_for("each"):(B(de.hash,"each_key",[],p.$to_proc()),de)}),Ae(ce,"$empty?",function(){var p=this;return p.hash["$empty?"]()}),Ae(ce,"$eql?",function(p){var de=this;return de.hash["$eql?"](B(p,"instance_eval",[],function F(){var O=F.$$s==null?this:F.$$s;return O.hash==null&&(O.hash=re),O.hash},{$$s:de}))}),Ae(ce,"$clear",function(){var p=this;return p.hash.$clear(),p}),Ae(ce,"$include?",function(p){var de=this;return de.hash["$include?"](p)}),Ae(ce,"$merge",function(p){var de=this;return B(p,"each",[],function F(O){var D=F.$$s==null?this:F.$$s;return O==null&&(O=re),D.$add(O)},{$$s:de}),de}),Ae(ce,"$replace",function(p){var de=this;return de.$clear(),de.$merge(p),de}),Ae(ce,"$size",function(){var p=this;return p.hash.$size()}),Ae(ce,"$subtract",function(p){var de=this;return B(p,"each",[],function F(O){var D=F.$$s==null?this:F.$$s;return O==null&&(O=re),D.$delete(O)},{$$s:de}),de}),Ae(ce,"$|",function(p){var de=this;return ne(p["$respond_to?"]("each"))||ue.$raise(Fe("ArgumentError"),"value must be enumerable"),de.$dup().$merge(p)});function pe(Q){ne(Re=Q["$is_a?"](Fe("Set")))||ue.$raise(Fe("ArgumentError"),"value must be a set")}return Ae(ce,"$superset?",function(p){var de=this;return pe(p),ne(xe(de.$size(),p.$size()))?!1:B(p,"all?",[],function F(O){var D=F.$$s==null?this:F.$$s;return O==null&&(O=re),D["$include?"](O)},{$$s:de})}),Ae(ce,"$proper_superset?",function(p){var de=this;return pe(p),ne(Ue(de.$size(),p.$size()))?!1:B(p,"all?",[],function F(O){var D=F.$$s==null?this:F.$$s;return O==null&&(O=re),D["$include?"](O)},{$$s:de})}),Ae(ce,"$subset?",function(p){var de=this;return pe(p),ne(xe(p.$size(),de.$size()))?!1:B(de,"all?",[],function(O){return O==null&&(O=re),p["$include?"](O)})}),Ae(ce,"$proper_subset?",function(p){var de=this;return pe(p),ne(Ue(p.$size(),de.$size()))?!1:B(de,"all?",[],function(O){return O==null&&(O=re),p["$include?"](O)})}),Ae(ce,"$intersect?",function(p){var de=this;return pe(p),ne(xe(de.$size(),p.$size()))?B(de,"any?",[],function(O){return O==null&&(O=re),p["$include?"](O)}):B(p,"any?",[],function F(O){var D=F.$$s==null?this:F.$$s;return O==null&&(O=re),D["$include?"](O)},{$$s:de})}),Ae(ce,"$disjoint?",function(p){var de=this;return de["$intersect?"](p)["$!"]()}),Ae(ce,"$to_a",function(){var p=this;return p.hash.$keys()}),Ke(ce,"+","|"),Ke(ce,"<","proper_subset?"),Ke(ce,"<<","add"),Ke(ce,"<=","subset?"),Ke(ce,">","proper_superset?"),Ke(ce,">=","superset?"),Ke(ce,"difference","-"),Ke(ce,"filter!","select!"),Ke(ce,"length","size"),Ke(ce,"map!","collect!"),Ke(ce,"member?","include?"),Ke(ce,"union","|")}("::",null,qe)};Opal.modules["corelib/dir"]=function(e){var a=e.klass,E=e.def,V=e.truthy,I=e.alias,_e=e.nil,ne=e.$$$;return e.add_stubs("[],pwd"),function(ae,ue,B){var Ae=a(ae,ue,"Dir");return function(ze,xe){return E(ze,"$chdir",function Ue(Ke){var qe=Ue.$$p||_e,re=_e;return Ue.$$p=null,function(){try{return re=e.current_dir,e.current_dir=Ke,e.yieldX(qe,[])}finally{e.current_dir=re}}()}),E(ze,"$pwd",function(){return e.current_dir||"."}),E(ze,"$home",function(){var Ke=_e;return V(Ke=ne("ENV")["$[]"]("HOME"))?Ke:"."}),I(ze,"getwd","pwd")}(e.get_singleton_class(Ae))}("::",null)};Opal.modules["corelib/file"]=function(e){var a=e.truthy,E=e.klass,V=e.const_set,I=e.Opal,_e=e.regexp,ne=e.rb_plus,ae=e.def,ue=e.Kernel,B=e.eqeq,Ae=e.rb_lt,ze=e.rb_minus,xe=e.range,Ue=e.send,Ke=e.slice,qe=e.alias,re=[],Fe=e.nil,Ve=e.$$$;return e.add_stubs("respond_to?,to_path,coerce_to!,pwd,split,sub,+,unshift,join,home,raise,start_with?,absolute_path,==,<,dirname,-,basename,empty?,rindex,[],length,nil?,gsub,find,=~,map,each_with_index,flatten,reject,to_proc,end_with?,expand_path,exist?"),function(Me,Ie,ce){var ye=E(Me,Ie,"File"),le=[ye].concat(ce),Re=Fe;return V(le[0],"Separator",V(le[0],"SEPARATOR","/")),V(le[0],"ALT_SEPARATOR",Fe),V(le[0],"PATH_SEPARATOR",":"),V(le[0],"FNM_SYSCASE",0),Re=/^[a-zA-Z]:(?:\\|\/)/,function(ie,pe){var Q=[ie].concat(pe),p=e.$r(Q);ae(ie,"$absolute_path",function(D,Ne){var oe=Fe,P=Fe,h=Fe,s=Fe,n=Fe,i=Fe,$=Fe,o=Fe,v=Fe,w=Fe;Ne==null&&(Ne=Fe),oe=p("SEPARATOR"),P=F(),h=[],D=a(D["$respond_to?"]("to_path"))?D.$to_path():D,D=I["$coerce_to!"](D,Ve("String"),"to_str"),Ne=a(s=Ne)?s:Ve("Dir").$pwd(),n=D.substr(0,oe.length)===oe||Re.test(D),i=Ne.substr(0,oe.length)===oe||Re.test(Ne),a(n)?($=D.$split(_e(["[",P,"]"])),o=Re.test(D)?"":D.$sub(_e(["^([",P,"]+).*$"]),"\\1"),v=!0):($=ne(Ne.$split(_e(["[",P,"]"])),D.$split(_e(["[",P,"]"]))),o=Re.test(Ne)?"":Ne.$sub(_e(["^([",P,"]+).*$"]),"\\1"),v=i);for(var K,Ce=0,tt=$.length;Ce<tt;Ce++)K=$[Ce],!(K===Fe||K===""&&(h.length===0||v)||K==="."&&(h.length===0||v))&&(K===".."?h.pop():h.push(K));return!v&&$[0]!=="."&&h.$unshift("."),w=h.$join(oe),a(v)&&(w=ne(o,w)),w},-2),ae(ie,"$expand_path",function(D,Ne){var oe=this,P=Fe,h=Fe,s=Fe,n=Fe,i=Fe;return Ne==null&&(Ne=Fe),P=p("SEPARATOR"),h=F(),a(D[0]==="~"||Ne&&Ne[0]==="~")&&(s=p("Dir").$home(),a(s)||ue.$raise(Ve("ArgumentError"),"couldn't find HOME environment -- expanding `~'"),n=Re.test(s)?"":s.$sub(_e(["^([",h,"]+).*$"]),"\\1"),a(s["$start_with?"](n))||ue.$raise(Ve("ArgumentError"),"non-absolute home"),s=ne(s,P),i=_e(["^\\~(?:",P,"|$)"]),D=D.$sub(i,s),a(Ne)&&(Ne=Ne.$sub(i,s))),oe.$absolute_path(D,Ne)},-2);function de(O){return a(O["$respond_to?"]("to_path"))&&(O=O.$to_path()),O=I["$coerce_to!"](O,Ve("String"),"to_str"),O}function F(){return p("ALT_SEPARATOR")===Fe?e.escape_regexp(p("SEPARATOR")):e.escape_regexp(ne(p("SEPARATOR"),p("ALT_SEPARATOR")))}return ae(ie,"$dirname",function(D,Ne){var oe=this,P=Fe;if(Ne==null&&(Ne=1),B(Ne,0))return D;a(Ae(Ne,0))&&ue.$raise(Ve("ArgumentError"),"level can't be negative"),P=F(),D=de(D);var h=D.match(new RegExp("^["+P+"]")),s;return D=D.replace(new RegExp("["+P+"]+$"),""),D=D.replace(new RegExp("[^"+P+"]+$"),""),D=D.replace(new RegExp("["+P+"]+$"),""),D===""?s=h?"/":".":s=D,Ne==1?s:oe.$dirname(s,ze(Ne,1))},-2),ae(ie,"$basename",function(D,Ne){var oe=Fe;return Ne==null&&(Ne=Fe),oe=F(),D=de(D),D.length==0||(Ne!==Fe?Ne=I["$coerce_to!"](Ne,Ve("String"),"to_str"):Ne=null,D=D.replace(new RegExp("(.)["+oe+"]*$"),"$1"),D=D.replace(new RegExp("^(?:.*["+oe+"])?([^"+oe+"]+)$"),"$1"),Ne===".*"?D=D.replace(/\.[^\.]+$/,""):Ne!==null&&(Ne=e.escape_regexp(Ne),D=D.replace(new RegExp(""+Ne+"$"),""))),D},-2),ae(ie,"$extname",function(D){var Ne=this,oe=Fe,P=Fe;return D=de(D),oe=Ne.$basename(D),a(oe["$empty?"]())||(P=oe["$[]"](xe(1,-1,!1)).$rindex("."),a(P["$nil?"]())||B(ne(P,1),ze(oe.$length(),1)))?"":oe["$[]"](e.Range.$new(ne(P,1),-1,!1))}),ae(ie,"$exist?",function(D){return e.modules[D]!=null}),ae(ie,"$directory?",function(D){var Ne=Fe;Ne=[];for(var oe in e.modules)Ne.push(oe);return D=D.$gsub(_e(["(^.",p("SEPARATOR"),"+|",p("SEPARATOR"),"+$)"])),Ue(Ne,"find",[],function(h){return h==null&&(h=Fe),h["$=~"](_e(["^",D]))})}),ae(ie,"$join",function(D){var Ne,oe,P=Fe;return Ne=Ke(arguments),oe=Ne,a(oe["$empty?"]())?"":(P="",oe=Ue(oe.$flatten().$each_with_index(),"map",[],function(s,n){return s==null&&(s=Fe),n==null&&(n=Fe),B(n,0)&&a(s["$empty?"]())||B(oe.$length(),ne(n,1))&&a(s["$empty?"]())?p("SEPARATOR"):s}),oe=Ue(oe,"reject",[],"empty?".$to_proc()),Ue(oe,"each_with_index",[],function(s,n){var i=Fe;return s==null&&(s=Fe),n==null&&(n=Fe),i=oe["$[]"](ne(n,1)),a(i["$nil?"]())?P=""+P+s:(a(s["$end_with?"](p("SEPARATOR")))&&a(i["$start_with?"](p("SEPARATOR")))&&(s=s.$sub(_e([p("SEPARATOR"),"+$"]),"")),P=a(s["$end_with?"](p("SEPARATOR")))||a(i["$start_with?"](p("SEPARATOR")))?""+P+s:""+P+s+p("SEPARATOR"))}),P)},-1),ae(ie,"$split",function(D){return D.$split(p("SEPARATOR"))}),qe(ie,"realpath","expand_path"),qe(ie,"exists?","exist?")}(e.get_singleton_class(ye),le)}("::",Ve("IO"),re)};Opal.modules["corelib/process/base"]=function(e){var a=e.klass,E=e.slice,V=e.defs,I=e.return_val,_e=e.nil;return function(ne,ae){var ue=a(ne,ae,"Signal");return V(ue,"$trap",function(Ae){return E(arguments),_e},-1)}("::",null),function(ne,ae){var ue=a(ne,ae,"GC");return V(ue,"$start",I(_e))}("::",null)};Opal.modules["corelib/process"]=function(e){var a=e.module,E=e.defs,V=e.truthy,I=e.return_val,_e=e.Kernel,ne=e.nil,ae=e.$$$;return e.add_stubs("const_set,size,<<,__register_clock__,to_f,now,new,[],raise"),function(ue){var B=a(ue,"Process"),Ae=ne;if(B.__clocks__=[],E(B,"$__register_clock__",function(Ue,Ke){var qe=this;return qe.__clocks__==null&&(qe.__clocks__=ne),qe.$const_set(Ue,qe.__clocks__.$size()),qe.__clocks__["$<<"](Ke)}),B.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()}),Ae=!1,e.global.performance)Ae=function(){return performance.now()};else if(e.global.process&&process.hrtime){var ze=process.hrtime();Ae=function(){var xe=process.hrtime(ze),Ue=xe[1]/1e3|0;return xe[0]*1e3+Ue/1e3}}return V(Ae)&&B.$__register_clock__("CLOCK_MONOTONIC",Ae),E(B,"$pid",I(0)),E(B,"$times",function(){var Ue=ne;return Ue=ae("Time").$now().$to_f(),ae(ae("Benchmark"),"Tms").$new(Ue,Ue,Ue,Ue,Ue)}),E(B,"$clock_gettime",function(Ue,Ke){var qe=this,re=ne;qe.__clocks__==null&&(qe.__clocks__=ne),Ke==null&&(Ke="float_second"),V(re=qe.__clocks__["$[]"](Ue))||_e.$raise(ae(ae("Errno"),"EINVAL"),"clock_gettime("+Ue+") "+qe.__clocks__["$[]"](Ue));var Fe=re();switch(Ke){case"float_second":return Fe/1e3;case"float_millisecond":return Fe/1;case"float_microsecond":return Fe*1e3;case"second":return Fe/1e3|0;case"millisecond":return Fe/1|0;case"microsecond":return Fe*1e3|0;case"nanosecond":return Fe*1e6|0;default:_e.$raise(ae("ArgumentError"),"unexpected unit: "+Ke)}},-2)}("::")};Opal.modules["corelib/random/formatter"]=function(e){var a=e.klass,E=e.module,V=e.def,I=e.range,_e=e.send,ne=e.rb_divide,ae=e.Kernel,ue=e.Opal,B=[],Ae=e.nil,ze=e.$$$;return e.add_stubs("_verify_count,bytes,encode,strict_encode64,random_bytes,urlsafe_encode64,split,hex,[]=,[],map,to_proc,join,times,<<,|,ord,/,abs,random_float,raise,coerce_to!,flatten,new,random_number,length,include,extend"),function(xe,Ue,Ke){var qe=a(xe,Ue,"Random"),re=[qe].concat(Ke);return function(Fe,Ve){var Me=E(Fe,"Formatter"),Ie=[Me].concat(Ve),ce=e.$r(Ie);return V(Me,"$hex",function(le){var Re=this;le==null&&(le=Ae),le=ze("Random").$_verify_count(le);for(var ie=Re.$bytes(le),pe="",Q=0;Q<le;Q++)pe+=ie.charCodeAt(Q).toString(16).padStart(2,"0");return pe.$encode("US-ASCII")},-1),V(Me,"$random_bytes",function(le){var Re=this;return le==null&&(le=Ae),Re.$bytes(le)},-1),V(Me,"$base64",function(le){var Re=this;return le==null&&(le=Ae),ze("Base64").$strict_encode64(Re.$random_bytes(le)).$encode("US-ASCII")},-1),V(Me,"$urlsafe_base64",function(le,Re){var ie=this;return le==null&&(le=Ae),Re==null&&(Re=!1),ze("Base64").$urlsafe_encode64(ie.$random_bytes(le),Re).$encode("US-ASCII")},-1),V(Me,"$uuid",function(){var le=this,Re=Ae;return Re=le.$hex(16).$split(""),Re["$[]="](12,"4"),Re["$[]="](16,(parseInt(Re["$[]"](16),16)&3|8).toString(16)),Re=[Re["$[]"](I(0,8,!0)),Re["$[]"](I(8,12,!0)),Re["$[]"](I(12,16,!0)),Re["$[]"](I(16,20,!0)),Re["$[]"](I(20,32,!0))],Re=_e(Re,"map",[],"join".$to_proc()),Re.$join("-")}),V(Me,"$random_float",function(){var le=this,Re=Ae,ie=Ae;return Re=le.$bytes(4),ie=0,_e(4,"times",[],function(Q){return Q==null&&(Q=Ae),ie=ie["$<<"](8),ie=ie["$|"](Re["$[]"](Q).$ord())}),ne(ie.$abs(),2147483647)}),V(Me,"$random_number",function(le){var Re=this;function ie(){return Re.$random_float()}function pe(p){return Math.floor(ie()*p)}function Q(){var p=le.begin,de=le.end;if(p===Ae||de===Ae)return Ae;var F=de-p;return F<0?Ae:F===0?p:(de%1===0&&p%1===0&&!le.excl&&F++,pe(F)+p)}return le==null?ie():le.$$is_range?Q():le.$$is_number?(le<=0&&ae.$raise(ze("ArgumentError"),"invalid argument - "+le),le%1===0?pe(le):ie()*le):(le=ue["$coerce_to!"](le,ze("Integer"),"to_int"),le<=0&&ae.$raise(ze("ArgumentError"),"invalid argument - "+le),pe(le))},-1),V(Me,"$alphanumeric",function(le){var Re=this,ie=Ae;return le==null&&(le=Ae),le=ce("Random").$_verify_count(le),ie=_e([I("0","9",!1),I("a","z",!1),I("A","Z",!1)],"map",[],"to_a".$to_proc()).$flatten(),_e(ze("Array"),"new",[le],function pe(Q){var p=pe.$$s==null?this:pe.$$s;return ie["$[]"](p.$random_number(ie.$length()))},{$$s:Re}).$join()},-1)}(qe,re),qe.$include(ze(ze("Random"),"Formatter")),qe.$extend(ze(ze("Random"),"Formatter"))}("::",null,B)};Opal.modules["corelib/random/mersenne_twister"]=function(e){var a=e.klass,E=e.const_set,V=e.send,I=e.nil,_e=e.$$$,ne=I;return e.add_stubs("generator="),ne=function(){var ae=624,ue=397,B=2567483615,Ae=2147483648,ze=2147483647,xe=function(Ie,ce){return Ie&Ae|ce&ze},Ue=function(Ie,ce){return xe(Ie,ce)>>>1^(ce&1?B:0)};function Ke(Ie){var ce={left:0,next:ae,state:new Array(ae)};return qe(ce,Ie),ce}function qe(Ie,ce){var ye;for(Ie.state[0]=ce>>>0,ye=1;ye<ae;ye++)Ie.state[ye]=1812433253*(Ie.state[ye-1]^Ie.state[ye-1]>>30>>>0)+ye,Ie.state[ye]&=4294967295;Ie.left=1,Ie.next=ae}function re(Ie){var ce=0,ye=Ie.state,le;for(Ie.left=ae,Ie.next=0,le=ae-ue+1;--le;ce++)ye[ce]=ye[ce+ue]^Ue(ye[ce+0],ye[ce+1]);for(le=ue;--le;ce++)ye[ce]=ye[ce+(ue-ae)]^Ue(ye[ce+0],ye[ce+1]);ye[ce]=ye[ce+(ue-ae)]^Ue(ye[ce+0],ye[0])}function Fe(Ie){var ce;return--Ie.left<=0&&re(Ie),ce=Ie.state[Ie.next++],ce^=ce>>>11,ce^=ce<<7&2636928640,ce^=ce<<15&4022730752,ce^=ce>>>18,ce>>>0}function Ve(Ie,ce){return Ie>>>=5,ce>>>=6,(Ie*67108864+ce)*(1/9007199254740992)}function Me(Ie){var ce=Fe(Ie),ye=Fe(Ie);return Ve(ce,ye)}return{genrand_real:Me,init:Ke}}(),function(ae,ue){var B=a(ae,ue,"Random"),Ae,ze=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1;return E(B,"MERSENNE_TWISTER_GENERATOR",{new_seed:function(){return Math.round(Math.random()*ze)},reseed:function(xe){return ne.init(xe)},rand:function(xe){return ne.genrand_real(xe)}}),Ae=[_e(B,"MERSENNE_TWISTER_GENERATOR")],V(B,"generator=",Ae),Ae[Ae.length-1]}("::",null)};Opal.modules["corelib/random"]=function(e){var a=e.truthy,E=e.klass,V=e.Kernel,I=e.defs,_e=e.Opal,ne=e.def,ae=e.eqeqeq,ue=e.send,B=e.top,Ae=e.nil,ze=e.$$$;return e.add_stubs("require,attr_reader,to_int,raise,new_seed,coerce_to!,reseed,rand,seed,bytes,===,==,state,_verify_count,encode,join,new,chr,random_number,random_float,const_defined?,const_set"),B.$require("corelib/random/formatter"),function(xe,Ue){var Ke=E(xe,Ue,"Random");return Ke.$attr_reader("seed","state"),I(Ke,"$_verify_count",function(re){return a(re)||(re=16),typeof re!="number"&&(re=re.$to_int()),re<0&&V.$raise(ze("ArgumentError"),"negative string size (or size too big)"),re=Math.floor(re),re}),ne(Ke,"$initialize",function(re){var Fe=this;return re==null&&(re=ze("Random").$new_seed()),re=_e["$coerce_to!"](re,ze("Integer"),"to_int"),Fe.state=re,Fe.$reseed(re)},-1),ne(Ke,"$reseed",function(re){var Fe=this;return Fe.seed=re,Fe.$rng=e.$$rand.reseed(re)}),I(Ke,"$new_seed",function(){return e.$$rand.new_seed()}),I(Ke,"$rand",function(re){var Fe=this;return ze(Fe,"DEFAULT").$rand(re)},-1),I(Ke,"$srand",function(re){var Fe=this,Ve=Ae;return re==null&&(re=ze("Random").$new_seed()),re=_e["$coerce_to!"](re,ze("Integer"),"to_int"),Ve=ze(Fe,"DEFAULT").$seed(),ze(Fe,"DEFAULT").$reseed(re),Ve},-1),I(Ke,"$urandom",function(re){return ze("SecureRandom").$bytes(re)}),ne(Ke,"$==",function(re){var Fe=this,Ve=Ae;return ae(ze("Random"),re)?a(Ve=Fe.$seed()["$=="](re.$seed()))?Fe.$state()["$=="](re.$state()):Ve:!1}),ne(Ke,"$bytes",function(re){var Fe=this;return re=ze("Random").$_verify_count(re),ue(ze("Array"),"new",[re],function Ve(){var Me=Ve.$$s==null?this:Ve.$$s;return Me.$rand(255).$chr()},{$$s:Fe}).$join().$encode("ASCII-8BIT")}),I(Ke,"$bytes",function(re){var Fe=this;return ze(Fe,"DEFAULT").$bytes(re)}),ne(Ke,"$rand",function(re){var Fe=this;return Fe.$random_number(re)},-1),ne(Ke,"$random_float",function(){var re=this;return re.state++,e.$$rand.rand(re.$rng)}),I(Ke,"$random_float",function(){var re=this;return ze(re,"DEFAULT").$random_float()}),I(Ke,"$generator=",function(re){var Fe=this;return e.$$rand=re,a(Fe["$const_defined?"]("DEFAULT"))?ze(Fe,"DEFAULT").$reseed():Fe.$const_set("DEFAULT",Fe.$new(Fe.$new_seed()))})}("::",null),B.$require("corelib/random/mersenne_twister")};Opal.modules["corelib/unsupported"]=function(e){var a=e.Kernel,E=e.klass,V=e.send,I=e.slice,_e=e.module,ne=e.def,ae=e.return_val,ue=e.alias,B=e.defs,Ae=e.top,ze=[],xe=e.nil,Ue=e.$$$;e.add_stubs("raise,warn,each,define_method,%,public,private_method_defined?,private_class_method,instance_method,instance_methods,method_defined?,private_methods");var Ke={};function qe(Fe){switch(e.config.unsupported_features_severity){case"error":a.$raise(Ue("NotImplementedError"),Fe);break;case"warning":re(Fe);break}}function re(Fe){Ke[Fe]||(Ke[Fe]=!0,Ae.$warn(Fe))}return function(Fe,Ve){var Me=E(Fe,Ve,"String"),Ie="String#%s not supported. Mutable String methods are not supported in Opal.";return V(["<<","capitalize!","chomp!","chop!","downcase!","gsub!","lstrip!","next!","reverse!","slice!","squeeze!","strip!","sub!","succ!","swapcase!","tr!","tr_s!","upcase!","prepend","[]=","clear","encode!","unicode_normalize!"],"each",[],function ce(ye){var le=ce.$$s==null?this:ce.$$s;return ye==null&&(ye=xe),V(le,"define_method",[ye],function(ie){return I(arguments),a.$raise(Ue("NotImplementedError"),Ie["$%"](ye))},-1)},{$$s:Me})}("::",null),function(Fe){var Ve=_e(Fe,"Kernel"),Me="Object tainting is not supported by Opal";return ne(Ve,"$taint",function(){var ce=this;return qe(Me),ce}),ne(Ve,"$untaint",function(){var ce=this;return qe(Me),ce}),ne(Ve,"$tainted?",function(){return qe(Me),!1})}("::"),function(Fe,Ve){var Me=E(Fe,Ve,"Module");return ne(Me,"$public",function(ce){var ye,le,Re=this;return ye=I(arguments),le=ye,le.length===0?(Re.$$module_function=!1,xe):le.length===1?le[0]:le},-1),ne(Me,"$private_class_method",function(ce){var ye,le;return ye=I(arguments),le=ye,le.length===1?le[0]:le},-1),ne(Me,"$private_method_defined?",ae(!1)),ne(Me,"$private_constant",function(ce){return I(arguments),xe},-1),ue(Me,"nesting","public"),ue(Me,"private","public"),ue(Me,"protected","public"),ue(Me,"protected_method_defined?","private_method_defined?"),ue(Me,"public_class_method","private_class_method"),ue(Me,"public_instance_method","instance_method"),ue(Me,"public_instance_methods","instance_methods"),ue(Me,"public_method_defined?","method_defined?")}("::",null),function(Fe){var Ve=_e(Fe,"Kernel");return ne(Ve,"$private_methods",function(Ie){return I(arguments),[]},-1),ue(Ve,"protected_methods","private_methods"),ue(Ve,"private_instance_methods","private_methods"),ue(Ve,"protected_instance_methods","private_methods")}("::"),function(Fe,Ve){var Me=_e(Fe,"Kernel"),Ie=[Me].concat(Ve),ce=e.$r(Ie);return ne(Me,"$eval",function(le){return I(arguments),a.$raise(Ue("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+ce("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},-1)}("::",ze),B(Ae,"$public",function(Ve){var Me,Ie;return Me=I(arguments),Ie=Me,Ie.length===1?Ie[0]:Ie},-1),B(Ae,"$private",function(Ve){var Me,Ie;return Me=I(arguments),Ie=Me,Ie.length===1?Ie[0]:Ie},-1)};Opal.queue(function(e){var a=e.Object;return e.nil,e.add_stubs("require,autoload"),a.$require("opal/base"),a.$require("opal/mini"),a.$require("corelib/kernel/format"),a.$require("corelib/string/encoding"),a.$autoload("Math","corelib/math"),a.$require("corelib/complex/base"),a.$autoload("Complex","corelib/complex"),a.$require("corelib/rational/base"),a.$autoload("Rational","corelib/rational"),a.$require("corelib/time"),a.$autoload("Struct","corelib/struct"),a.$autoload("Set","corelib/set"),a.$autoload("Dir","corelib/dir"),a.$autoload("File","corelib/file"),a.$require("corelib/process/base"),a.$autoload("Process","corelib/process"),a.$autoload("Random","corelib/random"),a.$require("corelib/unsupported")});function Os(e){Opal.modules["asciidoctor/js/opal_ext/browser/file"]=function(t){var Y=t.klass,U=t.defs,T=[];return t.nil,t.add_stubs("new"),function(Z,c,z){var Te=Y(Z,c,"File"),N=[Te].concat(z),ve=t.$r(N);return U(Te,"$read",function(We){var he="",Pe=-1;try{var be=new XMLHttpRequest;be.open("GET",We,!1),be.addEventListener("load",function(){Pe=this.status,(Pe===0||Pe===200)&&(he=this.responseText)}),be.overrideMimeType("text/plain"),be.send()}catch(Se){throw ve("IOError").$new("Error reading file or directory: "+We+"; reason: "+Se.message)}if(Pe===404||Pe===0&&!he)throw ve("IOError").$new("No such file or directory: "+We);return he})}(T[0],null,T)},Opal.modules["asciidoctor/js/opal_ext/browser"]=function(t){var Y=t.const_set,U=t.top,T=[];t.nil,t.add_stubs("require");var Z,c,z,Te;if(typeof e=="object"&&typeof e.runtime=="object"){var N=e.runtime;Z=N.platform,c=N.engine,z=N.framework,Te=N.ioModule}return Te=Te||"xmlhttprequest",Z=Z||"browser",c=c||"",z=z||"",Y(T[0],"JAVASCRIPT_IO_MODULE",Te),Y(T[0],"JAVASCRIPT_PLATFORM",Z),Y(T[0],"JAVASCRIPT_ENGINE",c),Y(T[0],"JAVASCRIPT_FRAMEWORK",z),U.$require("asciidoctor/js/opal_ext/browser/file")},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/abstract_node"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.truthy,c=t.def,z=[],Te=t.nil,N=t.$$$;return t.add_stubs("web_path,path_resolver,uriish?,[],attr?,start_with?,descends_from?,base_dir,join,prepare_source_string,read,fetch,warn,logger,normalize_system_path,read_asset"),function(ve,g){var We=Y(ve,"Asciidoctor"),he=[We].concat(g);return function(Pe,be,Se){var st=U(Pe,be,"AbstractNode"),De=[st].concat(Se),Oe=t.$r(De),Be=st.$$prototype;return Be.document=Te,c(st,"$read_contents",function(it,y){var Xe=this,m=Te,Je=Te,rt=Te;if(y==null&&(y=T([],{})),m=Xe.document,Z(Oe("Helpers")["$uriish?"](it))||Z(Je=y["$[]"]("start"))&&Z(Oe("Helpers")["$uriish?"](Je))&&Z(it=m.$path_resolver().$web_path(it,Je)))if(Z(m.$path_resolver()["$descends_from?"](it,m.$base_dir()))||Z(it["$start_with?"]("chrome://"))||Z(m["$attr?"]("allow-uri-read")))try{return Z(y["$[]"]("normalize"))?Oe("Helpers").$prepare_source_string(N("File").$read(it)).$join(Oe("LF")):N("File").$read(it)}catch(L){if(t.rescue(L,[Oe("StandardError")]))try{return Z(y.$fetch("warn_on_failure",!0))&&Xe.$logger().$warn("could not retrieve contents of "+(Z(rt=y["$[]"]("label"))?rt:"asset")+" at URI: "+it),Te}finally{t.pop_exception()}else throw L}else return Z(y.$fetch("warn_on_failure",!0))&&Xe.$logger().$warn("cannot retrieve contents of "+(Z(rt=y["$[]"]("label"))?rt:"asset")+" at URI: "+it+" (allow-uri-read attribute not enabled)"),Te;else return it=Xe.$normalize_system_path(it,y["$[]"]("start"),Te,T(["target_name"],{target_name:Z(rt=y["$[]"]("label"))?rt:"asset"})),Xe.$read_asset(it,T(["normalize","warn_on_failure","label"],{normalize:y["$[]"]("normalize"),warn_on_failure:y.$fetch("warn_on_failure",!0),label:y["$[]"]("label")}))},-2),c(st,"$generate_data_uri_from_uri",function(it,y){var Xe=this,m="",Je="",rt=-1;try{var L=new XMLHttpRequest;L.open("GET",it,!1),L.overrideMimeType("text/plain; charset=x-user-defined"),L.addEventListener("load",function(){if(rt=this.status,rt===0||rt===200){for(var A="",Le=this.responseText,se=0,ge=Le.length;se<ge;++se){var fe=Le.charCodeAt(se),W=fe&255;A+=String.fromCharCode(W)}Je=btoa(A),m=this.getResponseHeader("content-type")}}),L.send(null),m||(it.endsWith(".jpeg")||it.endsWith(".jpg")||it.endsWith(".jpe")?m="image/jpg":it.endsWith(".png")?m="image/png":it.endsWith(".svg")?m="image/svg+xml":it.endsWith(".bmp")?m="image/bmp":(it.endsWith(".tif")||it.endsWith(".tiff"))&&(m="image/tiff"))}catch{rt=0}return rt===404||rt===0&&(!Je||!m)?(Xe.$logger().$warn("could not retrieve image data from URI: "+it),it):"data:"+m+";base64,"+Je},-2)}(he[0],null,he)}(z[0],z)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/open_uri"]=function(t){var Y=t.module,U=t.slice,T=t.send,Z=t.to_a,c=t.defs,z=[],Te=t.nil;return t.add_stubs("new,path"),function(N,ve){var g=Y(N,"OpenURI"),We=[g].concat(ve),he=t.$r(We);return c(he("OpenURI"),"$open_uri",function Pe(be,Se){var st,De,Oe=Pe.$$p||Te,Be=this,Ge=Te;return Pe.$$p=null,st=U(arguments,1),De=st,Ge=T(he("File"),"new",[Be.$path()].concat(Z(De))),Oe!==Te?t.yield1(Oe,Ge):Ge},-2)}(z[0],z)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/path_resolver"]=function(t){var Y=t.module,U=t.klass,T=t.truthy,Z=t.def,c=[],z=t.nil;return t.add_stubs("absolute_path?,start_with?"),function(Te,N){var ve=Y(Te,"Asciidoctor"),g=[ve].concat(N);return function(We,he){var Pe=U(We,he,"PathResolver");return Z(Pe,"$root?",function(Se){var st=this,De=z;return T(De=st["$absolute_path?"](Se))?De:Se["$start_with?"]("file://","http://","https://","chrome://")})}(g[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser/reader"]=function(t){var Y=t.module,U=t.klass,T=t.truthy,Z=t.eqeq,c=t.not,z=t.def,Te=[],N=t.nil;return t.add_stubs("posixify,new,base_dir,start_with?,uriish?,key?,attributes,descends_from?,replace_next_line,absolute_path?,==,empty?,!,slice,length"),function(ve,g){var We=Y(ve,"Asciidoctor"),he=[We].concat(g),Pe=t.$r(he);return function(be,Se,st){var De=U(be,Se,"PreprocessorReader"),Oe=[De].concat(st),Be=t.$r(Oe),Ge=De.$$prototype;return Ge.path_resolver=Ge.document=Ge.include_stack=Ge.dir=N,z(De,"$resolve_include_path",function(y,Xe,m){var Je,rt=this,L=N,A=N,Le=N,se=N,ge=N,fe=N,W=N,ee=N;if(L=(rt.path_resolver=T(A=rt.path_resolver)?A:Be("PathResolver").$new("\\")).$posixify(y),Je=["file",rt.document.$base_dir()],Je[0],Le=Je[1],T(L["$start_with?"]("file://")))se=ge=L;else if(T(Be("Helpers")["$uriish?"](L))){if(!(T(rt.path_resolver["$descends_from?"](L,Le))||T(rt.document.$attributes()["$key?"]("allow-uri-read"))))return rt.$replace_next_line("link:"+y+"["+Xe+"]");se=ge=L}else if(T(rt.path_resolver["$absolute_path?"](L)))se=ge="file://"+(T(L["$start_with?"]("/"))?"":"/")+L;else if(Z(fe=T(W=rt.include_stack["$empty?"]())?Le:rt.dir,"."))se=ge=L;else if(T(fe["$start_with?"]("file://"))||c(Be("Helpers")["$uriish?"](fe)))se=""+fe+"/"+L,T(W)?ge=L:Z(Le,".")||c(ee=rt.path_resolver["$descends_from?"](se,Le))?ge=se:ge=se.$slice(ee,se.$length());else if(T(W))se=""+fe+"/"+(ge=L);else if(T(ee=rt.path_resolver["$descends_from?"](fe,Le))||T(rt.document.$attributes()["$key?"]("allow-uri-read")))se=""+fe+"/"+L,ge=T(ee)?se.$slice(ee,se.$length()):L;else return rt.$replace_next_line("link:"+y+"["+Xe+"]");return[se,"file",ge]})}(he[0],Pe("Reader"),he)}(Te[0],Te)},Opal.modules["asciidoctor/js/asciidoctor_ext/browser"]=function(t){var Y=t.eqeq,U=t.top,T=[],Z=t.$r(T),c=t.nil;return t.add_stubs("==,require"),Y(Z("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?(U.$require("asciidoctor/js/asciidoctor_ext/browser/abstract_node"),U.$require("asciidoctor/js/asciidoctor_ext/browser/open_uri"),U.$require("asciidoctor/js/asciidoctor_ext/browser/path_resolver"),U.$require("asciidoctor/js/asciidoctor_ext/browser/reader")):c},Opal.modules.set=Opal.return_val(Opal.nil),Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(t){var Y=t.module,U=t.slice,T=t.send,Z=t.to_a,c=t.def,z=t.return_val,Te=[],N=t.nil;return t.add_stubs("new"),function(ve,g){var We=Y(ve,"Kernel"),he=[We].concat(g),Pe=t.$r(he);return c(We,"$open",function be(Se,st){var De,Oe,Be=be.$$p||N,Ge=N;return be.$$p=null,De=U(arguments,1),Oe=De,Ge=T(Pe("File"),"new",[Se].concat(Z(Oe))),Be!==N?t.yield1(Be,Ge):Ge},-2),c(We,"$__dir__",z(""))}(Te[0],Te)},Opal.modules["asciidoctor/js/opal_ext/file"]=function(t){var Y=t.klass,U=t.def,T=t.truthy,Z=t.gvars,c=t.return_val,z=t.defs,Te=[],N=t.nil;return t.add_stubs("attr_reader,delete,gsub,read,size,to_enum,chomp,each_line,readlines,split"),function(ve,g,We){var he=Y(ve,g,"File"),Pe=[he].concat(We),be=t.$r(Pe),Se=he.$$prototype;return Se.eof=Se.path=N,he.$attr_reader("eof"),he.$attr_reader("lineno"),he.$attr_reader("path"),U(he,"$initialize",function(De,Oe){var Be=this,Ge=N;return Oe==null&&(Oe="r"),Be.path=De,Be.contents=N,Be.eof=!1,Be.lineno=0,Oe=Oe.$delete("b"),Ge=/:(.*)/,Oe=Oe.$gsub(Ge,""),Be.flags=Oe},-2),U(he,"$read",function(){var De=this,Oe=N;return T(De.eof)?"":(Oe=be("File").$read(De.path),De.eof=!0,De.lineno=Oe.$size(),Oe)}),U(he,"$each_line",function st(De){var Oe=st.$$p||N,Be=this,Ge=N;if(Z["/"]==null&&(Z["/"]=N),st.$$p=null,De==null&&(De=Z["/"]),T(Be.eof))return Oe!==N?Be:[].$to_enum();if(Oe!==N){Ge=be("File").$read(Be.path),Be.eof=!1,Be.lineno=0;for(var it=Ge.$chomp(),y=Ge.length!=it.length,Xe=it.split(De),m=0,Je=Xe.length;m<Je;m++)Be.lineno+=1,m<Je-1||y?t.yield1(Oe,Xe[m]+De):t.yield1(Oe,Xe[m]);return Be.eof=!0,Be}else return Be.$read().$each_line()},-1),U(he,"$readlines",function(){var De=this;return be("File").$readlines(De.path)}),function(st,De){var Oe=[st].concat(De),Be=t.$r(Oe);return U(st,"$readlines",function(it,y){var Xe=N;return Z["/"]==null&&(Z["/"]=N),y==null&&(y=Z["/"]),Xe=Be("File").$read(it),Xe.$split(y)},-2),U(st,"$file?",c(!0)),U(st,"$readable?",c(!0)),U(st,"$read",c(""))}(t.get_singleton_class(he),Pe)}(Te[0],null,Te),function(ve,g,We){var he=Y(ve,g,"IO"),Pe=[he].concat(We),be=t.$r(Pe);return z(he,"$read",function(st){return be("File").$read(st)})}(Te[0],null,Te)},Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(t){var Y=t.klass,U=t.send,T=t.def,Z=[],c=t.nil;return t.add_stubs("[]="),function(z,Te){var N=Y(z,Te,"MatchData"),ve=N.$$prototype;return ve.matches=c,T(N,"$[]=",function(We,he){var Pe,be=this;return Pe=[We,he],U(be.matches,"[]=",Pe),Pe[Pe.length-1]})}(Z[0],null)},Opal.modules["asciidoctor/js/opal_ext/string"]=function(t){var Y=t.klass,U=t.truthy,T=t.rb_lt,Z=t.def,c=t.alias,z=t.rb_ge,Te=t.eqeq,N=t.rb_minus,ve=[],g=t.nil;return t.add_stubs("method_defined?,<,length,bytes,to_s,byteslice,limit_bytesize,>=,==,-,_original_byteslice,unpack,_original_unpack"),function(We,he){var Pe=Y(We,he,"String");return U(Pe["$method_defined?"]("limit_bytesize"))||Z(Pe,"$limit_bytesize",function(Se){var st=this,De=g;return U(T(Se,st.$bytes().$length()))?(De=st.$byteslice(0,Se),De.$to_s()):st.$to_s()}),U(Pe["$method_defined?"]("limit"))||c(Pe,"limit","limit_bytesize"),c(Pe,"_original_byteslice","byteslice"),Z(Pe,"$byteslice",function(Se,st){var De=this;return st==null&&(st=1),Te(Se,3)&&U(z(st,Se))&&U(De.charCodeAt()===65279)?De.substr(1).$byteslice(0,N(st,3)):De.$_original_byteslice(Se,st)},-2),c(Pe,"_original_unpack","unpack"),Z(Pe,"$unpack",function(Se){var st=this;if(Te(Se,"C3")){if(U(st.charCodeAt()===65279))return[239,187,191];for(var De=[],Oe=0;Oe<3;Oe++)Oe<st.length?De.push(st.charCodeAt(Oe)):De.push(g);return De}else return st.$_original_unpack(Se)})}(ve[0],null)},Opal.modules["asciidoctor/js/opal_ext/uri"]=function(t){var Y=t.module,U=t.defs,T=t.return_self,Z=t.def,c=[];return t.nil,t.add_stubs("extend"),function(z,Te){var N=Y(z,"URI"),ve=[N].concat(Te),g=t.$r(ve);return U(N,"$parse",function(he){return he.$extend(g("URI"))}),Z(N,"$path",T)}(c[0],c)},Opal.modules["asciidoctor/js/opal_ext/base64"]=function(t){var Y=t.module,U=t.defs,T=t.ensure_kwargs,Z=t.truthy,c=[],z=t.nil;return t.add_stubs("delete"),function(Te){var N=Y(Te,"Base64"),ve,g;return ve=t.global.btoa||function(We){var he;return We instanceof Buffer?he=We:he=Buffer.from(We.toString(),"binary"),he.toString("base64")},g=t.global.atob||function(We){return Buffer.from(We,"base64").toString("binary")},U(N,"$decode64",function(he){return g(he.replace(/\r?\n/g,""))}),U(N,"$encode64",function(he){return ve(he).replace(/(.{60})/g,`$1
`).replace(/([^\n])$/g,`$1
`)}),U(N,"$strict_decode64",function(he){return g(he)}),U(N,"$strict_encode64",function(he){return ve(he)}),U(N,"$urlsafe_decode64",function(he){return g(he.replace(/\-/g,"+").replace(/_/g,"/"))}),U(N,"$urlsafe_encode64",function(he,Pe){var be,Se=z;return Pe=T(Pe),be=Pe.$$smap.padding,be==null&&(be=!0),Se=ve(he).replace(/\+/g,"-").replace(/\//g,"_"),Z(be)||(Se=Se.$delete("=")),Se},-2)}(c[0])},Opal.modules["asciidoctor/js/opal_ext/number"]=function(t){var Y=t.klass,U=t.truthy,T=t.rb_gt,Z=t.def,c=[],z=t.$r(c);return t.nil,t.add_stubs("coerce_to!,>"),function(Te,N,ve){var g=Y(Te,N,"Number"),We=[g].concat(ve),he=t.$r(We);return Z(g,"$round",function(be){var Se=this;return be=he("Opal")["$coerce_to!"](be,he("Integer"),"to_int"),U(T(be,0))?Number(Se.toFixed(be)):Math.round(Se)},-1)}(c[0],z("Numeric"),c)},Opal.modules["asciidoctor/js/opal_ext"]=function(t){var Y=t.top;t.nil,t.add_stubs("require"),Y.$require("asciidoctor/js/opal_ext/kernel"),Y.$require("asciidoctor/js/opal_ext/file"),Y.$require("asciidoctor/js/opal_ext/match_data"),Y.$require("asciidoctor/js/opal_ext/string"),Y.$require("asciidoctor/js/opal_ext/uri"),Y.$require("asciidoctor/js/opal_ext/base64"),Y.$require("asciidoctor/js/opal_ext/number"),t.config.unsupported_features_severity="ignore",Y.$require("asciidoctor/js/opal_ext/browser")},Opal.modules["asciidoctor/js/rx"]=function(t){var Y=t.module,U=t.const_set,T=t.send,Z=t.gvars,c=t.truthy,z=t.defs,Te=t.rb_plus,N=[],ve=t.nil;return t.add_stubs("gsub,+,unpack_hex_range"),function(g,We){var he=Y(g,"Asciidoctor"),Pe=[he].concat(We),be=t.$r(Pe);return U(Pe[0],"HEX_RANGE_RX",/([A-F0-9]{4})(?:-([A-F0-9]{4}))?/),z(he,"$unpack_hex_range",function(st){return T(st,"gsub",[be("HEX_RANGE_RX")],function(){var Oe,Be=ve;return"\\u"+((Oe=Z["~"])===ve?ve:Oe["$[]"](1))+(c(Be=(Oe=Z["~"])===ve?ve:Oe["$[]"](2))?"-\\u"+((Oe=Z["~"])===ve?ve:Oe["$[]"](2)):Be)})}),U(Pe[0],"P_L",Te("A-Za-z",he.$unpack_hex_range("00AA00B500BA00C0-00D600D8-00F600F8-02C102C6-02D102E0-02E402EC02EE0370-037403760377037A-037D037F03860388-038A038C038E-03A103A3-03F503F7-0481048A-052F0531-055605590561-058705D0-05EA05F0-05F20620-064A066E066F0671-06D306D506E506E606EE06EF06FA-06FC06FF07100712-072F074D-07A507B107CA-07EA07F407F507FA0800-0815081A082408280840-085808A0-08B20904-0939093D09500958-09610971-09800985-098C098F09900993-09A809AA-09B009B209B6-09B909BD09CE09DC09DD09DF-09E109F009F10A05-0A0A0A0F0A100A13-0A280A2A-0A300A320A330A350A360A380A390A59-0A5C0A5E0A72-0A740A85-0A8D0A8F-0A910A93-0AA80AAA-0AB00AB20AB30AB5-0AB90ABD0AD00AE00AE10B05-0B0C0B0F0B100B13-0B280B2A-0B300B320B330B35-0B390B3D0B5C0B5D0B5F-0B610B710B830B85-0B8A0B8E-0B900B92-0B950B990B9A0B9C0B9E0B9F0BA30BA40BA8-0BAA0BAE-0BB90BD00C05-0C0C0C0E-0C100C12-0C280C2A-0C390C3D0C580C590C600C610C85-0C8C0C8E-0C900C92-0CA80CAA-0CB30CB5-0CB90CBD0CDE0CE00CE10CF10CF20D05-0D0C0D0E-0D100D12-0D3A0D3D0D4E0D600D610D7A-0D7F0D85-0D960D9A-0DB10DB3-0DBB0DBD0DC0-0DC60E01-0E300E320E330E40-0E460E810E820E840E870E880E8A0E8D0E94-0E970E99-0E9F0EA1-0EA30EA50EA70EAA0EAB0EAD-0EB00EB20EB30EBD0EC0-0EC40EC60EDC-0EDF0F000F40-0F470F49-0F6C0F88-0F8C1000-102A103F1050-1055105A-105D106110651066106E-10701075-1081108E10A0-10C510C710CD10D0-10FA10FC-1248124A-124D1250-12561258125A-125D1260-1288128A-128D1290-12B012B2-12B512B8-12BE12C012C2-12C512C8-12D612D8-13101312-13151318-135A1380-138F13A0-13F41401-166C166F-167F1681-169A16A0-16EA16F1-16F81700-170C170E-17111720-17311740-17511760-176C176E-17701780-17B317D717DC1820-18771880-18A818AA18B0-18F51900-191E1950-196D1970-19741980-19AB19C1-19C71A00-1A161A20-1A541AA71B05-1B331B45-1B4B1B83-1BA01BAE1BAF1BBA-1BE51C00-1C231C4D-1C4F1C5A-1C7D1CE9-1CEC1CEE-1CF11CF51CF61D00-1DBF1E00-1F151F18-1F1D1F20-1F451F48-1F4D1F50-1F571F591F5B1F5D1F5F-1F7D1F80-1FB41FB6-1FBC1FBE1FC2-1FC41FC6-1FCC1FD0-1FD31FD6-1FDB1FE0-1FEC1FF2-1FF41FF6-1FFC2071207F2090-209C21022107210A-211321152119-211D212421262128212A-212D212F-2139213C-213F2145-2149214E218321842C00-2C2E2C30-2C5E2C60-2CE42CEB-2CEE2CF22CF32D00-2D252D272D2D2D30-2D672D6F2D80-2D962DA0-2DA62DA8-2DAE2DB0-2DB62DB8-2DBE2DC0-2DC62DC8-2DCE2DD0-2DD62DD8-2DDE2E2F300530063031-3035303B303C3041-3096309D-309F30A1-30FA30FC-30FF3105-312D3131-318E31A0-31BA31F0-31FF3400-4DB54E00-9FCCA000-A48CA4D0-A4FDA500-A60CA610-A61FA62AA62BA640-A66EA67F-A69DA6A0-A6E5A717-A71FA722-A788A78B-A78EA790-A7ADA7B0A7B1A7F7-A801A803-A805A807-A80AA80C-A822A840-A873A882-A8B3A8F2-A8F7A8FBA90A-A925A930-A946A960-A97CA984-A9B2A9CFA9E0-A9E4A9E6-A9EFA9FA-A9FEAA00-AA28AA40-AA42AA44-AA4BAA60-AA76AA7AAA7E-AAAFAAB1AAB5AAB6AAB9-AABDAAC0AAC2AADB-AADDAAE0-AAEAAAF2-AAF4AB01-AB06AB09-AB0EAB11-AB16AB20-AB26AB28-AB2EAB30-AB5AAB5C-AB5FAB64AB65ABC0-ABE2AC00-D7A3D7B0-D7C6D7CB-D7FBF900-FA6DFA70-FAD9FB00-FB06FB13-FB17FB1DFB1F-FB28FB2A-FB36FB38-FB3CFB3EFB40FB41FB43FB44FB46-FBB1FBD3-FD3DFD50-FD8FFD92-FDC7FDF0-FDFBFE70-FE74FE76-FEFCFF21-FF3AFF41-FF5AFF66-FFBEFFC2-FFC7FFCA-FFCFFFD2-FFD7FFDA-FFDC"))),U(Pe[0],"P_Nl",he.$unpack_hex_range("16EE-16F02160-21822185-218830073021-30293038-303AA6E6-A6EF")),U(Pe[0],"P_Nd",Te("0-9",he.$unpack_hex_range("0660-066906F0-06F907C0-07C90966-096F09E6-09EF0A66-0A6F0AE6-0AEF0B66-0B6F0BE6-0BEF0C66-0C6F0CE6-0CEF0D66-0D6F0DE6-0DEF0E50-0E590ED0-0ED90F20-0F291040-10491090-109917E0-17E91810-18191946-194F19D0-19D91A80-1A891A90-1A991B50-1B591BB0-1BB91C40-1C491C50-1C59A620-A629A8D0-A8D9A900-A909A9D0-A9D9A9F0-A9F9AA50-AA59ABF0-ABF9FF10-FF19"))),U(Pe[0],"P_Pc",he.$unpack_hex_range("005F203F20402054FE33FE34FE4D-FE4FFF3F")),U(Pe[0],"CC_ALPHA",""+be("P_L")+be("P_Nl")),U(Pe[0],"CG_ALPHA","["+be("CC_ALPHA")+"]"),U(Pe[0],"CC_ALNUM",""+be("CC_ALPHA")+be("P_Nd")),U(Pe[0],"CG_ALNUM","["+be("CC_ALNUM")+"]"),U(Pe[0],"CC_WORD",""+be("CC_ALNUM")+be("P_Pc")),U(Pe[0],"CG_WORD","["+be("CC_WORD")+"]"),U(Pe[0],"CG_BLANK","[ \\t]"),U(Pe[0],"CC_EOL","(?=\\n|$)"),U(Pe[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]"),U(Pe[0],"CC_ALL","[\\s\\S]"),U(Pe[0],"CC_ANY","[^\\n]")}(N[0],N)},Opal.modules.strscan=function(t){var Y=t.klass,U=t.def,T=t.truthy,Z=t.eqeqeq,c=t.Opal,z=t.return_ivar,Te=t.send,N=t.alias,ve=[],g=t.nil;return t.add_stubs("attr_reader,anchor,empty?,===,to_s,coerce_to!,scan_until,length,size,rest,pos=,beginning_of_line?,get_byte,private"),function(We,he,Pe){var be=Y(We,he,"StringScanner"),Se=[be].concat(Pe),st=t.$r(Se),De=be.$$prototype;return De.pos=De.string=De.working=De.matched=De.prev_pos=De.match=g,be.$attr_reader("pos","matched"),U(be,"$initialize",function(Be){var Ge=this;return Ge.string=Be,Ge.pos=0,Ge.matched=g,Ge.working=Be,Ge.match=[]}),be.$attr_reader("string"),U(be,"$beginning_of_line?",function(){var Be=this;return Be.pos===0||Be.string.charAt(Be.pos-1)===`
`}),U(be,"$scan",function(Be){var Ge=this;Be=Ge.$anchor(Be);var it=Be.exec(Ge.working);return it==null?Ge.matched=g:(Ge.prev_pos=Ge.pos,Ge.pos+=it[0].length,Ge.working=Ge.working.substring(it[0].length),Ge.matched=it[0],Ge.match=it,it[0])}),U(be,"$scan_until",function(Be){var Ge=this;Be=Ge.$anchor(Be);for(var it=Ge.working,y=0;it.length!=y;++y){var Xe=Be.exec(it.substr(y));if(Xe!==null){var m=y+Xe[0].length,Je=it.substr(0,m);return Ge.matched=Xe[0],Ge.match=Xe,Ge.prev_pos=Ge.pos+y,Ge.pos+=m,Ge.working=it.substr(m),Je}}return Ge.matched=g}),U(be,"$[]",function(Be){var Ge=this,it=g;if(T(Ge.match["$empty?"]()))return g;Z(st("Symbol"),it=Be)?Be=Be.$to_s():Z(st("String"),it)||(Be=c["$coerce_to!"](Be,st("Integer"),"to_int"));var y=Ge.match;return Be<0&&(Be+=y.length),Be<0||Be>=y.length||y[Be]==null?g:y[Be]}),U(be,"$check",function(Be){var Ge=this;Be=Ge.$anchor(Be);var it=Be.exec(Ge.working);return it==null?Ge.matched=g:Ge.matched=it[0]}),U(be,"$check_until",function(Be){var Ge=this,it=Ge.prev_pos,y=Ge.pos,Xe=Ge.working,m=Ge.$scan_until(Be);return Ge.prev_pos=it,Ge.pos=y,Ge.working=Xe,m}),U(be,"$peek",function(Be){var Ge=this;return Ge.working.substring(0,Be)}),U(be,"$eos?",function(){var Be=this;return Be.working.length===0}),U(be,"$exist?",function(Be){var Ge=this,it=Be.exec(Ge.working);return it==null?g:it.index==0?0:it.index+1}),U(be,"$skip",function(Be){var Ge=this;Be=Ge.$anchor(Be);var it=Be.exec(Ge.working);if(it==null)return Ge.match=[],Ge.matched=g;var y=it[0],Xe=y.length;return Ge.matched=y,Ge.match=it,Ge.prev_pos=Ge.pos,Ge.pos+=Xe,Ge.working=Ge.working.substring(Xe),Xe}),U(be,"$skip_until",function(Be){var Ge=this,it=Ge.$scan_until(Be);return it===g?g:(Ge.matched=it.substr(-1),it.length)}),U(be,"$get_byte",function(){var Be=this,Ge=g;return Be.pos<Be.string.length?(Be.prev_pos=Be.pos,Be.pos+=1,Ge=Be.matched=Be.working.substring(0,1),Be.working=Be.working.substring(1)):Be.matched=g,Ge}),U(be,"$match?",function(Be){var Ge=this;Be=Ge.$anchor(Be);var it=Be.exec(Ge.working);return it==null?g:(Ge.prev_pos=Ge.pos,it[0].length)}),U(be,"$pos=",function(Be){var Ge=this;return Be<0&&(Be+=Ge.string.$length()),Ge.pos=Be,Ge.working=Ge.string.slice(Be)}),U(be,"$matched_size",function(){var Be=this;return Be.matched===g?g:Be.matched.length}),U(be,"$post_match",function(){var Be=this;return Be.matched===g?g:Be.string.substr(Be.pos)}),U(be,"$pre_match",function(){var Be=this;return Be.matched===g?g:Be.string.substr(0,Be.prev_pos)}),U(be,"$reset",function(){var Be=this;return Be.working=Be.string,Be.matched=g,Be.pos=0}),U(be,"$rest",z("working")),U(be,"$rest?",function(){var Be=this;return Be.working.length!==0}),U(be,"$rest_size",function(){var Be=this;return Be.$rest().$size()}),U(be,"$terminate",function(){var Be,Ge=this;return Ge.match=g,Be=[Ge.string.$length()],Te(Ge,"pos=",Be),Be[Be.length-1]}),U(be,"$unscan",function(){var Be=this;return Be.pos=Be.prev_pos,Be.prev_pos=g,Be.match=g,Be}),N(be,"bol?","beginning_of_line?"),N(be,"getch","get_byte"),be.$private(),U(be,"$anchor",function(Be){var Ge=Be.toString().match(/\/([^\/]+)$/);return Ge=Ge?Ge[1]:void 0,new RegExp("^(?:"+Be.source+")",Ge)})}(ve[0],null,ve)},Opal.modules["asciidoctor/js"]=function(t){var Y=t.top;return t.nil,t.add_stubs("require"),Y.$require("asciidoctor/js/opal_ext"),Y.$require("asciidoctor/js/rx"),Y.$require("strscan")},Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(t){var Y=t.klass,U=t.truthy,T=t.alias,Z=[],c=t.nil;return t.add_stubs("method_defined?,nil?,empty?"),function(z,Te){var N=Y(z,Te,"NilClass");return U(N["$method_defined?"]("nil_or_empty?"))?c:T(N,"nil_or_empty?","nil?")}(Z[0],null),function(z,Te){var N=Y(z,Te,"String");return U(N["$method_defined?"]("nil_or_empty?"))?c:T(N,"nil_or_empty?","empty?")}(Z[0],null),function(z,Te){var N=Y(z,Te,"Array");return U(N["$method_defined?"]("nil_or_empty?"))?c:T(N,"nil_or_empty?","empty?")}(Z[0],null),function(z,Te){var N=Y(z,Te,"Hash");return U(N["$method_defined?"]("nil_or_empty?"))?c:T(N,"nil_or_empty?","empty?")}(Z[0],null),function(z,Te){var N=Y(z,Te,"Numeric");return U(N["$method_defined?"]("nil_or_empty?"))?c:T(N,"nil_or_empty?","nil?")}(Z[0],null)},Opal.modules["asciidoctor/core_ext/hash/merge"]=function(t){var Y=t.eqeq,U=t.send,T=t.slice,Z=t.truthy,c=t.rb_lt,z=t.rb_gt,Te=t.send2,N=t.find_super,ve=t.def,g=t.top,We=[],he=t.$r(We),Pe=t.nil;return t.add_stubs("==,arity,instance_method,send,new,<,length,dup,>,inject,merge,[]"),Y(he("Hash").$instance_method("merge").$arity(),1)?he("Hash").$send("prepend",U(he("Module"),"new",[],function be(){var Se=be.$$s==null?this:be.$$s;return ve(Se,"$merge",function st(De){var Oe,Be;st.$$p;var Ge=this,it=Pe;return st.$$p=null,Oe=T(arguments),Be=Oe,Z(c(it=Be.$length(),1))?Ge.$dup():Z(z(it,1))?U(Be,"inject",[Ge],function(Xe,m){return Xe==null&&(Xe=Pe),m==null&&(m=Pe),Xe.$merge(m)}):Te(Ge,N(Ge,"merge",st,!1,!0),"merge",[Be["$[]"](0)],null)},-1)},{$$s:g})):Pe},Opal.modules["asciidoctor/core_ext/match_data/names"]=function(t){var Y=t.truthy,U=t.klass,T=t.def,Z=[],c=t.$r(Z),z=t.nil;return t.add_stubs("method_defined?"),Y(c("MatchData")["$method_defined?"]("names"))?z:function(Te,N){var ve=U(Te,N,"MatchData");return T(ve,"$names",function(){return[]})}(Z[0],null)},Opal.modules["asciidoctor/core_ext"]=function(t){var Y=t.top;return t.nil,Y.$require("asciidoctor/core_ext.rb/../core_ext/nil_or_empty"),Y.$require("asciidoctor/core_ext.rb/../core_ext/hash/merge"),Y.$require("asciidoctor/core_ext.rb/../core_ext/match_data/names")},Opal.modules["asciidoctor/helpers"]=function(t){var Y=t.module,U=t.truthy,T=t.eqeq,Z=t.gvars,c=t.def,z=t.send,Te=t.neqeq,N=t.const_set,ve=t.hash2,g=t.to_ary,We=t.rb_times,he=t.eqeqeq,Pe=t.rb_plus,be=t.Class,Se=t.Object,st=[],De=t.nil,Oe=t.$$$;return t.add_stubs("module_function,require,include?,include,==,path,message,raise,warn,logger,chomp,empty?,slice,unpack,[],[]=,byteslice,bytesize,map,rstrip,encode,encoding,nil_or_empty?,!=,tap,each_line,<<,!,start_with?,match?,gsub,rindex,index,basename,extname,length,directory?,dirname,mkdir_p,mkdir,private_constant,join,divmod,*,===,+,to_s,to_i,succ,class_for_name,const_get"),function(Be,Ge){var it=Y(Be,"Asciidoctor"),y=[it].concat(Ge);return function(Xe,m){var Je=Y(Xe,"Helpers"),rt=[Je].concat(m),L=t.$r(rt);return Je.$module_function(),c(Je,"$require_library",function(Le,se,ge){var fe=this,W=De;Z["!"]==null&&(Z["!"]=De),se==null&&(se=!0),ge==null&&(ge="abort");try{return fe.$require(Le)}catch(ee){if(t.rescue(ee,[Oe("LoadError")]))try{if(U(fe["$include?"](L("Logging")))||fe.$include(L("Logging")),U(se))switch(T(se,!0)&&(se=Le),ge){case"abort":W=T(Z["!"].$path(),se)?"":" (reason: "+(U(Z["!"].$path())?"cannot load '"+Z["!"].$path()+"'":Z["!"].$message())+")",fe.$raise(Oe("LoadError"),"asciidoctor: FAILED: required gem '"+se+"' is not available"+W+". Processing aborted.");break;case"warn":W=T(Z["!"].$path(),se)?"":" (reason: "+(U(Z["!"].$path())?"cannot load '"+Z["!"].$path()+"'":Z["!"].$message())+")",fe.$logger().$warn("optional gem '"+se+"' is not available"+W+". Functionality disabled.");break;default:}else switch(ge){case"abort":fe.$raise(Oe("LoadError"),"asciidoctor: FAILED: "+Z["!"].$message().$chomp(".")+". Processing aborted.");break;case"warn":fe.$logger().$warn(""+Z["!"].$message().$chomp(".")+". Functionality disabled.");break;default:}return De}finally{t.pop_exception()}else throw ee}},-2),c(Je,"$prepare_source_array",function(Le,se){var ge=De,fe=De,W=De;return se==null&&(se=!0),U(Le["$empty?"]())?[]:T(ge=(fe=(W=Le["$[]"](0)).$unpack("C3")).$slice(0,2),L("BOM_BYTES_UTF_16LE"))?(Le["$[]="](0,W.$byteslice(2,W.$bytesize())),U(se)?z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$rstrip()}):z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")).$chomp()})):T(ge,L("BOM_BYTES_UTF_16BE"))?(Le["$[]="](0,W.$byteslice(2,W.$bytesize())),U(se)?z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$rstrip()}):z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")).$chomp()})):(T(fe,L("BOM_BYTES_UTF_8"))&&Le["$[]="](0,W.$byteslice(3,W.$bytesize())),T(W.$encoding(),L("UTF_8"))?U(se)?z(Le,"map",[],function(M){return M==null&&(M=De),M.$rstrip()}):z(Le,"map",[],function(M){return M==null&&(M=De),M.$chomp()}):U(se)?z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8")).$rstrip()}):z(Le,"map",[],function(M){return M==null&&(M=De),M.$encode(L("UTF_8")).$chomp()}))},-2),c(Je,"$prepare_source_string",function(Le,se){var ge=De,fe=De;return se==null&&(se=!0),U(Le["$nil_or_empty?"]())?[]:(T(ge=(fe=Le.$unpack("C3")).$slice(0,2),L("BOM_BYTES_UTF_16LE"))?Le=Le.$byteslice(2,Le.$bytesize()).$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16LE")):T(ge,L("BOM_BYTES_UTF_16BE"))?Le=Le.$byteslice(2,Le.$bytesize()).$encode(L("UTF_8"),Oe(Oe("Encoding"),"UTF_16BE")):T(fe,L("BOM_BYTES_UTF_8"))?(Le=Le.$byteslice(3,Le.$bytesize()),T(Le.$encoding(),L("UTF_8"))||(Le=Le.$encode(L("UTF_8")))):Te(Le.$encoding(),L("UTF_8"))&&(Le=Le.$encode(L("UTF_8"))),U(se)?z([],"tap",[],function(ee){return ee==null&&(ee=De),z(Le,"each_line",[],function(C){return C==null&&(C=De),ee["$<<"](C.$rstrip())})}):z([],"tap",[],function(ee){return ee==null&&(ee=De),z(Le,"each_line",[],function(C){return C==null&&(C=De),ee["$<<"](C.$chomp())})}))},-2),T(Oe("RUBY_ENGINE"),"jruby")?c(Je,"$uriish?",function(Le){var se=De,ge=De;return U(se=U(ge=Le["$include?"](":"))?Le["$start_with?"]("uri:classloader:")["$!"]():ge)?L("UriSniffRx")["$match?"](Le):se}):c(Je,"$uriish?",function(Le){var se=De;return U(se=Le["$include?"](":"))?L("UriSniffRx")["$match?"](Le):se}),c(Je,"$encode_uri_component",function(Le){return encodeURIComponent(Le).replace(/%20|[!'()*]/g,function(se){return se==="%20"?"+":"%"+se.charCodeAt(0).toString(16)})}),c(Je,"$encode_spaces_in_uri",function(Le){return U(Le["$include?"](" "))?Le.$gsub(" ","%20"):Le}),c(Je,"$rootname",function(Le){var se=De;return U(se=Le.$rindex("."))?U(Le.$index("/",se))?Le:Le.$slice(0,se):Le}),c(Je,"$basename",function(Le,se){var ge=this;return se==null&&(se=De),U(se)?Oe("File").$basename(Le,T(se,!0)?ge.$extname(Le):se):Oe("File").$basename(Le)},-2),c(Je,"$extname?",function(Le){var se=De,ge=De;return U(se=ge=Le.$rindex("."))?Le.$index("/",ge)["$!"]():se}),U(Oe(Oe("File"),"ALT_SEPARATOR"))?c(Je,"$extname",function(Le,se){var ge=De;return se==null&&(se=""),U(ge=Le.$rindex("."))?U(Le.$index("/",ge))||U(Le.$index(Oe(Oe("File"),"ALT_SEPARATOR"),ge))?se:Le.$slice(ge,Le.$length()):se},-2):c(Je,"$extname",function(Le,se){var ge=De;return se==null&&(se=""),U(ge=Le.$rindex("."))?U(Le.$index("/",ge))?se:Le.$slice(ge,Le.$length()):se},-2),c(Je,"$mkdir_p",function(Le){var se=this,ge=De;if(U(Oe("File")["$directory?"](Le)))return De;T(ge=Oe("File").$dirname(Le),".")||se.$mkdir_p(ge);try{return Oe("Dir").$mkdir(Le)}catch(fe){if(t.rescue(fe,[Oe("SystemCallError")]))try{return U(Oe("File")["$directory?"](Le))?De:se.$raise()}finally{t.pop_exception()}else throw fe}}),N(rt[0],"ROMAN_NUMERALS",ve(["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],{M:1e3,CM:900,D:500,CD:400,C:100,XC:90,L:50,XL:40,X:10,IX:9,V:5,IV:4,I:1})),Je.$private_constant("ROMAN_NUMERALS"),c(Je,"$int_to_roman",function(Le){return z(L("ROMAN_NUMERALS"),"map",[],function(ge,fe){var W,ee,M=De;return ge==null&&(ge=De),fe==null&&(fe=De),ee=Le.$divmod(fe),W=g(ee),M=W[0]==null?De:W[0],Le=W[1]==null?De:W[1],We(ge,M)}).$join()}),c(Je,"$nextval",function(Le){var se=De;return he(Oe("Integer"),Le)?Pe(Le,1):T((se=Le.$to_i()).$to_s(),Le.$to_s())?Pe(se,1):Le.$succ()}),c(Je,"$resolve_class",function(Le){var se=this;return he(be,Le)?Le:he(Oe("String"),Le)?se.$class_for_name(Le):De}),c(Je,"$class_for_name",function(Le){var se=this,ge=De;try{return he(be,ge=Se.$const_get(Le,!1))||se.$raise(),ge}catch(fe){if(t.rescue(fe,[L("StandardError")]))try{return se.$raise(Oe("NameError"),"Could not resolve class for name: "+Le)}finally{t.pop_exception()}else throw fe}})}(y[0],y)}(st[0],st)},Opal.modules.logger=function(t){var Y=t.klass,U=t.module,T=t.const_set,Z=t.send,c=t.def,z=t.eqeqeq,Te=t.rb_plus,N=t.truthy,ve=t.rb_le,g=t.rb_lt,We=[],he=t.nil,Pe=t.$$$;return t.add_stubs("include,to_h,map,constants,const_get,to_s,format,chr,strftime,message_as_string,===,+,message,class,join,backtrace,inspect,attr_reader,attr_accessor,new,key,upcase,raise,add,to_proc,<=,<,write,call,[],now"),function(be,Se,st){var De=Y(be,Se,"Logger"),Oe=[De].concat(st),Be=t.$r(Oe),Ge=De.$$prototype;return Ge.level=Ge.progname=Ge.pipe=Ge.formatter=he,function(it,y){var Xe=U(it,"Severity"),m=[Xe].concat(y);return T(m[0],"DEBUG",0),T(m[0],"INFO",1),T(m[0],"WARN",2),T(m[0],"ERROR",3),T(m[0],"FATAL",4),T(m[0],"UNKNOWN",5)}(Oe[0],Oe),De.$include(Be("Severity")),T(Oe[0],"SEVERITY_LABELS",Z(Be("Severity").$constants(),"map",[],function(y){return y==null&&(y=he),[Be("Severity").$const_get(y),y.$to_s()]}).$to_h()),function(it,y,Xe){var m=Y(it,y,"Formatter"),Je=[m].concat(Xe),rt=t.$r(Je);return T(Je[0],"MESSAGE_FORMAT",`%s, [%s] %5s -- %s: %s
`),T(Je[0],"DATE_TIME_FORMAT","%Y-%m-%dT%H:%M:%S.%6N"),c(m,"$call",function(A,Le,se,ge){var fe=this;return fe.$format(rt("MESSAGE_FORMAT"),A.$chr(),Le.$strftime(rt("DATE_TIME_FORMAT")),A,se,fe.$message_as_string(ge))}),c(m,"$message_as_string",function(A){var Le=he,se=he;return z(Pe("String"),Le=A)?A:z(Pe("Exception"),Le)?Te(""+A.$message()+" ("+A.$class()+`)
`,(N(se=A.$backtrace())?se:[]).$join(`
`)):A.$inspect()})}(Oe[0],null,Oe),De.$attr_reader("level"),De.$attr_accessor("progname"),De.$attr_accessor("formatter"),c(De,"$initialize",function(y){var Xe=this;return Xe.pipe=y,Xe.level=Be("DEBUG"),Xe.formatter=Be("Formatter").$new()}),c(De,"$level=",function(y){var Xe=this,m=he;return z(Pe("Integer"),y)?Xe.level=y:N(m=Be("SEVERITY_LABELS").$key(y.$to_s().$upcase()))?Xe.level=m:Xe.$raise(Be("ArgumentError"),"invalid log level: "+y)}),c(De,"$info",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("INFO"),he,y],Xe.$to_proc())},-1),c(De,"$debug",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("DEBUG"),he,y],Xe.$to_proc())},-1),c(De,"$warn",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("WARN"),he,y],Xe.$to_proc())},-1),c(De,"$error",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("ERROR"),he,y],Xe.$to_proc())},-1),c(De,"$fatal",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("FATAL"),he,y],Xe.$to_proc())},-1),c(De,"$unknown",function it(y){var Xe=it.$$p||he,m=this;return it.$$p=null,y==null&&(y=he),Z(m,"add",[Be("UNKNOWN"),he,y],Xe.$to_proc())},-1),c(De,"$info?",function(){var y=this;return ve(y.level,Be("INFO"))}),c(De,"$debug?",function(){var y=this;return ve(y.level,Be("DEBUG"))}),c(De,"$warn?",function(){var y=this;return ve(y.level,Be("WARN"))}),c(De,"$error?",function(){var y=this;return ve(y.level,Be("ERROR"))}),c(De,"$fatal?",function(){var y=this;return ve(y.level,Be("FATAL"))}),c(De,"$add",function it(y,Xe,m){var Je=it.$$p||he,rt=this,L=he;return it.$$p=null,Xe==null&&(Xe=he),m==null&&(m=he),N(g(y=N(L=y)?L:Be("UNKNOWN"),rt.level))||(m=N(L=m)?L:rt.progname,N(Xe)||(Je!==he?Xe=t.yieldX(Je,[]):(Xe=m,m=rt.progname)),rt.pipe.$write(rt.formatter.$call(N(L=Be("SEVERITY_LABELS")["$[]"](y))?L:"ANY",Pe("Time").$now(),m,Xe))),!0},-2)}(We[0],null,We)},Opal.modules["asciidoctor/logging"]=function(t){var Y=t.module,U=t.klass,T=t.slice,Z=t.send2,c=t.find_super,z=t.to_a,Te=t.send,N=t.def,ve=t.truthy,g=t.rb_gt,We=t.const_set,he=t.hash2,Pe=t.eqeqeq,be=t.gvars,Se=t.alias,st=t.defs,De=t.top,Oe=[],Be=t.nil,Ge=t.$$$;return t.add_stubs("require,attr_reader,progname=,formatter=,new,level=,>,[],===,inspect,to_h,map,constants,const_get,<<,clear,empty?,max,attr_accessor,memoize_logger,private,logger,extend,private_class_method,merge"),De.$require("logger"),function(it,y){var Xe=Y(it,"Asciidoctor"),m=[Xe].concat(y);return function(Je,rt,L){var A=U(Je,rt,"Logger"),Le=[A].concat(L),se=t.$r(Le),ge=A.$$prototype;return ge.max_severity=Be,A.$attr_reader("max_severity"),N(A,"$initialize",function fe(W){var ee,M,C,k=fe.$$p||Be,H=this;return fe.$$p=null,ee=T(arguments),M=ee,Z(H,c(H,"initialize",fe,!1,!0),"initialize",z(M),k),H["$progname="]("asciidoctor"),H["$formatter="](se("BasicFormatter").$new()),C=[se("WARN")],Te(H,"level=",C),C[C.length-1]},-1),N(A,"$add",function fe(W,ee,M){var C=fe.$$p||Be,k=this,H=Be;return fe.$$p=null,ee==null&&(ee=Be),M==null&&(M=Be),ve(g(W=ve(H=W)?H:se("UNKNOWN"),k.max_severity=ve(H=k.max_severity)?H:W))&&(k.max_severity=W),Z(k,c(k,"add",fe,!1,!0),"add",[W,ee,M],C)},-2),function(fe,W,ee){var M=U(fe,W,"BasicFormatter"),C=[M].concat(ee),k=t.$r(C);return We(C[0],"SEVERITY_LABEL_SUBSTITUTES",he(["WARN","FATAL"],{WARN:"WARNING",FATAL:"FAILED"})),N(M,"$call",function(j,X,R,u){var r=Be;return""+R+": "+(ve(r=k("SEVERITY_LABEL_SUBSTITUTES")["$[]"](j))?r:j)+": "+(Pe(Ge("String"),u)?u:u.$inspect())+k("LF")})}(Le[0],se("Formatter"),Le),function(fe){var W=Y(fe,"AutoFormattingMessage");return N(W,"$inspect",function(){var M=this,C=Be;return ve(C=M["$[]"]("source_location"))?""+C+": "+M["$[]"]("text"):M["$[]"]("text")})}(Le[0])}(m[0],Ge("Logger"),m),function(Je,rt,L){var A=U(Je,rt,"MemoryLogger"),Le=[A].concat(L),se=t.$r(Le),ge=A.$$prototype;return ge.messages=Be,We(Le[0],"SEVERITY_SYMBOL_BY_VALUE",Te(se("Severity").$constants(!1),"map",[],function(W){return W==null&&(W=Be),[se("Severity").$const_get(W),W]}).$to_h()),A.$attr_reader("messages"),N(A,"$initialize",function(){var W=this;return W["$level="](se("WARN")),W.messages=[]}),N(A,"$add",function fe(W,ee,M){var C=fe.$$p||Be,k=this,H=Be;return fe.$$p=null,ee==null&&(ee=Be),M==null&&(M=Be),ee=ve(H=ee)?H:C!==Be?t.yieldX(C,[]):M,k.messages["$<<"](he(["severity","message"],{severity:se("SEVERITY_SYMBOL_BY_VALUE")["$[]"](ve(H=W)?H:se("UNKNOWN")),message:ee})),!0},-2),N(A,"$clear",function(){var W=this;return W.messages.$clear()}),N(A,"$empty?",function(){var W=this;return W.messages["$empty?"]()}),N(A,"$max_severity",function(){var W=this;return ve(W["$empty?"]())?Be:Te(W.messages,"map",[],function(M){return M==null&&(M=Be),se("Severity").$const_get(M["$[]"]("severity"))}).$max()})}(m[0],Ge("Logger"),m),function(Je,rt,L){var A=U(Je,rt,"NullLogger"),Le=[A].concat(L),se=t.$r(Le),ge=A.$$prototype;return ge.max_severity=Be,A.$attr_reader("max_severity"),N(A,"$initialize",function(){var W,ee=this;return W=[se("WARN")],Te(ee,"level=",W),W[W.length-1]}),N(A,"$add",function(W,ee,M){var C=this,k=Be;return ve(g(W=ve(k=W)?k:se("UNKNOWN"),C.max_severity=ve(k=C.max_severity)?k:W))&&(C.max_severity=W),!0},-2)}(m[0],Ge("Logger"),m),function(Je,rt){var L=Y(Je,"LoggerManager"),A=[L].concat(rt),Le=t.$r(A);return L.logger_class=Le("Logger"),function(se,ge){return se.$attr_accessor("logger_class"),N(se,"$logger",function(W){var ee=this,M=Be;return ee.logger==null&&(ee.logger=Be),ee.logger_class==null&&(ee.logger_class=Be),be.stderr==null&&(be.stderr=Be),W==null&&(W=be.stderr),ee.$memoize_logger(),ee.logger=ve(M=ee.logger)?M:ee.logger_class.$new(W)},-1),N(se,"$logger=",function(W){var ee=this,M=Be;return ee.logger_class==null&&(ee.logger_class=Be),be.stderr==null&&(be.stderr=Be),ee.logger=ve(M=W)?M:ee.logger_class.$new(be.stderr)}),se.$private(),N(se,"$memoize_logger",function(){var W=this;return function(ee,M){return Se(ee,"logger","logger"),ee.$attr_reader("logger")}(t.get_singleton_class(W))})}(t.get_singleton_class(L))}(m[0],m),function(Je,rt){var L=Y(Je,"Logging"),A=[L].concat(rt),Le=t.$r(A);return st(L,"$included",function(ge){return ge.$extend(Le("Logging"))}),L.$private_class_method("included"),N(L,"$logger",function(){return Le("LoggerManager").$logger()}),N(L,"$message_with_context",function(ge,fe){return fe==null&&(fe=he([],{})),he(["text"],{text:ge}).$merge(fe).$extend(Ge(Le("Logger"),"AutoFormattingMessage"))},-2)}(m[0],m)}(Oe[0],Oe)},Opal.modules["asciidoctor/rx"]=function(t){var Y=t.module,U=t.const_set,T=t.regexp,Z=t.hash2,c=t.send,z=t.truthy,Te=t.hash,N=[],ve=t.nil,g=t.$$$;return t.add_stubs("join,to_a,new,[]=,empty?,escape"),function(We,he){var Pe=Y(We,"Asciidoctor"),be=[Pe].concat(he),Se=t.$r(be);return Y(be[0],"Rx"),U(be[0],"AuthorInfoLineRx",T(["^(",Se("CG_WORD"),"[",Se("CC_WORD"),"\\-'.]*)(?: +(",Se("CG_WORD"),"[",Se("CC_WORD"),"\\-'.]*))?(?: +(",Se("CG_WORD"),"[",Se("CC_WORD"),"\\-'.]*))?(?: +<([^>]+)>)?$"])),U(be[0],"AuthorDelimiterRx",/;(?: |$)/),U(be[0],"RevisionInfoLineRx",T(["^(?:[^\\d{]*(",Se("CC_ANY"),"*?),)? *(?!:)(",Se("CC_ANY"),"*?)(?: *(?!^),?: *(",Se("CC_ANY"),"*))?$"])),U(be[0],"ManpageTitleVolnumRx",T(["^(",Se("CC_ANY"),"+?) *\\( *(",Se("CC_ANY"),"+?) *\\)$"])),U(be[0],"ManpageNamePurposeRx",T(["^(",Se("CC_ANY"),"+?) +- +(",Se("CC_ANY"),"+)$"])),U(be[0],"ConditionalDirectiveRx",T(["^(\\\\)?(ifdef|ifndef|ifeval|endif)::(\\S*?(?:([,+])\\S*?)?)\\[(",Se("CC_ANY"),"+)?\\]$"])),U(be[0],"EvalExpressionRx",T(["^(",Se("CC_ANY"),"+?) *([=!><]=|[><]) *(",Se("CC_ANY"),"+)$"])),U(be[0],"IncludeDirectiveRx",T(["^(\\\\)?include::([^\\s\\[](?:[^\\[]*[^\\s\\[])?)\\[(",Se("CC_ANY"),"+)?\\]$"])),U(be[0],"TagDirectiveRx",/\b(?:tag|(e)nd)::(\S+?)\[\](?=$|[ \r])/m),U(be[0],"AttributeEntryRx",T(["^:(!?",Se("CG_WORD"),"[^:]*):(?:[ \\t]+(",Se("CC_ANY"),"*))?$"])),U(be[0],"InvalidAttributeNameCharsRx",T(["[^",Se("CC_WORD"),"-]"])),U(be[0],"AttributeEntryPassMacroRx",T(["^pass:([a-z]+(?:,[a-z-]+)*)?\\[(",Se("CC_ALL"),"*)\\]$"])),U(be[0],"AttributeReferenceRx",T(["(\\\\)?\\{(",Se("CG_WORD"),"[",Se("CC_WORD"),"-]*|(set|counter2?):",Se("CC_ANY"),"+?)(\\\\)?\\}"])),U(be[0],"BlockAnchorRx",T(["^\\[\\[(?:|([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+))?)\\]\\]$"])),U(be[0],"BlockAttributeListRx",T(["^\\[(|[",Se("CC_WORD"),`.#%{,"']`,Se("CC_ANY"),"*)\\]$"])),U(be[0],"BlockAttributeLineRx",T(["^\\[(?:|[",Se("CC_WORD"),`.#%{,"']`,Se("CC_ANY"),"*|\\[(?:|[",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*(?:, *",Se("CC_ANY"),"+)?)\\])\\]$"])),U(be[0],"BlockTitleRx",T(["^\\.(\\.?[^ \\t.]",Se("CC_ANY"),"*)$"])),U(be[0],"AdmonitionParagraphRx",T(["^(",Se("ADMONITION_STYLES").$to_a().$join("|"),"):[ \\t]+"])),U(be[0],"LiteralParagraphRx",T(["^([ \\t]+",Se("CC_ANY"),"*)$"])),U(be[0],"AtxSectionTitleRx",T(["^(=={0,5})[ \\t]+(",Se("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),U(be[0],"ExtAtxSectionTitleRx",T(["^(=={0,5}|#\\#{0,5})[ \\t]+(",Se("CC_ANY"),"+?)(?:[ \\t]+\\1)?$"])),U(be[0],"SetextSectionTitleRx",T(["^((?!\\.)",Se("CC_ANY"),"*?",Se("CG_ALNUM"),Se("CC_ANY"),"*)$"])),U(be[0],"InlineSectionAnchorRx",T([" (\\\\)?\\[\\[([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+))?\\]\\]$"])),U(be[0],"InvalidSectionIdCharsRx",T(["<[^>]+>|&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^ ",Se("CC_WORD"),"\\-.]+?"])),U(be[0],"SectionLevelStyleRx",/^sect\d$/),U(be[0],"AnyListRx",T(["^(?:[ \\t]*(?:-|\\*\\**|\\.\\.*|\\u2022|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]|(?!//[^/])[ \\t]*[^ \\t]",Se("CC_ANY"),"*?(?::::{0,2}|;;)(?:$|[ \\t])|<(?:\\d+|\\.)>[ \\t])"])),U(be[0],"UnorderedListRx",T(["^[ \\t]*(-|\\*\\**|\\u2022)[ \\t]+(",Se("CC_ANY"),"*)$"])),U(be[0],"OrderedListRx",T(["^[ \\t]*(\\.\\.*|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))[ \\t]+(",Se("CC_ANY"),"*)$"])),U(be[0],"OrderedListMarkerRxMap",Z(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),U(be[0],"DescriptionListRx",T(["^(?!//[^/])[ \\t]*([^ \\t]",Se("CC_ANY"),"*?)(:::{0,2}|;;)(?:$|[ \\t]+(",Se("CC_ANY"),"*)$)"])),U(be[0],"DescriptionListSiblingRx",Z(["::",":::","::::",";;"],{"::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Se("CC_ANY"),"*?[^:]|[^ \\t:])(::)(?:$|[ \\t]+(",Se("CC_ANY"),"*)$)"]),":::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Se("CC_ANY"),"*?[^:]|[^ \\t:])(:::)(?:$|[ \\t]+(",Se("CC_ANY"),"*)$)"]),"::::":T(["^(?!//[^/])[ \\t]*([^ \\t]",Se("CC_ANY"),"*?[^:]|[^ \\t:])(::::)(?:$|[ \\t]+(",Se("CC_ANY"),"*)$)"]),";;":T(["^(?!//[^/])[ \\t]*([^ \\t]",Se("CC_ANY"),"*?)(;;)(?:$|[ \\t]+(",Se("CC_ANY"),"*)$)"])})),U(be[0],"CalloutListRx",T(["^<(\\d+|\\.)>[ \\t]+(",Se("CC_ANY"),"*)$"])),U(be[0],"CalloutExtractRx",/((?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+|\.)\3>(?=(?: ?\\?<!?\3(?:\d+|\.)\3>)*$)/),U(be[0],"CalloutExtractRxt","(\\\\)?<()(\\d+|\\.)>(?=(?: ?\\\\?<(?:\\d+|\\.)>)*$)"),U(be[0],"CalloutExtractRxMap",c(g("Hash"),"new",[],function(De,Oe){var Be;return De==null&&(De=ve),Oe==null&&(Oe=ve),Be=[Oe,T(["(",z(Oe["$empty?"]())?"":""+g("Regexp").$escape(Oe)+" ?",")?",Se("CalloutExtractRxt")])],c(De,"[]=",Be),Be[Be.length-1]})),U(be[0],"CalloutScanRx",T(["\\\\?<!?(|--)(\\d+|\\.)\\1>(?=(?: ?\\\\?<!?\\1(?:\\d+|\\.)\\1>)*",Se("CC_EOL"),")"])),U(be[0],"CalloutSourceRx",T(["((?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+|\\.)\\3&gt;(?=(?: ?\\\\?&lt;!?\\3(?:\\d+|\\.)\\3&gt;)*",Se("CC_EOL"),")"])),U(be[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+|\\.)&gt;(?=(?: ?\\\\?&lt;(?:\\d+|\\.)&gt;)*"+Se("CC_EOL")+")"),U(be[0],"CalloutSourceRxMap",c(g("Hash"),"new",[],function(De,Oe){var Be;return De==null&&(De=ve),Oe==null&&(Oe=ve),Be=[Oe,T(["(",z(Oe["$empty?"]())?"":""+g("Regexp").$escape(Oe)+" ?",")?",Se("CalloutSourceRxt")])],c(De,"[]=",Be),Be[Be.length-1]})),U(be[0],"ListRxMap",Z(["ulist","olist","dlist","colist"],{ulist:Se("UnorderedListRx"),olist:Se("OrderedListRx"),dlist:Se("DescriptionListRx"),colist:Se("CalloutListRx")})),U(be[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?|~)?([a-z])?$/),U(be[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),U(be[0],"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/),U(be[0],"CustomBlockMacroRx",T(["^(",Se("CG_WORD"),"[",Se("CC_WORD"),"-]*)::(|\\S|\\S",Se("CC_ANY"),"*?\\S)\\[(",Se("CC_ANY"),"+)?\\]$"])),U(be[0],"BlockMediaMacroRx",T(["^(image|video|audio)::(\\S|\\S",Se("CC_ANY"),"*?\\S)\\[(",Se("CC_ANY"),"+)?\\]$"])),U(be[0],"BlockTocMacroRx",T(["^toc::\\[(",Se("CC_ANY"),"+)?\\]$"])),U(be[0],"InlineAnchorRx",T(["(\\\\)?(?:\\[\\[([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+?))?\\]\\]|anchor:([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",Se("CC_ANY"),"*?[^\\\\])\\]))"])),U(be[0],"InlineAnchorScanRx",T(["(?:^|[^\\\\\\[])\\[\\[([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+?))?\\]\\]|(?:^|[^\\\\])anchor:([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)\\[(?:\\]|(",Se("CC_ANY"),"*?[^\\\\])\\])"])),U(be[0],"LeadingInlineAnchorRx",T(["^\\[\\[([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+?))?\\]\\]"])),U(be[0],"InlineBiblioAnchorRx",T(["^\\[\\[\\[([",Se("CC_ALPHA"),"_:][",Se("CC_WORD"),"\\-:.]*)(?:, *(",Se("CC_ANY"),"+?))?\\]\\]\\]"])),U(be[0],"InlineEmailRx",T(["([\\\\>:/])?",Se("CG_WORD"),"(?:&amp;|[",Se("CC_WORD"),"\\-.%+])*@",Se("CG_ALNUM"),"[",Se("CC_ALNUM"),"_\\-.]*\\.[a-zA-Z]{2,5}\\b"])),U(be[0],"InlineFootnoteMacroRx",T(["\\\\?footnote(?:(ref):|:([",Se("CC_WORD"),"-]+)?)\\[(?:|(",Se("CC_ALL"),"*?[^\\\\]))\\](?!</a>)"],"m")),U(be[0],"InlineImageMacroRx",T(["\\\\?i(?:mage|con):([^:\\s\\[](?:[^\\n\\[]*[^\\s\\[])?)\\[(|",Se("CC_ALL"),"*?[^\\\\])\\]"],"m")),U(be[0],"InlineIndextermMacroRx",T(["\\\\?(?:(indexterm2?):\\[(",Se("CC_ALL"),"*?[^\\\\])\\]|\\(\\((",Se("CC_ALL"),"+?)\\)\\)(?!\\)))"],"m")),U(be[0],"InlineKbdBtnMacroRx",T(["(\\\\)?(kbd|btn):\\[(",Se("CC_ALL"),"*?[^\\\\])\\]"],"m")),U(be[0],"InlineLinkRx",T(["(^|link:|",Se("CG_BLANK"),`|&lt;|[>\\(\\)\\[\\];"'])(\\\\?(?:https?|file|ftp|irc)://)(?:([^\\s\\[\\]]+)\\[(|`,Se("CC_ALL"),"*?[^\\\\])\\]|([^\\s\\[\\]<]*([^\\s,.?!\\[\\]<\\)])))"],"m")),U(be[0],"InlineLinkMacroRx",T(["\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|",Se("CC_ALL"),"*?[^\\\\])\\]"],"m")),U(be[0],"MacroNameRx",T(["^",Se("CG_WORD"),"[",Se("CC_WORD"),"-]*$"])),U(be[0],"InlineStemMacroRx",T(["\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z-]+)*)?\\[(",Se("CC_ALL"),"*?[^\\\\])\\]"],"m")),U(be[0],"InlineMenuMacroRx",T(["\\\\?menu:(",Se("CG_WORD"),"|[",Se("CC_WORD"),"&][^\\n\\[]*[^\\s\\[])\\[ *(?:|(",Se("CC_ALL"),"*?[^\\\\]))\\]"],"m")),U(be[0],"InlineMenuRx",T(['\\\\?"([',Se("CC_WORD"),'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'])),U(be[0],"InlinePassRx",Te(!1,["+","-]",T(["((?:^|[^",Se("CC_WORD"),";:\\\\])(?=(\\[)|\\+)|\\\\(?=\\[)|(?=\\\\\\+))(?:\\2(x-|[^\\]]+ x-)\\]|(?:\\[([^\\]]+)\\])?(?=(\\\\)?\\+))(\\5?(\\+|`)(\\S|\\S",Se("CC_ALL"),"*?\\S)\\7)(?!",Se("CG_WORD"),")"],"m")],!0,["`",ve,T(["(^|[^`",Se("CC_WORD"),"])(?:(\\Z)()|\\[([^\\]]+)\\](?=(\\\\))?)?(\\5?(`)([^`\\s]|[^`\\s]",Se("CC_ALL"),"*?\\S)\\7)(?![`",Se("CC_WORD"),"])"],"m")])),U(be[0],"InlinePassMacroRx",T(["(?:(?:(\\\\?)\\[([^\\]]+)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)(",Se("CC_ALL"),"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z-]+)*)?\\[(|",Se("CC_ALL"),"*?[^\\\\])\\])"],"m")),U(be[0],"InlineXrefMacroRx",T(["\\\\?(?:&lt;&lt;([",Se("CC_WORD"),"#/.:{]",Se("CC_ALL"),"*?)&gt;&gt;|xref:([",Se("CC_WORD"),"#/.:{]",Se("CC_ALL"),"*?)\\[(?:\\]|(",Se("CC_ALL"),"*?[^\\\\])\\]))"],"m")),U(be[0],"HardLineBreakRx",T(["^(",Se("CC_ANY"),"*) \\+$"],"m")),U(be[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/),U(be[0],"ExtLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/),U(be[0],"BlankLineRx",/\n{2,}/),U(be[0],"EscapedSpaceRx",/\\([ \t\n])/),U(be[0],"ReplaceableTextRx",/[&']|--|\.\.\.|\([CRT]M?\)/),U(be[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/),U(be[0],"SubModifierSniffRx",/[+-]/),U(be[0],"TrailingDigitsRx",/\d+$/),U(be[0],"UriSniffRx",T(["^",Se("CG_ALPHA"),"[",Se("CC_ALNUM"),".+-]+:/{0,2}"])),U(be[0],"XmlSanitizeRx",/<[^>]+>/)}(N[0],N)},Opal.modules["asciidoctor/substitutors"]=function(t){var Y=t.module,U=t.const_set,T=t.hash2,Z=t.hash,c=t.rb_plus,z=t.regexp,Te=t.not,N=t.truthy,ve=t.send,g=t.def,We=t.alias,he=t.gvars,Pe=t.eqeq,be=t.to_ary,Se=t.neqeq,st=t.to_a,De=t.eqeqeq,Oe=t.rb_gt,Be=t.slice,Ge=t.rb_minus,it=t.rb_lt,y=t.rb_times,Xe=[],m=t.nil,Je=t.$$$;return t.add_stubs("freeze,+,keys,!,empty?,===,[],join,include?,extract_passthroughs,each,sub_specialchars,sub_quotes,sub_attributes,sub_replacements,sub_macros,highlight_source,sub_callouts,sub_post_replacements,warn,logger,restore_passthroughs,clear,split,apply_subs,gsub,match?,compat_mode,convert_quoted_text,attributes,==,shift,store_attribute,!=,attribute_undefined,counter,key?,downcase,attribute_missing,info,squeeze,delete,reject,start_with?,do_replacement,inline_macros?,extensions,inline_macros,regexp,instance,slice,length,names,config,merge,[]=,normalize_text,parse_attributes,process_method,expand_subs,text=,text,convert,class,strip,index,min,compact,>,end_with?,map,chop,new,pop,rstrip,register,tr,basename,parse,lstrip,split_simple_csv,-,partition,extract_attributes_from_text,sub,encode_uri_component,style,extname?,rindex,catalog,info?,fetch,outfilesuffix,natural_xrefs,resolve_id,find,footnotes,id,<,size,<<,attr?,attr,to_s,read_next_id,callouts,highlight?,syntax_highlighter,sub_source,extract_callouts,name,to_i,to_sym,resolve_lines_to_highlight,highlight,nil_or_empty?,restore_callouts,count,to_a,|,sort,*,parse_quoted_text_attributes,resolve_pass_subs,basebackend?,error,chr,drop,&,resolve_subs,resolve_block_subs,parse_into,private,shorthand_property_syntax,each_char"),function(rt,L){var A=Y(rt,"Asciidoctor"),Le=[A].concat(L);return function(se,ge){var fe=Y(se,"Substitutors"),W=[fe].concat(ge),ee=t.$r(W);return U(W[0],"SpecialCharsRx",/[<&>]/),U(W[0],"SpecialCharsTr",T([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"})),U(W[0],"QuotedTextSniffRx",Z(!1,/[*_`#^~]/,!0,/[*'_+#^~]/)),U(W[0],"BASIC_SUBS",["specialcharacters"]).$freeze(),U(W[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze(),U(W[0],"NO_SUBS",[]).$freeze(),U(W[0],"NORMAL_SUBS",["specialcharacters","quotes","attributes","replacements","macros","post_replacements"]).$freeze(),U(W[0],"REFTEXT_SUBS",["specialcharacters","quotes","replacements"]).$freeze(),U(W[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze(),U(W[0],"SUB_GROUPS",T(["none","normal","verbatim","specialchars"],{none:ee("NO_SUBS"),normal:ee("NORMAL_SUBS"),verbatim:ee("VERBATIM_SUBS"),specialchars:ee("BASIC_SUBS")})),U(W[0],"SUB_HINTS",T(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),U(W[0],"SUB_OPTIONS",T(["block","inline"],{block:c(c(ee("SUB_GROUPS").$keys(),ee("NORMAL_SUBS")),["callouts"]),inline:c(ee("SUB_GROUPS").$keys(),ee("NORMAL_SUBS"))})),U(W[0],"CAN",""),U(W[0],"DEL",""),U(W[0],"PASS_START",""),U(W[0],"PASS_END",""),U(W[0],"PassSlotRx",z([ee("PASS_START"),"(\\d+)",ee("PASS_END")])),U(W[0],"HighlightedPassSlotRx",z(["<span\\b[^>]*>",ee("PASS_START"),"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*>",ee("PASS_END"),"</span>"])),U(W[0],"RS","\\"),U(W[0],"R_SB","]"),U(W[0],"ESC_R_SB","\\]"),U(W[0],"PLUS","+"),g(fe,"$apply_subs",function(C,k){var H=this,j=m,X=m,R=m,u=m;return H.passthroughs==null&&(H.passthroughs=m),H.passthroughs_locked==null&&(H.passthroughs_locked=m),k==null&&(k=ee("NORMAL_SUBS")),N(C["$empty?"]())||Te(k)?C:(N(j=Je("Array")["$==="](C))&&(C=N(C["$[]"](1))?C.$join(ee("LF")):C["$[]"](0)),N(k["$include?"]("macros"))&&(C=H.$extract_passthroughs(C),N(H.passthroughs["$empty?"]())||(X=H.passthroughs,H.passthroughs_locked=N(R=H.passthroughs_locked)?R:u=!0)),ve(k,"each",[],function r(l){var b=r.$$s==null?this:r.$$s;switch(l==null&&(l=m),l){case"specialcharacters":return C=b.$sub_specialchars(C);case"quotes":return C=b.$sub_quotes(C);case"attributes":return N(C["$include?"](ee("ATTR_REF_HEAD")))?C=b.$sub_attributes(C):m;case"replacements":return C=b.$sub_replacements(C);case"macros":return C=b.$sub_macros(C);case"highlight":return C=b.$highlight_source(C,k["$include?"]("callouts"));case"callouts":return N(k["$include?"]("highlight"))?m:C=b.$sub_callouts(C);case"post_replacements":return C=b.$sub_post_replacements(C);default:return b.$logger().$warn("unknown substitution type "+l)}},{$$s:H}),N(X)&&(C=H.$restore_passthroughs(C),N(u)&&(X.$clear(),H.passthroughs_locked=m)),N(j)?C.$split(ee("LF"),-1):C)},-2),g(fe,"$apply_normal_subs",function(C){var k=this;return k.$apply_subs(C,ee("NORMAL_SUBS"))}),g(fe,"$apply_header_subs",function(C){var k=this;return k.$apply_subs(C,ee("HEADER_SUBS"))}),We(fe,"apply_title_subs","apply_subs"),g(fe,"$apply_reftext_subs",function(C){var k=this;return k.$apply_subs(C,ee("REFTEXT_SUBS"))}),g(fe,"$sub_specialchars",function(C){return N(C["$include?"](">"))||N(C["$include?"]("&"))||N(C["$include?"]("<"))?C.$gsub(ee("SpecialCharsRx"),ee("SpecialCharsTr")):C}),We(fe,"sub_specialcharacters","sub_specialchars"),g(fe,"$sub_quotes",function(C){var k=this,H=m;return k.document==null&&(k.document=m),N(ee("QuotedTextSniffRx")["$[]"](H=k.document.$compat_mode())["$match?"](C))&&ve(ee("QUOTE_SUBS")["$[]"](H),"each",[],function j(X,R,u){var r=j.$$s==null?this:j.$$s;return X==null&&(X=m),R==null&&(R=m),u==null&&(u=m),C=ve(C,"gsub",[u],function l(){var b=l.$$s==null?this:l.$$s;return he["~"]==null&&(he["~"]=m),b.$convert_quoted_text(he["~"],X,R)},{$$s:r})},{$$s:k}),C}),g(fe,"$sub_attributes",function(C,k){var H=this,j=m,X=m,R=m,u=m,r=m,l=m,b=m,d=m;return H.document==null&&(H.document=m),k==null&&(k=T([],{})),j=H.document.$attributes(),X=R=u=r=l=b=m,C=ve(C,"gsub",[ee("AttributeReferenceRx")],function f(){var S,q,J=f.$$s==null?this:f.$$s,G=m,$e=m,ke=m,He=m,Ze=m,$t=m;if(J.document==null&&(J.document=m),Pe((S=he["~"])===m?m:S["$[]"](1),ee("RS"))||Pe((S=he["~"])===m?m:S["$[]"](4),ee("RS")))return"{"+((S=he["~"])===m?m:S["$[]"](2))+"}";if(N((S=he["~"])===m?m:S["$[]"](3)))switch((G=((S=he["~"])===m?m:S["$[]"](2)).$split(":",3)).$shift()){case"set":return q=ee("Parser").$store_attribute(G["$[]"](0),N($e=G["$[]"](1))?$e:"",J.document),S=be(q),S[0]==null||S[0],ke=S[1]==null?m:S[1],N(ke)||Se(l=N($e=l)?$e:N(He=j["$[]"]("attribute-undefined"))?He:ee("Compliance").$attribute_undefined(),"drop-line")?X=r=ee("DEL"):X=R=ee("CAN");case"counter2":return ve(J.document,"counter",st(G)),X=r=ee("DEL");default:return ve(J.document,"counter",st(G))}else{if(N(j["$key?"](Ze=((S=he["~"])===m?m:S["$[]"](2)).$downcase())))return j["$[]"](Ze);if(N(ke=ee("INTRINSIC_ATTRIBUTES")["$[]"](Ze)))return ke;switch(b=N($e=b)?$e:N(He=N($t=k["$[]"]("attribute_missing"))?$t:j["$[]"]("attribute-missing"))?He:ee("Compliance").$attribute_missing()){case"drop":return X=r=ee("DEL");case"drop-line":return Pe(u=N($e=u)?$e:N(He=k["$[]"]("drop_line_severity"))?He:"info","info")&&ve(J.$logger(),"info",[],function(){return"dropping line containing reference to missing attribute: "+Ze}),X=R=ee("CAN");case"warn":return J.$logger().$warn("skipping reference to missing attribute: "+Ze),(S=he["~"])===m?m:S["$[]"](0);default:return(S=he["~"])===m?m:S["$[]"](0)}}},{$$s:H}),N(X)?N(r)?(d=C.$squeeze(ee("DEL")).$split(ee("LF"),-1),N(R)?ve(d,"reject",[],function(S){var q=m,J=m,G=m;return S==null&&(S=m),N(q=N(J=N(G=S["$=="](ee("DEL")))?G:S["$=="](ee("CAN")))?J:S["$start_with?"](ee("CAN")))?q:S["$include?"](ee("CAN"))}).$join(ee("LF")).$delete(ee("DEL")):ve(d,"reject",[],function(S){return S==null&&(S=m),S["$=="](ee("DEL"))}).$join(ee("LF")).$delete(ee("DEL"))):N(C["$include?"](ee("LF")))?ve(C.$split(ee("LF"),-1),"reject",[],function(S){var q=m,J=m;return S==null&&(S=m),N(q=N(J=S["$=="](ee("CAN")))?J:S["$start_with?"](ee("CAN")))?q:S["$include?"](ee("CAN"))}).$join(ee("LF")):"":C},-2),g(fe,"$sub_replacements",function(C){var k=this;return N(ee("ReplaceableTextRx")["$match?"](C))&&ve(ee("REPLACEMENTS"),"each",[],function H(j,X,R){var u=H.$$s==null?this:H.$$s;return j==null&&(j=m),X==null&&(X=m),R==null&&(R=m),C=ve(C,"gsub",[j],function r(){var l=r.$$s==null?this:r.$$s;return he["~"]==null&&(he["~"]=m),l.$do_replacement(he["~"],X,R)},{$$s:u})},{$$s:k}),C}),g(fe,"$sub_macros",function(C){var k=this,H=m,j=m,X=m,R=m,u=m,r=m,l=m,b=m;return k.document==null&&(k.document=m),k.parent==null&&(k.parent=m),k.context==null&&(k.context=m),H=C["$include?"]("["),j=C["$include?"](":"),X=N(R=H)?j:R,u=N(R=X)?C["$include?"](":["):R,r=(l=k.document).$attributes(),N(b=l.$extensions())&&N(b["$inline_macros?"]())&&ve(b.$inline_macros(),"each",[],function d(f){var S=d.$$s==null?this:d.$$s;return f==null&&(f=m),C=ve(C,"gsub",[f.$instance().$regexp()],function q(){var J,G,$e=q.$$s==null?this:q.$$s,ke=m,He=m,Ze=m,$t=m,et=m,at=m,ct=m,ft=m,ut=m;return he["~"]==null&&(he["~"]=m),N((ke=(J=he["~"])===m?m:J["$[]"](0))["$start_with?"](ee("RS")))?((J=he["~"])===m?m:J["$[]"](0)).$slice(1,((J=he["~"])===m?m:J["$[]"](0)).$length()):(N(he["~"].$names()["$empty?"]())?(J=[(G=he["~"])===m?m:G["$[]"](1),(G=he["~"])===m?m:G["$[]"](2)],He=J[0],Ze=J[1]):(J=[function(){try{return he["~"]["$[]"]("target")}catch(ht){if(t.rescue(ht,[ee("StandardError")]))try{return m}finally{t.pop_exception()}else throw ht}}(),function(){try{return he["~"]["$[]"]("content")}catch(ht){if(t.rescue(ht,[ee("StandardError")]))try{return m}finally{t.pop_exception()}else throw ht}}()],He=J[0],Ze=J[1]),$t=N(et=(at=f.$config())["$[]"]("default_attrs"))?et.$merge():T([],{}),N(Ze)&&(N(Ze["$empty?"]())?Pe(at["$[]"]("content_model"),"attributes")||$t["$[]="]("text",Ze):(Ze=$e.$normalize_text(Ze,!0,!0),Pe(at["$[]"]("content_model"),"attributes")?$e.$parse_attributes(Ze,N(R=N(ct=at["$[]"]("positional_attrs"))?ct:at["$[]"]("pos_attrs"))?R:[],T(["into"],{into:$t})):$t["$[]="]("text",Ze)),He=N(R=He)?R:Pe(at["$[]"]("format"),"short")?Ze:He),De(ee("Inline"),ft=f.$process_method()["$[]"]($e,He,$t))?(N(ut=ft.$attributes().$delete("subs"))&&N(ut=$e.$expand_subs(ut,"custom inline macro"))&&ft["$text="]($e.$apply_subs(ft.$text(),ut)),ft.$convert()):N(ft)?(ve($e.$logger(),"info",[],function(){return"expected substitution value for custom inline macro to be of type Inline; got "+ft.$class()+": "+ke}),ft):"")},{$$s:S})},{$$s:k}),N(r["$key?"]("experimental"))&&(N(u)&&(N(C["$include?"]("kbd:"))||N(C["$include?"]("btn:")))&&(C=ve(C,"gsub",[ee("InlineKbdBtnMacroRx")],function d(){var f,S=d.$$s==null?this:d.$$s,q=m,J=m,G=m;return N((f=he["~"])===m?m:f["$[]"](1))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):Pe((f=he["~"])===m?m:f["$[]"](2),"kbd")?(N((q=((f=he["~"])===m?m:f["$[]"](3)).$strip())["$include?"](ee("R_SB")))&&(q=q.$gsub(ee("ESC_R_SB"),ee("R_SB"))),N(Oe(q.$length(),1))&&N(J=N(J=q.$index(",",1))?[J,q.$index("+",1)].$compact().$min():q.$index("+",1))?(G=q.$slice(J,1),N(q["$end_with?"](G))?(q=ve(q.$chop().$split(G,-1),"map",[],function(ke){return ke==null&&(ke=m),ke.$strip()}),q["$[]="](-1,c(q["$[]"](-1),G))):q=ve(q.$split(G),"map",[],function(ke){return ke==null&&(ke=m),ke.$strip()})):q=[q],ee("Inline").$new(S,"kbd",m,T(["attributes"],{attributes:T(["keys"],{keys:q})})).$convert()):ee("Inline").$new(S,"button",S.$normalize_text((f=he["~"])===m?m:f["$[]"](3),!0,!0)).$convert()},{$$s:k})),N(X)&&N(C["$include?"]("menu:"))&&(C=ve(C,"gsub",[ee("InlineMenuMacroRx")],function d(){var f,S=d.$$s==null?this:d.$$s,q=m,J=m,G=m,$e=m,ke=m;return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(q=(f=he["~"])===m?m:f["$[]"](1),N(J=(f=he["~"])===m?m:f["$[]"](2))?(N(J["$include?"](ee("R_SB")))&&(J=J.$gsub(ee("ESC_R_SB"),ee("R_SB"))),N(G=N(J["$include?"]("&gt;"))?"&gt;":N(J["$include?"](","))?",":m)?($e=ve(J.$split(G),"map",[],function(Ze){return Ze==null&&(Ze=m),Ze.$strip()}),ke=$e.$pop()):(f=[[],J.$rstrip()],$e=f[0],ke=f[1])):(f=[[],m],$e=f[0],ke=f[1]),ee("Inline").$new(S,"menu",m,T(["attributes"],{attributes:T(["menu","submenus","menuitem"],{menu:q,submenus:$e,menuitem:ke})})).$convert())},{$$s:k})),N(C["$include?"]('"'))&&N(C["$include?"]("&gt;"))&&(C=ve(C,"gsub",[ee("InlineMenuRx")],function d(){var f,S,q,J=d.$$s==null?this:d.$$s,G=m,$e=m,ke=m;return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(S=ve(((q=he["~"])===m?m:q["$[]"](1)).$split("&gt;"),"map",[],function(Ze){return Ze==null&&(Ze=m),Ze.$strip()}),f=be(S),G=f[0]==null?m:f[0],$e=Be(f,1),ke=$e.$pop(),ee("Inline").$new(J,"menu",m,T(["attributes"],{attributes:T(["menu","submenus","menuitem"],{menu:G,submenus:$e,menuitem:ke})})).$convert())},{$$s:k}))),N(X)&&(N(C["$include?"]("image:"))||N(C["$include?"]("icon:")))&&(C=ve(C,"gsub",[ee("InlineImageMacroRx")],function d(){var f,S=d.$$s==null?this:d.$$s,q=m,J=m,G=m,$e=m;return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"]("icon:"))?(f=["icon",["size"]],q=f[0],J=f[1]):(f=["image",["alt","width","height"]],q=f[0],J=f[1]),G=(f=he["~"])===m?m:f["$[]"](1),$e=S.$parse_attributes((f=he["~"])===m?m:f["$[]"](2),J,T(["unescape_input"],{unescape_input:!0})),Pe(q,"icon")||(l.$register("images",G),$e["$[]="]("imagesdir",r["$[]"]("imagesdir"))),N(R=$e["$[]"]("alt"))||$e["$[]="]("alt",(f=["default-alt",ee("Helpers").$basename(G,!0).$tr("_-"," ")],ve($e,"[]=",f),f[f.length-1])),ee("Inline").$new(S,"image",m,T(["type","target","attributes"],{type:q,target:G,attributes:$e})).$convert())},{$$s:k})),(N(C["$include?"]("(("))&&N(C["$include?"]("))"))||N(u)&&N(C["$include?"]("dexterm")))&&(C=ve(C,"gsub",[ee("InlineIndextermMacroRx")],function d(){var f,S,q=d.$$s==null?this:d.$$s,J=m,G=m,$e=m,ke=m,He=m,Ze=m,$t=m,et=m,at=m,ct=m,ft=m,ut=m,ht=m,dt=m;switch((f=he["~"])===m?m:f["$[]"](1)){case"indexterm":return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(N((J=q.$normalize_text((f=he["~"])===m?m:f["$[]"](2),!0,!0))["$include?"]("="))?N(G=($e=ee("AttributeList").$new(J,q).$parse())["$[]"](1))?($e["$[]="]("terms",[G]),N(ke=$e["$[]"]("see-also"))&&$e["$[]="]("see-also",N(ke["$include?"](","))?ve(ke.$split(","),"map",[],function(yt){return yt==null&&(yt=m),yt.$lstrip()}):[ke])):$e=T(["terms"],{terms:J}):$e=T(["terms"],{terms:q.$split_simple_csv(J)}),ee("Inline").$new(q,"indexterm",m,T(["attributes"],{attributes:$e})).$convert());case"indexterm2":return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(N((He=q.$normalize_text((f=he["~"])===m?m:f["$[]"](2),!0,!0))["$include?"]("="))&&(He=N(Ze=N($t=($e=ee("AttributeList").$new(He,q).$parse())["$[]"](1))?$t:$e=m)?Ze:He,N($e)&&N(ke=$e["$[]"]("see-also"))&&$e["$[]="]("see-also",N(ke["$include?"](","))?ve(ke.$split(","),"map",[],function(yt){return yt==null&&(yt=m),yt.$lstrip()}):[ke])),ee("Inline").$new(q,"indexterm",He,T(["attributes","type"],{attributes:$e,type:"visible"})).$convert());default:if(et=(f=he["~"])===m?m:f["$[]"](3),N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS"))))if(N(et["$start_with?"]("("))&&N(et["$end_with?"](")")))et=et.$slice(1,Ge(et.$length(),2)),f=[!0,"(",")"],at=f[0],ct=f[1],ft=f[2];else return((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length());else at=!0,N(et["$start_with?"]("("))?N(et["$end_with?"](")"))?(f=[et.$slice(1,Ge(et.$length(),2)),!1],et=f[0],at=f[1]):(f=[et.$slice(1,et.$length()),"(",""],et=f[0],ct=f[1],ft=f[2]):N(et["$end_with?"](")"))&&(f=[et.$chop(),"",")"],et=f[0],ct=f[1],ft=f[2]);return N(at)?(N((He=q.$normalize_text(et,!0))["$include?"](";&"))&&(N(He["$include?"](" &gt;&gt; "))?(S=He.$partition(" &gt;&gt; "),f=be(S),He=f[0]==null?m:f[0],f[1]==null||f[1],ut=f[2]==null?m:f[2],$e=T(["see"],{see:ut})):N(He["$include?"](" &amp;&gt; "))&&(S=He.$split(" &amp;&gt; "),f=be(S),He=f[0]==null?m:f[0],ke=Be(f,1),$e=T(["see-also"],{"see-also":ke}))),ht=ee("Inline").$new(q,"indexterm",He,T(["attributes","type"],{attributes:$e,type:"visible"})).$convert()):($e=T([],{}),N((dt=q.$normalize_text(et,!0))["$include?"](";&"))&&(N(dt["$include?"](" &gt;&gt; "))?(S=dt.$partition(" &gt;&gt; "),f=be(S),dt=f[0]==null?m:f[0],f[1]==null||f[1],ut=f[2]==null?m:f[2],$e["$[]="]("see",ut)):N(dt["$include?"](" &amp;&gt; "))&&(S=dt.$split(" &amp;&gt; "),f=be(S),dt=f[0]==null?m:f[0],ke=Be(f,1),$e["$[]="]("see-also",ke))),$e["$[]="]("terms",q.$split_simple_csv(dt)),ht=ee("Inline").$new(q,"indexterm",m,T(["attributes"],{attributes:$e})).$convert()),N(ct)?""+ct+ht+ft:ht}},{$$s:k})),N(j)&&N(C["$include?"]("://"))&&(C=ve(C,"gsub",[ee("InlineLinkRx")],function d(){var f,S,q=d.$$s==null?this:d.$$s,J=m,G=m,$e=m,ke=m,He=m,Ze=m,$t=m,et=m,at=m;if(N((J=c((f=he["~"])===m?m:f["$[]"](2),N(R=(f=he["~"])===m?m:f["$[]"](3))?R:(f=he["~"])===m?m:f["$[]"](5)))["$start_with?"](ee("RS"))))return c(((f=he["~"])===m?m:f["$[]"](0)).$slice(0,G=((f=he["~"])===m?m:f["$[]"](1)).$length()),((f=he["~"])===m?m:f["$[]"](0)).$slice(c(G,1),((f=he["~"])===m?m:f["$[]"](0)).$length()));if(f=[(S=he["~"])===m?m:S["$[]"](1),""],$e=f[0],ke=f[1],N((f=he["~"])===m?m:f["$[]"](4)))Pe($e,"link:")&&($e=""),N((He=(f=he["~"])===m?m:f["$[]"](4))["$empty?"]())&&(He=m);else{switch($e){case"link:":case'"':case"'":return(f=he["~"])===m?m:f["$[]"](0)}switch((f=he["~"])===m?m:f["$[]"](6)){case";":if(N($e["$start_with?"]("&lt;"))&&N(J["$end_with?"]("&gt;"))?($e=$e.$slice(4,$e.$length()),J=J.$slice(0,Ge(J.$length(),4))):N((J=J.$chop())["$end_with?"](")"))?(J=J.$chop(),ke=");"):ke=";",N(J["$end_with?"]("://")))return(f=he["~"])===m?m:f["$[]"](0);break;case":":if(N((J=J.$chop())["$end_with?"](")"))?(J=J.$chop(),ke="):"):ke=":",N(J["$end_with?"]("://")))return(f=he["~"])===m?m:f["$[]"](0);break}}return f=[m,T(["type"],{type:"link"})],Ze=f[0],$t=f[1],N(He)?(N(He["$include?"](ee("R_SB")))&&(et=He=He.$gsub(ee("ESC_R_SB"),ee("R_SB"))),Te(l.$compat_mode())&&N(He["$include?"]("="))&&(S=q.$extract_attributes_from_text(He,""),f=be(S),He=f[0]==null?m:f[0],Ze=f[1]==null?m:f[1],et=He,$t["$[]="]("id",Ze["$[]"]("id"))),N(He["$end_with?"]("^"))&&(et=He=He.$chop(),N(Ze)?N(R=Ze["$[]"]("window"))||Ze["$[]="]("window","_blank"):Ze=T(["window"],{window:"_blank"})),N(et)&&N(et["$empty?"]())&&(He=N(r["$key?"]("hide-uri-scheme"))?J.$sub(ee("UriSniffRx"),""):J,at=!0)):(He=N(r["$key?"]("hide-uri-scheme"))?J.$sub(ee("UriSniffRx"),""):J,at=!0),N(at)&&(N(Ze)?Ze["$[]="]("role",N(Ze["$key?"]("role"))?"bare "+Ze["$[]"]("role"):"bare"):Ze=T(["role"],{role:"bare"})),l.$register("links",(f=["target",J],ve($t,"[]=",f),f[f.length-1])),N(Ze)&&$t["$[]="]("attributes",Ze),""+$e+ee("Inline").$new(q,"anchor",He,$t).$convert()+ke},{$$s:k})),N(X)&&(N(C["$include?"]("link:"))||N(C["$include?"]("ilto:")))&&(C=ve(C,"gsub",[ee("InlineLinkMacroRx")],function d(){var f,S,q=d.$$s==null?this:d.$$s,J=m,G=m,$e=m,ke=m,He=m,Ze=m;return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(N(J=(f=he["~"])===m?m:f["$[]"](1))?G=c("mailto:",$e=(f=he["~"])===m?m:f["$[]"](2)):G=(f=he["~"])===m?m:f["$[]"](2),f=[m,T(["type"],{type:"link"})],ke=f[0],He=f[1],N((Ze=(f=he["~"])===m?m:f["$[]"](3))["$empty?"]())||(N(Ze["$include?"](ee("R_SB")))&&(Ze=Ze.$gsub(ee("ESC_R_SB"),ee("R_SB"))),N(J)?Te(l.$compat_mode())&&N(Ze["$include?"](","))&&(S=q.$extract_attributes_from_text(Ze,""),f=be(S),Ze=f[0]==null?m:f[0],ke=f[1]==null?m:f[1],He["$[]="]("id",ke["$[]"]("id")),N(ke["$key?"](2))&&(N(ke["$key?"](3))?G=""+G+"?subject="+ee("Helpers").$encode_uri_component(ke["$[]"](2))+"&amp;body="+ee("Helpers").$encode_uri_component(ke["$[]"](3)):G=""+G+"?subject="+ee("Helpers").$encode_uri_component(ke["$[]"](2)))):Te(l.$compat_mode())&&N(Ze["$include?"]("="))&&(S=q.$extract_attributes_from_text(Ze,""),f=be(S),Ze=f[0]==null?m:f[0],ke=f[1]==null?m:f[1],He["$[]="]("id",ke["$[]"]("id"))),N(Ze["$end_with?"]("^"))&&(Ze=Ze.$chop(),N(ke)?N(R=ke["$[]"]("window"))||ke["$[]="]("window","_blank"):ke=T(["window"],{window:"_blank"}))),N(Ze["$empty?"]())&&(N(J)?Ze=$e:(N(r["$key?"]("hide-uri-scheme"))?N((Ze=G.$sub(ee("UriSniffRx"),""))["$empty?"]())&&(Ze=G):Ze=G,N(ke)?ke["$[]="]("role",N(ke["$key?"]("role"))?"bare "+ke["$[]"]("role"):"bare"):ke=T(["role"],{role:"bare"}))),l.$register("links",(f=["target",G],ve(He,"[]=",f),f[f.length-1])),N(ke)&&He["$[]="]("attributes",ke),ee("Inline").$new(q,"anchor",Ze,He).$convert())},{$$s:k})),N(C["$include?"]("@"))&&(C=ve(C,"gsub",[ee("InlineEmailRx")],function d(){var f,S=d.$$s==null?this:d.$$s,q=m,J=m;return N((f=he["~"])===m?m:f["$[]"](1))?Pe((f=he["~"])===m?m:f["$[]"](1),ee("RS"))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(f=he["~"])===m?m:f["$[]"](0):(q=c("mailto:",J=(f=he["~"])===m?m:f["$[]"](0)),l.$register("links",q),ee("Inline").$new(S,"anchor",J,T(["type","target"],{type:"link",target:q})).$convert())},{$$s:k})),N(H)&&Pe(k.context,"list_item")&&Pe(k.parent.$style(),"bibliography")&&(C=ve(C,"sub",[ee("InlineBiblioAnchorRx")],function d(){var f,S=d.$$s==null?this:d.$$s;return ee("Inline").$new(S,"anchor",(f=he["~"])===m?m:f["$[]"](2),T(["type","id"],{type:"bibref",id:(f=he["~"])===m?m:f["$[]"](1)})).$convert()},{$$s:k})),(N(H)&&N(C["$include?"]("[["))||N(X)&&N(C["$include?"]("or:")))&&(C=ve(C,"gsub",[ee("InlineAnchorRx")],function d(){var f,S=d.$$s==null?this:d.$$s,q=m,J=m;return N((f=he["~"])===m?m:f["$[]"](1))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(N(q=(f=he["~"])===m?m:f["$[]"](2))?J=(f=he["~"])===m?m:f["$[]"](3):(q=(f=he["~"])===m?m:f["$[]"](4),N(J=(f=he["~"])===m?m:f["$[]"](5))&&N(J["$include?"](ee("R_SB")))&&(J=J.$gsub(ee("ESC_R_SB"),ee("R_SB")))),ee("Inline").$new(S,"anchor",J,T(["type","id"],{type:"ref",id:q})).$convert())},{$$s:k})),(N(C["$include?"]("&"))&&N(C["$include?"](";&l"))||N(X)&&N(C["$include?"]("xref:")))&&(C=ve(C,"gsub",[ee("InlineXrefMacroRx")],function d(){var f,S,q=d.$$s==null?this:d.$$s,J=m,G=m,$e=m,ke=m,He=m,Ze=m,$t=m,et=m,at=m,ct=m;return N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS")))?((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length()):(J=T([],{}),N(G=(f=he["~"])===m?m:f["$[]"](1))?N(G["$include?"](","))&&(S=G.$partition(","),f=be(S),G=f[0]==null?m:f[0],f[1]==null||f[1],$e=f[2]==null?m:f[2],N(($e=$e.$lstrip())["$empty?"]())&&($e=m)):(ke=!0,G=(f=he["~"])===m?m:f["$[]"](2),N($e=(f=he["~"])===m?m:f["$[]"](3))&&(N($e["$include?"](ee("R_SB")))&&($e=$e.$gsub(ee("ESC_R_SB"),ee("R_SB"))),Te(l.$compat_mode())&&N($e["$include?"]("="))&&(S=q.$extract_attributes_from_text($e),f=be(S),$e=f[0]==null?m:f[0],J=f[1]==null?m:f[1]))),N(l.$compat_mode())?He=G:N(Ze=G.$index("#"))&&Se(G["$[]"](Ge(Ze,1)),"&")?N(Oe(Ze,0))?(N(Oe($t=Ge(Ge(G.$length(),1),Ze),0))?(f=[G.$slice(0,Ze),G.$slice(c(Ze,1),$t)],et=f[0],He=f[1]):et=G.$chop(),N(ke)?N(et["$end_with?"](".adoc"))?at=et=et.$slice(0,Ge(et.$length(),5)):Te(ee("Helpers")["$extname?"](et))&&(at=et):N(ve(et,"end_with?",st(ee("ASCIIDOC_EXTENSIONS").$keys())))?at=et=et.$slice(0,et.$rindex(".")):at=et):(f=[G,G.$slice(1,G.$length())],ct=f[0],He=f[1]):N(ke)?N(G["$end_with?"](".adoc"))?at=et=G.$slice(0,Ge(G.$length(),5)):N(ee("Helpers")["$extname?"](G))?et=G:He=G:He=G,N(ct)?(G=He,N(q.$logger()["$info?"]())&&Te(l.$catalog()["$[]"]("refs")["$[]"](G))&&q.$logger().$info("possible invalid reference: "+G)):N(et)?N(at)&&(Pe(l.$attributes()["$[]"]("docname"),et)||N(l.$catalog()["$[]"]("includes")["$[]"](et)))?N(He)?(f=[He,m,"#"+He],G=f[0],et=f[1],ct=f[2],N(q.$logger()["$info?"]())&&Te(l.$catalog()["$[]"]("refs")["$[]"](G))&&q.$logger().$info("possible invalid reference: "+G)):(f=[m,m,"#"],G=f[0],et=f[1],ct=f[2]):(f=[et,""+(N(R=l.$attributes()["$[]"]("relfileprefix"))?R:"")+et+(N(at)?l.$attributes().$fetch("relfilesuffix",l.$outfilesuffix()):"")],G=f[0],et=f[1],N(He)?(f=[""+G+"#"+He,""+et+"#"+He],G=f[0],ct=f[1]):ct=et):N(l.$compat_mode())||Te(ee("Compliance").$natural_xrefs())?(f=[He,"#"+He],G=f[0],ct=f[1],N(q.$logger()["$info?"]())&&Te(l.$catalog()["$[]"]("refs")["$[]"](G))&&q.$logger().$info("possible invalid reference: "+G)):N(l.$catalog()["$[]"]("refs")["$[]"](He))?(f=[He,"#"+He],G=f[0],ct=f[1]):(N(He["$include?"](" "))||Se(He.$downcase(),He))&&N(G=l.$resolve_id(He))?(f=[G,"#"+G],He=f[0],ct=f[1]):(f=[He,"#"+He],G=f[0],ct=f[1],N(q.$logger()["$info?"]())&&q.$logger().$info("possible invalid reference: "+G)),J["$[]="]("path",et),J["$[]="]("fragment",He),J["$[]="]("refid",G),ee("Inline").$new(q,"anchor",$e,T(["type","target","attributes"],{type:"xref",target:ct,attributes:J})).$convert())},{$$s:k})),N(X)&&N(C["$include?"]("tnote"))&&(C=ve(C,"gsub",[ee("InlineFootnoteMacroRx")],function d(){var f,S,q,J=d.$$s==null?this:d.$$s,G=m,$e=m,ke=m,He=m,Ze=m,$t=m;if(N(((f=he["~"])===m?m:f["$[]"](0))["$start_with?"](ee("RS"))))return((f=he["~"])===m?m:f["$[]"](0)).$slice(1,((f=he["~"])===m?m:f["$[]"](0)).$length());if(N((f=he["~"])===m?m:f["$[]"](1)))if(N((f=he["~"])===m?m:f["$[]"](3)))S=((q=he["~"])===m?m:q["$[]"](3)).$split(",",2),f=be(S),G=f[0]==null?m:f[0],$e=f[1]==null?m:f[1],N(l.$compat_mode())||J.$logger().$warn("found deprecated footnoteref macro: "+((f=he["~"])===m?m:f["$[]"](0))+"; use footnote macro with target instead");else return(f=he["~"])===m?m:f["$[]"](0);else G=(f=he["~"])===m?m:f["$[]"](2),$e=(f=he["~"])===m?m:f["$[]"](3);if(N(G))N(ke=ve(l.$footnotes(),"find",[],function(at){return at==null&&(at=m),at.$id()["$=="](G)}))?(f=[ke.$index(),ke.$text()],He=f[0],$e=f[1],f=["xref",G,m],Ze=f[0],$t=f[1],G=f[2]):N($e)?($e=J.$restore_passthroughs(J.$normalize_text($e,!0,!0)),He=l.$counter("footnote-number"),l.$register("footnotes",Je(ee("Document"),"Footnote").$new(He,G,$e)),f=["ref",m],Ze=f[0],$t=f[1]):(J.$logger().$warn("invalid footnote reference: "+G),f=["xref",G,G,m],Ze=f[0],$t=f[1],$e=f[2],G=f[3]);else if(N($e))$e=J.$restore_passthroughs(J.$normalize_text($e,!0,!0)),He=l.$counter("footnote-number"),l.$register("footnotes",Je(ee("Document"),"Footnote").$new(He,G,$e)),Ze=$t=m;else return(f=he["~"])===m?m:f["$[]"](0);return ee("Inline").$new(J,"footnote",$e,T(["attributes","id","target","type"],{attributes:T(["index"],{index:He}),id:G,target:$t,type:Ze})).$convert()},{$$s:k})),C}),g(fe,"$sub_post_replacements",function(C){var k=this,H=m,j=m;return k.document==null&&(k.document=m),k.attributes==null&&(k.attributes=m),N(k.attributes["$[]"]("hardbreaks-option"))||N(k.document.$attributes()["$[]"]("hardbreaks-option"))?(H=C.$split(ee("LF"),-1),N(it(H.$size(),2))?C:(j=H.$pop(),ve(H,"map",[],function X(R){var u=X.$$s==null?this:X.$$s;return R==null&&(R=m),ee("Inline").$new(u,"break",N(R["$end_with?"](ee("HARD_LINE_BREAK")))?R.$slice(0,Ge(R.$length(),2)):R,T(["type"],{type:"line"})).$convert()},{$$s:k})["$<<"](j).$join(ee("LF")))):N(C["$include?"](ee("PLUS")))&&N(C["$include?"](ee("HARD_LINE_BREAK")))?ve(C,"gsub",[ee("HardLineBreakRx")],function X(){var R,u=X.$$s==null?this:X.$$s;return ee("Inline").$new(u,"break",(R=he["~"])===m?m:R["$[]"](1),T(["type"],{type:"line"})).$convert()},{$$s:k}):C}),g(fe,"$sub_source",function(C,k){var H=this;return N(k)?H.$sub_callouts(H.$sub_specialchars(C)):H.$sub_specialchars(C)}),g(fe,"$sub_callouts",function(C){var k=this,H=m,j=m;return H=N(k["$attr?"]("line-comment"))?ee("CalloutSourceRxMap")["$[]"](k.$attr("line-comment")):ee("CalloutSourceRx"),j=0,ve(C,"gsub",[H],function X(){var R,u=X.$$s==null?this:X.$$s,r=m;return u.document==null&&(u.document=m),N((R=he["~"])===m?m:R["$[]"](2))?((R=he["~"])===m?m:R["$[]"](0)).$sub(ee("RS"),""):ee("Inline").$new(u,"callout",Pe((R=he["~"])===m?m:R["$[]"](4),".")?(j=c(j,1)).$to_s():(R=he["~"])===m?m:R["$[]"](4),T(["id","attributes"],{id:u.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:N(r=(R=he["~"])===m?m:R["$[]"](1))?r:Pe((R=he["~"])===m?m:R["$[]"](3),"--")?["<!--","-->"]:m})})).$convert()},{$$s:k})}),g(fe,"$highlight_source",function(C,k){var H,j,X=this,R=m,u=m,r=m,l=m,b=m,d=m,f=m,S=m,q=m,J=m;return X.document==null&&(X.document=m),X.passthroughs==null&&(X.passthroughs=m),N(R=X.document.$syntax_highlighter())&&N(R["$highlight?"]())?(N(k)&&(j=X.$extract_callouts(C),H=be(j),C=H[0]==null?m:H[0],u=H[1]==null?m:H[1]),r=X.document.$attributes(),l=R.$name(),N(d=N(X["$attr?"]("linenums"))?(N(f=r["$[]"](""+l+"-linenums-mode"))?f:"table").$to_sym():m)&&N(it(b=X.$attr("start",1).$to_i(),1))&&(b=1),N(X["$attr?"]("highlight"))&&(S=X.$resolve_lines_to_highlight(C,X.$attr("highlight"),b)),j=R.$highlight(X,C,X.$attr("language"),T(["callouts","css_mode","highlight_lines","number_lines","start_line_number","style"],{callouts:u,css_mode:(N(f=r["$[]"](""+l+"-css"))?f:"class").$to_sym(),highlight_lines:S,number_lines:d,start_line_number:b,style:r["$[]"](""+l+"-style")})),H=be(j),q=H[0]==null?m:H[0],J=H[1]==null?m:H[1],N(X.passthroughs["$empty?"]())||(q=q.$gsub(ee("HighlightedPassSlotRx"),""+ee("PASS_START")+"\\1"+ee("PASS_END"))),N(u["$nil_or_empty?"]())?q:X.$restore_callouts(q,u,J)):X.$sub_source(C,k)}),g(fe,"$resolve_lines_to_highlight",function(C,k,H){var j=m,X=m;return H==null&&(H=m),j=[],N(k["$include?"](" "))&&(k=k.$delete(" ")),ve(N(k["$include?"](","))?k.$split(","):k.$split(";"),"map",[],function(u){var r,l,b=m,d=m,f=m,S=m,q=m;return u==null&&(u=m),N(u["$start_with?"]("!"))&&(u=u.$slice(1,u.$length()),b=!0),N(d=N(u["$include?"](".."))?"..":N(u["$include?"]("-"))?"-":m)?(l=u.$partition(d),r=be(l),f=r[0]==null?m:r[0],r[1]==null||r[1],S=r[2]==null?m:r[2],(N(S["$empty?"]())||N(it(S=S.$to_i(),0)))&&(S=c(C.$count(ee("LF")),1)),N(b)?j=Ge(j,t.Range.$new(f.$to_i(),S,!1).$to_a()):j=j["$|"](t.Range.$new(f.$to_i(),S,!1).$to_a())):N(b)?j.$delete(u.$to_i()):Te(j["$include?"](q=u.$to_i()))?j["$<<"](q):m}),Pe(X=N(H)?Ge(H,1):0,0)||(j=ve(j,"map",[],function(u){return u==null&&(u=m),Ge(u,X)})),j.$sort()},-3),g(fe,"$extract_passthroughs",function(C){var k,H,j=this,X=m,R=m,u=m,r=m,l=m;return j.document==null&&(j.document=m),j.passthroughs==null&&(j.passthroughs=m),X=j.document.$compat_mode(),R=j.passthroughs,(N(C["$include?"]("++"))||N(C["$include?"]("$$"))||N(C["$include?"]("ss:")))&&(C=ve(C,"gsub",[ee("InlinePassMacroRx")],function b(){var d,f=b.$$s==null?this:b.$$s,S=m,q=m,J=m,G=m,$e=m,ke=m,He=m,Ze=m,$t=m;if(N(S=(d=he["~"])===m?m:d["$[]"](4))){if(N(X)&&Pe(S,"++"))return(N((d=he["~"])===m?m:d["$[]"](2))?""+((d=he["~"])===m?m:d["$[]"](1))+"["+((d=he["~"])===m?m:d["$[]"](2))+"]"+((d=he["~"])===m?m:d["$[]"](3)):""+((d=he["~"])===m?m:d["$[]"](1))+((d=he["~"])===m?m:d["$[]"](3)))+"++"+f.$extract_passthroughs((d=he["~"])===m?m:d["$[]"](5))+"++";if(N(q=(d=he["~"])===m?m:d["$[]"](2))){if(N(Oe(J=((d=he["~"])===m?m:d["$[]"](3)).$length(),0)))return""+((d=he["~"])===m?m:d["$[]"](1))+"["+q+"]"+y(ee("RS"),Ge(J,1))+S+((d=he["~"])===m?m:d["$[]"](5))+S;Pe((d=he["~"])===m?m:d["$[]"](1),ee("RS"))?G="["+q+"]":Pe(S,"++")?Pe(q,"x-")?($e=!0,ke=T([],{})):N(q["$end_with?"](" x-"))?($e=!0,ke=f.$parse_quoted_text_attributes(q.$slice(0,Ge(q.$length(),3)))):ke=f.$parse_quoted_text_attributes(q):ke=f.$parse_quoted_text_attributes(q)}else if(N(Oe(J=((d=he["~"])===m?m:d["$[]"](3)).$length(),0)))return""+y(ee("RS"),Ge(J,1))+S+((d=he["~"])===m?m:d["$[]"](5))+S;He=Pe(S,"+++")?[]:ee("BASIC_SUBS"),N(ke)?N($e)?R["$[]="](Ze=R.$size(),T(["text","subs","type","attributes"],{text:(d=he["~"])===m?m:d["$[]"](5),subs:ee("NORMAL_SUBS"),type:"monospaced",attributes:ke})):R["$[]="](Ze=R.$size(),T(["text","subs","type","attributes"],{text:(d=he["~"])===m?m:d["$[]"](5),subs:He,type:"unquoted",attributes:ke})):R["$[]="](Ze=R.$size(),T(["text","subs"],{text:(d=he["~"])===m?m:d["$[]"](5),subs:He}))}else{if(Pe((d=he["~"])===m?m:d["$[]"](6),ee("RS")))return((d=he["~"])===m?m:d["$[]"](0)).$slice(1,((d=he["~"])===m?m:d["$[]"](0)).$length());N(He=(d=he["~"])===m?m:d["$[]"](7))?R["$[]="](Ze=R.$size(),T(["text","subs"],{text:f.$normalize_text((d=he["~"])===m?m:d["$[]"](8),m,!0),subs:f.$resolve_pass_subs(He)})):R["$[]="](Ze=R.$size(),T(["text"],{text:f.$normalize_text((d=he["~"])===m?m:d["$[]"](8),m,!0)}))}return""+(N($t=G)?$t:"")+ee("PASS_START")+Ze+ee("PASS_END")},{$$s:j})),H=ee("InlinePassRx")["$[]"](X),k=be(H),u=k[0]==null?m:k[0],r=k[1]==null?m:k[1],l=k[2]==null?m:k[2],(N(C["$include?"](u))||N(r)&&N(C["$include?"](r)))&&(C=ve(C,"gsub",[l],function b(){var d,f=b.$$s==null?this:b.$$s,S=m,q=m,J=m,G=m,$e=m,ke=m,He=m,Ze=m,$t=m,et=m,at=m,ct=m;if(S=(d=he["~"])===m?m:d["$[]"](1),q=N(J=(d=he["~"])===m?m:d["$[]"](4))?J:(d=he["~"])===m?m:d["$[]"](3),N((d=he["~"])===m?m:d["$[]"](5))&&(G=!0),$e=(d=he["~"])===m?m:d["$[]"](6),ke=(d=he["~"])===m?m:d["$[]"](7),He=(d=he["~"])===m?m:d["$[]"](8),N(X)?Ze=!0:N(q)&&(Pe(q,"x-")||N(q["$end_with?"](" x-")))&&(Ze=$t=!0),N(q)){if(N(G))return""+S+"["+q+"]"+$e.$slice(1,$e.$length());if(Pe(S,ee("RS"))){if(N($t)&&Pe(ke,"`"))return""+S+"["+q+"]"+$e;S="["+q+"]"}else N($t)?et=Pe(q,"x-")?T([],{}):f.$parse_quoted_text_attributes(q.$slice(0,Ge(q.$length(),3))):et=f.$parse_quoted_text_attributes(q)}else{if(N(G))return""+S+$e.$slice(1,$e.$length());if(N(X)&&Pe(S,ee("RS")))return $e}return N(X)?R["$[]="](at=R.$size(),T(["text","subs","attributes","type"],{text:He,subs:ee("BASIC_SUBS"),attributes:et,type:"monospaced"})):N(et)?N(Ze)?(ct=Pe(ke,"`")?ee("BASIC_SUBS"):ee("NORMAL_SUBS"),R["$[]="](at=R.$size(),T(["text","subs","attributes","type"],{text:He,subs:ct,attributes:et,type:"monospaced"}))):R["$[]="](at=R.$size(),T(["text","subs","attributes","type"],{text:He,subs:ee("BASIC_SUBS"),attributes:et,type:"unquoted"})):R["$[]="](at=R.$size(),T(["text","subs"],{text:He,subs:ee("BASIC_SUBS")})),""+S+ee("PASS_START")+at+ee("PASS_END")},{$$s:j})),N(C["$include?"](":"))&&(N(C["$include?"]("stem:"))||N(C["$include?"]("math:")))&&(C=ve(C,"gsub",[ee("InlineStemMacroRx")],function b(){var d,f=b.$$s==null?this:b.$$s,S=m,q=m,J=m,G=m;return f.document==null&&(f.document=m),N(((d=he["~"])===m?m:d["$[]"](0))["$start_with?"](ee("RS")))?((d=he["~"])===m?m:d["$[]"](0)).$slice(1,((d=he["~"])===m?m:d["$[]"](0)).$length()):(Pe(S=((d=he["~"])===m?m:d["$[]"](1)).$to_sym(),"stem")&&(S=ee("STEM_TYPE_ALIASES")["$[]"](f.document.$attributes()["$[]"]("stem")).$to_sym()),q=(d=he["~"])===m?m:d["$[]"](2),J=f.$normalize_text((d=he["~"])===m?m:d["$[]"](3),m,!0),Pe(S,"latexmath")&&N(J["$start_with?"]("$"))&&N(J["$end_with?"]("$"))&&(J=J.$slice(1,Ge(J.$length(),2))),q=N(q)?f.$resolve_pass_subs(q):N(f.document["$basebackend?"]("html"))?ee("BASIC_SUBS"):m,R["$[]="](G=R.$size(),T(["text","subs","type"],{text:J,subs:q,type:S})),""+ee("PASS_START")+G+ee("PASS_END"))},{$$s:j})),C}),g(fe,"$restore_passthroughs",function(C){var k=this,H=m;return k.passthroughs==null&&(k.passthroughs=m),H=k.passthroughs,ve(C,"gsub",[ee("PassSlotRx")],function j(){var X,R=j.$$s==null?this:j.$$s,u=m,r=m,l=m,b=m,d=m;return N(u=H["$[]"](((X=he["~"])===m?m:X["$[]"](1)).$to_i()))?(r=R.$apply_subs(u["$[]"]("text"),u["$[]"]("subs")),N(l=u["$[]"]("type"))&&(N(b=u["$[]"]("attributes"))&&(d=b["$[]"]("id")),r=ee("Inline").$new(R,"quoted",r,T(["type","id","attributes"],{type:l,id:d,attributes:b})).$convert()),N(r["$include?"](ee("PASS_START")))?R.$restore_passthroughs(r):r):(R.$logger().$error("unresolved passthrough detected: "+C),"??pass??")},{$$s:k})}),g(fe,"$resolve_subs",function(C,k,H,j){var X=this,R=m,u=m,r=m,l=m;return k==null&&(k="block"),H==null&&(H=m),j==null&&(j=m),N(C["$nil_or_empty?"]())||(R=m,N(C["$include?"](" "))&&(C=C.$delete(" ")),u=ee("SubModifierSniffRx")["$match?"](C),ve(C.$split(","),"each",[],function(d){var f=m,S=m,q=m,J=m,G=m,$e=m;if(d==null&&(d=m),f=m,N(u)&&(Pe(S=d.$chr(),"+")?(f="append",d=d.$slice(1,d.$length())):Pe(S,"-")?(f="remove",d=d.$slice(1,d.$length())):N(d["$end_with?"]("+"))&&(f="prepend",d=d.$chop())),d=d.$to_sym(),Pe(k,"inline")&&(Pe(d,"verbatim")||Pe(d,"v"))?q=ee("BASIC_SUBS"):N(ee("SUB_GROUPS")["$key?"](d))?q=ee("SUB_GROUPS")["$[]"](d):Pe(k,"inline")&&Pe(d.$length(),1)&&N(ee("SUB_HINTS")["$key?"](d))?(J=ee("SUB_HINTS")["$[]"](d),N(G=ee("SUB_GROUPS")["$[]"](J))?q=G:q=[J]):q=[d],N(f))switch(R=N($e=R)?$e:N(H)?H.$drop(0):[],f){case"append":return R=c(R,q);case"prepend":return R=c(q,R);case"remove":return R=Ge(R,q);default:return m}else return R=N($e=R)?$e:[],R=c(R,q)}),!N(R))?m:(r=R["$&"](ee("SUB_OPTIONS")["$[]"](k)),N(Ge(R,r)["$empty?"]())||(l=Ge(R,r),X.$logger().$warn("invalid substitution type"+(N(Oe(l.$size(),1))?"s":"")+(N(j)?" for ":"")+j+": "+l.$join(", "))),r)},-2),g(fe,"$resolve_block_subs",function(C,k,H){var j=this;return j.$resolve_subs(C,"block",k,H)}),g(fe,"$resolve_pass_subs",function(C){var k=this;return k.$resolve_subs(C,"inline",m,"passthrough macro")}),g(fe,"$expand_subs",function(C,k){var H=this,j=m,X=m,R=m;return k==null&&(k=m),De(Je("Symbol"),j=C)?Pe(C,"none")?m:N(X=ee("SUB_GROUPS")["$[]"](C))?X:[C]:De(Je("Array"),j)?(R=[],ve(C,"each",[],function(r){var l=m;return r==null&&(r=m),Pe(r,"none")?m:N(l=ee("SUB_GROUPS")["$[]"](r))?R=c(R,l):R["$<<"](r)}),N(R["$empty?"]())?m:R):H.$resolve_subs(C,"inline",m,k)},-2),g(fe,"$commit_subs",function(){var C=this,k=m,H=m,j=m,X=m,R=m;if(C.default_subs==null&&(C.default_subs=m),C.content_model==null&&(C.content_model=m),C.context==null&&(C.context=m),C.subs==null&&(C.subs=m),C.attributes==null&&(C.attributes=m),C.document==null&&(C.document=m),C.style==null&&(C.style=m),!N(k=C.default_subs))switch(C.content_model){case"simple":k=ee("NORMAL_SUBS");break;case"verbatim":k=Pe(C.context,"verse")?ee("NORMAL_SUBS"):ee("VERBATIM_SUBS");break;case"raw":k=Pe(C.context,"stem")?ee("BASIC_SUBS"):ee("NO_SUBS");break;default:return C.subs}return N(H=C.attributes["$[]"]("subs"))?C.subs=N(j=C.$resolve_block_subs(H,k,C.context))?j:[]:C.subs=k.$drop(0),Pe(C.context,"listing")&&Pe(C.style,"source")&&N(R=C.document.$syntax_highlighter())&&N(R["$highlight?"]())&&N(X=C.subs.$index("specialcharacters"))&&C.subs["$[]="](X,"highlight"),m}),g(fe,"$parse_attributes",function(C,k,H){var j=this,X=m,R=m;return j.document==null&&(j.document=m),k==null&&(k=[]),H==null&&(H=T([],{})),N(N(C)?C["$empty?"]():!0)?T([],{}):(N(H["$[]"]("unescape_input"))&&(C=j.$normalize_text(C,!0,!0)),N(H["$[]"]("sub_input"))&&N(C["$include?"](ee("ATTR_REF_HEAD")))&&(C=j.document.$sub_attributes(C)),N(H["$[]"]("sub_result"))&&(X=j),N(R=H["$[]"]("into"))?ee("AttributeList").$new(C,X).$parse_into(R,k):ee("AttributeList").$new(C,X).$parse(k))},-2),fe.$private(),g(fe,"$extract_attributes_from_text",function(C,k){var H=this,j=m,X=m,R=m;return k==null&&(k=m),j=N(C["$include?"](ee("LF")))?C.$tr(ee("LF")," "):C,N(X=(R=ee("AttributeList").$new(j,H).$parse())["$[]"](1))?Pe(X,j)?[C,R.$clear()]:[X,R]:[k,R]},-2),g(fe,"$extract_callouts",function(C){var k=this,H=m,j=m,X=m,R=m,u=m;return H=T([],{}),j=X=0,R=m,u=N(k["$attr?"]("line-comment"))?ee("CalloutExtractRxMap")["$[]"](k.$attr("line-comment")):ee("CalloutExtractRx"),C=ve(C.$split(ee("LF"),-1),"map",[],function(l){return l==null&&(l=m),X=c(X,1),ve(l,"gsub",[u],function(){var d,f=m;return N((d=he["~"])===m?m:d["$[]"](2))?((d=he["~"])===m?m:d["$[]"](0)).$sub(ee("RS"),""):((N(f=H["$[]"](X))?f:(d=[X,[]],ve(H,"[]=",d),d[d.length-1]))["$<<"]([N(f=(d=he["~"])===m?m:d["$[]"](1))?f:Pe((d=he["~"])===m?m:d["$[]"](3),"--")?["<!--","-->"]:m,Pe((d=he["~"])===m?m:d["$[]"](4),".")?(j=c(j,1)).$to_s():(d=he["~"])===m?m:d["$[]"](4)]),R=X,"")})}).$join(ee("LF")),N(R)?Pe(R,X)&&(C=""+C+ee("LF")):H=m,[C,H]}),g(fe,"$restore_callouts",function(C,k,H){var j=this,X=m,R=m;return H==null&&(H=m),N(H)?(X=C.$slice(0,H),C=C.$slice(H,C.$length())):X="",R=0,c(X,ve(C.$split(ee("LF"),-1),"map",[],function u(r){var l,b,d=u.$$s==null?this:u.$$s,f=m,S=m,q=m;return d.document==null&&(d.document=m),r==null&&(r=m),N(f=k.$delete(R=c(R,1)))?Pe(f.$size(),1)?(b=f["$[]"](0),l=be(b),S=l[0]==null?m:l[0],q=l[1]==null?m:l[1],""+r+ee("Inline").$new(d,"callout",q,T(["id","attributes"],{id:d.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:S})})).$convert()):""+r+ve(f,"map",[],function J(G,$e){var ke=J.$$s==null?this:J.$$s;return ke.document==null&&(ke.document=m),G==null&&(G=m),$e==null&&($e=m),ee("Inline").$new(ke,"callout",$e,T(["id","attributes"],{id:ke.document.$callouts().$read_next_id(),attributes:T(["guard"],{guard:G})})).$convert()},{$$s:d}).$join(" "):r},{$$s:j}).$join(ee("LF")))},-3),g(fe,"$convert_quoted_text",function(C,k,H){var j=this,X=m,R=m,u=m,r=m,l=m;if(N(C["$[]"](0)["$start_with?"](ee("RS"))))if(Pe(H,"constrained")&&N(X=C["$[]"](2)))R="["+X+"]";else return C["$[]"](0).$slice(1,C["$[]"](0).$length());return Pe(H,"constrained")?N(R)?""+R+ee("Inline").$new(j,"quoted",C["$[]"](3),T(["type"],{type:k})).$convert():(N(u=C["$[]"](2))&&(r=(l=j.$parse_quoted_text_attributes(u))["$[]"]("id"),Pe(k,"mark")&&(k="unquoted")),""+C["$[]"](1)+ee("Inline").$new(j,"quoted",C["$[]"](3),T(["type","id","attributes"],{type:k,id:r,attributes:l})).$convert()):(N(u=C["$[]"](1))&&(r=(l=j.$parse_quoted_text_attributes(u))["$[]"]("id"),Pe(k,"mark")&&(k="unquoted")),ee("Inline").$new(j,"quoted",C["$[]"](2),T(["type","id","attributes"],{type:k,id:r,attributes:l})).$convert())}),g(fe,"$do_replacement",function(C,k,H){var j=m;if(N((j=C["$[]"](0))["$include?"](ee("RS"))))return j.$sub(ee("RS"),"");switch(H){case"none":return k;case"bounding":return c(c(C["$[]"](1),k),C["$[]"](2));default:return c(C["$[]"](1),k)}}),g(fe,"$parse_quoted_text_attributes",function(C){var k,H,j=this,X=m,R=m,u=m,r=m,l=m;return N(C["$include?"](ee("ATTR_REF_HEAD")))&&(C=j.$sub_attributes(C)),N(C["$include?"](","))&&(C=C.$slice(0,C.$index(","))),N((C=C.$strip())["$empty?"]())?T([],{}):N(C["$start_with?"](".","#"))&&N(ee("Compliance").$shorthand_property_syntax())?(H=C.$partition("#"),k=be(H),X=k[0]==null?m:k[0],k[1]==null||k[1],R=k[2]==null?m:k[2],u=T([],{}),N(R["$empty?"]())?N(Oe(X.$length(),1))&&u["$[]="]("role",X.$tr("."," ").$lstrip()):(H=R.$partition("."),k=be(H),r=k[0]==null?m:k[0],k[1]==null||k[1],l=k[2]==null?m:k[2],N(r["$empty?"]())||u["$[]="]("id",r),N(l["$empty?"]())?N(Oe(X.$length(),1))&&u["$[]="]("role",X.$tr("."," ").$lstrip()):N(Oe(X.$length(),1))?u["$[]="]("role",c(c(X,"."),l).$tr("."," ").$lstrip()):u["$[]="]("role",l.$tr("."," "))),u):T(["role"],{role:C})}),g(fe,"$normalize_text",function(C,k,H){return k==null&&(k=m),H==null&&(H=m),N(C["$empty?"]())||(N(k)&&(C=C.$strip().$tr(ee("LF")," ")),N(H)&&N(C["$include?"](ee("R_SB")))&&(C=C.$gsub(ee("ESC_R_SB"),ee("R_SB")))),C},-2),g(fe,"$split_simple_csv",function(C){var k=m,H=m,j=m;return N(C["$empty?"]())?[]:N(C["$include?"]('"'))?(k=[],H="",j=m,ve(C,"each_char",[],function(R){switch(R==null&&(R=m),R){case",":return N(j)?H=c(H,R):(k["$<<"](H.$strip()),H="");case'"':return j=j["$!"]();default:return H=c(H,R)}}),k["$<<"](H.$strip())):ve(C.$split(","),"map",[],function(R){return R==null&&(R=m),R.$strip()})})}(Le[0],Le)}(Xe[0],Xe)},Opal.modules["asciidoctor/version"]=function(t){var Y=t.module,U=t.const_set,T=[];return t.nil,function(Z,c){var z=Y(Z,"Asciidoctor"),Te=[z].concat(c);return U(Te[0],"VERSION","2.0.20")}(T[0],T)},Opal.modules["asciidoctor/abstract_node"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.eqeq,c=t.truthy,z=t.def,Te=t.send,N=t.rb_minus,ve=t.eqeqeq,g=t.rb_lt,We=t.not,he=t.to_ary,Pe=[],be=t.nil,Se=t.$$$;return t.add_stubs("include,attr_reader,attr_accessor,==,document,to_s,[],merge,raise,converter,attributes,key?,[]=,delete,tap,new,each_key,end_with?,<<,slice,-,length,update,split,include?,===,join,empty?,apply_reftext_subs,attr?,attr,extname?,image_uri,<,safe,normalize_web_path,uriish?,encode_spaces_in_uri,generate_data_uri_from_uri,generate_data_uri,extname,normalize_system_path,readable?,strict_encode64,binread,warn,logger,require_library,!,open_uri,content_type,read,base_dir,root?,path_resolver,system_path,web_path,!=,prepare_source_string,fetch,read_asset"),function(st,De){var Oe=Y(st,"Asciidoctor"),Be=[Oe].concat(De);return function(Ge,it,y){var Xe=U(Ge,it,"AbstractNode"),m=[Xe].concat(y),Je=t.$r(m),rt=Xe.$$prototype;return rt.document=rt.attributes=rt.parent=be,Xe.$include(Je("Logging")),Xe.$include(Je("Substitutors")),Xe.$attr_reader("attributes"),Xe.$attr_reader("context"),Xe.$attr_reader("document"),Xe.$attr_accessor("id"),Xe.$attr_reader("node_name"),Xe.$attr_reader("parent"),z(Xe,"$initialize",function(A,Le,se){var ge=this,fe=be;return se==null&&(se=T([],{})),Z(Le,"document")?ge.document=ge:c(A)&&(ge.document=(ge.parent=A).$document()),ge.node_name=(ge.context=Le).$to_s(),ge.attributes=c(fe=se["$[]"]("attributes"))?fe.$merge():T([],{}),ge.passthroughs=[]},-3),z(Xe,"$block?",function(){var A=this;return A.$raise(Se("NotImplementedError"))}),z(Xe,"$inline?",function(){var A=this;return A.$raise(Se("NotImplementedError"))}),z(Xe,"$converter",function(){var A=this;return A.document.$converter()}),z(Xe,"$parent=",function(A){var Le,se=this;return Le=[A,A.$document()],se.parent=Le[0],se.document=Le[1],Le}),z(Xe,"$attr",function(A,Le,se){var ge=this,fe=be,W=be,ee=be,M=be;return Le==null&&(Le=be),se==null&&(se=be),c(fe=ge.attributes["$[]"](A.$to_s()))?fe:c(W=c(ee=c(M=se)?ge.parent:M)?ge.document.$attributes()["$[]"]((Z(se,!0)?A:se).$to_s()):ee)?W:Le},-2),z(Xe,"$attr?",function(A,Le,se){var ge=this,fe=be;return Le==null&&(Le=be),se==null&&(se=be),c(Le)?Le["$=="](c(fe=ge.attributes["$[]"](A.$to_s()))?fe:c(se)&&c(ge.parent)?ge.document.$attributes()["$[]"]((Z(se,!0)?A:se).$to_s()):be):c(fe=ge.attributes["$key?"](A.$to_s()))?fe:c(se)&&c(ge.parent)?ge.document.$attributes()["$key?"]((Z(se,!0)?A:se).$to_s()):!1},-2),z(Xe,"$set_attr",function(A,Le,se){var ge=this;return Le==null&&(Le=""),se==null&&(se=!0),Z(se,!1)&&c(ge.attributes["$key?"](A))?!1:(ge.attributes["$[]="](A,Le),!0)},-2),z(Xe,"$remove_attr",function(A){var Le=this;return Le.attributes.$delete(A)}),z(Xe,"$option?",function(A){var Le=this;return!!c(Le.attributes["$[]"](""+A+"-option"))}),z(Xe,"$set_option",function(A){var Le=this;return Le.attributes["$[]="](""+A+"-option",""),be}),z(Xe,"$enabled_options",function(){var A=this;return Te(Se("Set").$new(),"tap",[],function Le(se){var ge=Le.$$s==null?this:Le.$$s;return ge.attributes==null&&(ge.attributes=be),se==null&&(se=be),Te(ge.attributes,"each_key",[],function(W){return W==null&&(W=be),c(W.$to_s()["$end_with?"]("-option"))?se["$<<"](W.$slice(0,N(W.$length(),7))):be})},{$$s:A})}),z(Xe,"$update_attributes",function(A){var Le=this;return Le.attributes.$update(A)}),z(Xe,"$role",function(){var A=this;return A.attributes["$[]"]("role")}),z(Xe,"$roles",function(){var A=this,Le=be;return c(Le=A.attributes["$[]"]("role"))?Le.$split():[]}),z(Xe,"$role?",function(A){var Le=this;return A==null&&(A=be),c(A)?A["$=="](Le.attributes["$[]"]("role")):Le.attributes["$key?"]("role")},-1),z(Xe,"$has_role?",function(A){var Le=this,se=be;return c(se=Le.attributes["$[]"]("role"))?(" "+se+" ")["$include?"](" "+A+" "):!1}),z(Xe,"$role=",function(A){var Le,se=this;return Le=["role",ve(Se("Array"),A)?A.$join(" "):A],Te(se.attributes,"[]=",Le),Le[Le.length-1]}),z(Xe,"$add_role",function(A){var Le=this,se=be;return c(se=Le.attributes["$[]"]("role"))?c((" "+se+" ")["$include?"](" "+A+" "))?!1:(Le.attributes["$[]="]("role",""+se+" "+A),!0):(Le.attributes["$[]="]("role",A),!0)}),z(Xe,"$remove_role",function(A){var Le=this,se=be;return c(se=Le.attributes["$[]"]("role"))&&c((se=se.$split()).$delete(A))?(c(se["$empty?"]())?Le.attributes.$delete("role"):Le.attributes["$[]="]("role",se.$join(" ")),!0):!1}),z(Xe,"$reftext",function(){var A=this,Le=be;return c(Le=A.attributes["$[]"]("reftext"))?A.$apply_reftext_subs(Le):be}),z(Xe,"$reftext?",function(){var A=this;return A.attributes["$key?"]("reftext")}),z(Xe,"$icon_uri",function(A){var Le=this,se=be;return c(Le["$attr?"]("icon"))?(se=Le.$attr("icon"),c(Je("Helpers")["$extname?"](se))||(se=""+se+"."+Le.document.$attr("icontype","png"))):se=""+A+"."+Le.document.$attr("icontype","png"),Le.$image_uri(se,"iconsdir")}),z(Xe,"$image_uri",function(A,Le){var se=this,ge=be,fe=be;return Le==null&&(Le="imagesdir"),c(g((ge=se.document).$safe(),Se(Je("SafeMode"),"SECURE")))&&c(ge["$attr?"]("data-uri"))?c(Je("Helpers")["$uriish?"](A))&&c(A=Je("Helpers").$encode_spaces_in_uri(A))||c(Le)&&c(fe=ge.$attr(Le))&&c(Je("Helpers")["$uriish?"](fe))&&c(A=se.$normalize_web_path(A,fe,!1))?c(ge["$attr?"]("allow-uri-read"))?se.$generate_data_uri_from_uri(A,ge["$attr?"]("cache-uri")):A:se.$generate_data_uri(A,Le):se.$normalize_web_path(A,c(Le)?ge.$attr(Le):be)},-2),z(Xe,"$media_uri",function(A,Le){var se=this;return Le==null&&(Le="imagesdir"),se.$normalize_web_path(A,c(Le)?se.document.$attr(Le):be)},-2),z(Xe,"$generate_data_uri",function(A,Le){var se=this,ge=be,fe=be,W=be;return Le==null&&(Le=be),c(ge=Je("Helpers").$extname(A,be))?fe=Z(ge,".svg")?"image/svg+xml":"image/"+ge.$slice(1,ge.$length()):fe="application/octet-stream",c(Le)?W=se.$normalize_system_path(A,se.document.$attr(Le),be,T(["target_name"],{target_name:"image"})):W=se.$normalize_system_path(A),c(Se("File")["$readable?"](W))?"data:"+fe+";base64,"+Se("Base64").$strict_encode64(Se("File").$binread(W)):(se.$logger().$warn("image to embed not found or not readable: "+W),"data:"+fe+";base64,")},-2),z(Xe,"$generate_data_uri_from_uri",function(A,Le){var se,ge,fe=this,W=be,ee=be;Le==null&&(Le=!1),c(Le)?Je("Helpers").$require_library("open-uri/cached","open-uri-cached"):We(Je("RUBY_ENGINE_OPAL"))&&Se("OpenURI");try{return ge=Te(Se("OpenURI"),"open_uri",[A,Je("URI_READ_MODE")],function(C){return C==null&&(C=be),[C.$content_type(),C.$read()]}),se=he(ge),W=se[0]==null?be:se[0],ee=se[1]==null?be:se[1],"data:"+W+";base64,"+Se("Base64").$strict_encode64(ee)}catch(M){if(t.rescue(M,[Je("StandardError")]))try{return fe.$logger().$warn("could not retrieve image data from URI: "+A),A}finally{t.pop_exception()}else throw M}},-2),z(Xe,"$normalize_asset_path",function(A,Le,se){var ge=this;return Le==null&&(Le="path"),se==null&&(se=!0),ge.$normalize_system_path(A,ge.document.$base_dir(),be,T(["target_name","recover"],{target_name:Le,recover:se}))},-2),z(Xe,"$normalize_system_path",function(A,Le,se,ge){var fe=this,W=be,ee=be;return Le==null&&(Le=be),se==null&&(se=be),ge==null&&(ge=T([],{})),c(g((W=fe.document).$safe(),Se(Je("SafeMode"),"SAFE")))?c(Le)?c(W.$path_resolver()["$root?"](Le))||(Le=Se("File").$join(W.$base_dir(),Le)):Le=W.$base_dir():(Le=c(ee=Le)?ee:W.$base_dir(),se=c(ee=se)?ee:W.$base_dir()),W.$path_resolver().$system_path(A,Le,se,ge)},-2),z(Xe,"$normalize_web_path",function(A,Le,se){var ge=this;return Le==null&&(Le=be),se==null&&(se=!0),c(se)&&c(Je("Helpers")["$uriish?"](A))?Je("Helpers").$encode_spaces_in_uri(A):ge.document.$path_resolver().$web_path(A,Le)},-2),z(Xe,"$read_asset",function(A,Le){var se=this,ge=be;return Le==null&&(Le=T([],{})),ve(Se("Hash"),Le)||(Le=T(["warn_on_failure"],{warn_on_failure:Le["$!="](!1)})),c(Se("File")["$readable?"](A))?c(Le["$[]"]("normalize"))?Je("Helpers").$prepare_source_string(Se("File").$read(A,T(["mode"],{mode:Je("FILE_READ_MODE")}))).$join(Je("LF")):Se("File").$read(A,T(["mode"],{mode:Je("FILE_READ_MODE")})):(c(Le["$[]"]("warn_on_failure"))&&se.$logger().$warn(""+(c(ge=se.$attr("docfile"))?ge:"<stdin>")+": "+(c(ge=Le["$[]"]("label"))?ge:"file")+" does not exist or cannot be read: "+A),be)},-2),z(Xe,"$read_contents",function(A,Le){var se=this,ge=be,fe=be,W=be,ee=be;if(Le==null&&(Le=T([],{})),ge=se.document,c(Je("Helpers")["$uriish?"](A))||c(fe=Le["$[]"]("start"))&&c(Je("Helpers")["$uriish?"](fe))&&c(A=ge.$path_resolver().$web_path(A,fe)))if(c(ge["$attr?"]("allow-uri-read"))){c(ge["$attr?"]("cache-uri"))&&Je("Helpers").$require_library("open-uri/cached","open-uri-cached");try{c(Le["$[]"]("normalize"))?W=Je("Helpers").$prepare_source_string(Te(Se("OpenURI"),"open_uri",[A,Je("URI_READ_MODE")],function(C){return C==null&&(C=be),C.$read()})).$join(Je("LF")):W=Te(Se("OpenURI"),"open_uri",[A,Je("URI_READ_MODE")],function(C){return C==null&&(C=be),C.$read()})}catch(M){if(t.rescue(M,[Je("StandardError")]))try{c(Le.$fetch("warn_on_failure",!0))&&se.$logger().$warn("could not retrieve contents of "+(c(ee=Le["$[]"]("label"))?ee:"asset")+" at URI: "+A)}finally{t.pop_exception()}else throw M}}else c(Le.$fetch("warn_on_failure",!0))&&se.$logger().$warn("cannot retrieve contents of "+(c(ee=Le["$[]"]("label"))?ee:"asset")+" at URI: "+A+" (allow-uri-read attribute not enabled)");else A=se.$normalize_system_path(A,Le["$[]"]("start"),be,T(["target_name"],{target_name:c(ee=Le["$[]"]("label"))?ee:"asset"})),W=se.$read_asset(A,T(["normalize","warn_on_failure","label"],{normalize:Le["$[]"]("normalize"),warn_on_failure:Le.$fetch("warn_on_failure",!0),label:Le["$[]"]("label")}));return c(W)&&c(Le["$[]"]("warn_if_empty"))&&c(W["$empty?"]())&&se.$logger().$warn("contents of "+(c(ee=Le["$[]"]("label"))?ee:"asset")+" is empty: "+A),W},-2),z(Xe,"$is_uri?",function(A){return Je("Helpers")["$uriish?"](A)})}(Be[0],null,Be)}(Pe[0],Pe)},Opal.modules["asciidoctor/abstract_block"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.send2,c=t.find_super,z=t.eqeq,Te=t.eqeqeq,N=t.def,ve=t.return_val,g=t.truthy,We=t.alias,he=t.send,Pe=t.rb_plus,be=t.not,Se=t.neqeq,st=[],De=t.nil,Oe=t.$$$;return t.add_stubs("attr_reader,attr_writer,attr_accessor,==,===,level,file,lineno,playback_attributes,convert,converter,join,map,to_s,parent,parent=,<<,empty?,Integer,find_by_internal,to_proc,find_by,context,[],items,+,find_index,include?,next_adjacent_block,blocks,select,sub_specialchars,match?,sub_replacements,title,apply_title_subs,delete,!,reftext,nil_or_empty?,sub_placeholder,sub_quotes,compat_mode,attributes,chomp,increment_and_store_counter,index=,numbered,sectname,numeral=,counter,caption=,numeral,int_to_roman,each,assign_numeral,reindex_sections,protected,has_role?,raise,header?,!=,flatten,head,rows,merge,body,foot,style,inner_document"),function(Be,Ge){var it=Y(Be,"Asciidoctor"),y=[it].concat(Ge),Xe=t.$r(y);return function(m,Je,rt){var L=U(m,Je,"AbstractBlock"),A=[L].concat(rt),Le=t.$r(A),se=L.$$prototype;return se.source_location=se.document=se.attributes=se.blocks=se.numeral=se.context=se.parent=se.caption=se.style=se.converted_title=se.title=se.subs=se.next_section_index=se.next_section_ordinal=se.id=se.header=De,L.$attr_reader("blocks"),L.$attr_writer("caption"),L.$attr_accessor("content_model"),L.$attr_accessor("level"),L.$attr_accessor("numeral"),L.$attr_accessor("source_location"),L.$attr_accessor("style"),L.$attr_reader("subs"),N(L,"$initialize",function ge(fe,W,ee){var M=ge.$$p||De,C=this;return ge.$$p=null,ee==null&&(ee=T([],{})),Z(C,c(C,"initialize",ge,!1,!0),"initialize",[fe,W,ee],M),C.content_model="compound",C.blocks=[],C.subs=[],C.id=C.title=C.caption=C.numeral=C.style=C.default_subs=C.source_location=De,z(W,"document")||z(W,"section")?(C.level=C.next_section_index=0,C.next_section_ordinal=1):Te(Le("AbstractBlock"),fe)?C.level=fe.$level():C.level=De},-3),N(L,"$block?",ve(!0)),N(L,"$inline?",ve(!1)),N(L,"$file",function(){var fe=this,W=De;return g(W=fe.source_location)?fe.source_location.$file():W}),N(L,"$lineno",function(){var fe=this,W=De;return g(W=fe.source_location)?fe.source_location.$lineno():W}),N(L,"$convert",function(){var fe=this;return fe.document.$playback_attributes(fe.attributes),fe.$converter().$convert(fe)}),We(L,"render","convert"),N(L,"$content",function(){var fe=this;return he(fe.blocks,"map",[],function(ee){return ee==null&&(ee=De),ee.$convert()}).$join(Le("LF"))}),N(L,"$context=",function(fe){var W=this;return W.node_name=(W.context=fe).$to_s()}),N(L,"$<<",function(fe){var W=this;return z(fe.$parent(),W)||fe["$parent="](W),W.blocks["$<<"](fe),W}),We(L,"append","<<"),N(L,"$blocks?",function(){var fe=this;return!g(fe.blocks["$empty?"]())}),N(L,"$sections?",ve(!1)),N(L,"$number",function(){var fe=this;try{return fe.$Integer(fe.numeral)}catch(W){if(t.rescue(W,[Le("StandardError")]))try{return fe.numeral}finally{t.pop_exception()}else throw W}}),N(L,"$number=",function(fe){var W=this;return W.numeral=fe.$to_s()}),N(L,"$find_by",function ge(fe){var W=ge.$$p||De,ee=this,M=De;ge.$$p=null,fe==null&&(fe=T([],{}));try{return he(ee,"find_by_internal",[fe,M=[]],W.$to_proc())}catch(C){if(t.rescue(C,[Oe("StopIteration")]))try{return M}finally{t.pop_exception()}else throw C}},-1),We(L,"query","find_by"),N(L,"$next_adjacent_block",function(){var fe=this,W=De,ee=De;return z(fe.context,"document")?De:z((W=fe.parent).$context(),"dlist")&&z(fe.context,"list_item")?g(ee=W.$items()["$[]"](Pe(he(W.$items(),"find_index",[],function M(C,k){var H=M.$$s==null?this:M.$$s,j=De;return C==null&&(C=De),k==null&&(k=De),g(j=C["$include?"](H))?j:k["$=="](H)},{$$s:fe}),1)))?ee:W.$next_adjacent_block():g(ee=W.$blocks()["$[]"](Pe(W.$blocks().$find_index(fe),1)))?ee:W.$next_adjacent_block()}),N(L,"$sections",function(){var fe=this;return he(fe.blocks,"select",[],function(ee){return ee==null&&(ee=De),ee.$context()["$=="]("section")})}),N(L,"$alt",function(){var fe=this,W=De;return g(W=fe.attributes["$[]"]("alt"))?z(W,fe.attributes["$[]"]("default-alt"))?fe.$sub_specialchars(W):(W=fe.$sub_specialchars(W),g(Le("ReplaceableTextRx")["$match?"](W))?fe.$sub_replacements(W):W):""}),N(L,"$caption",function(){var fe=this;return z(fe.context,"admonition")?fe.attributes["$[]"]("textlabel"):fe.caption}),N(L,"$captioned_title",function(){var fe=this;return""+fe.caption+fe.$title()}),N(L,"$list_marker_keyword",function(fe){var W=this,ee=De;return fe==null&&(fe=De),Le("ORDERED_LIST_KEYWORDS")["$[]"](g(ee=fe)?ee:W.style)},-1),N(L,"$title",function(){var fe=this,W=De,ee=De;return fe.converted_title=g(W=fe.converted_title)?W:g(ee=fe.title)?fe.$apply_title_subs(fe.title):ee}),N(L,"$title?",function(){var fe=this;return!!g(fe.title)}),N(L,"$title=",function(fe){var W=this;return W.converted_title=De,W.title=fe}),N(L,"$sub?",function(fe){var W=this;return W.subs["$include?"](fe)}),N(L,"$remove_sub",function(fe){var W=this;return W.subs.$delete(fe),De}),N(L,"$xreftext",function(fe){var W=this,ee=De,M=De,C=De,k=De;if(fe==null&&(fe=De),g(ee=W.$reftext())&&be(ee["$empty?"]()))return ee;if(g(fe)&&g(W.title)&&be(W.caption["$nil_or_empty?"]()))switch(fe){case"full":return M=W.$sub_placeholder(W.$sub_quotes(g(W.document.$compat_mode())?"``%s''":'"`%s`"'),W.$title()),g(W.numeral)&&g(k=Le("CAPTION_ATTRIBUTE_NAMES")["$[]"](W.context))&&g(C=W.document.$attributes()["$[]"](k))?""+C+" "+W.numeral+", "+M:""+W.caption.$chomp(". ")+", "+M;case"short":return g(W.numeral)&&g(k=Le("CAPTION_ATTRIBUTE_NAMES")["$[]"](W.context))&&g(C=W.document.$attributes()["$[]"](k))?""+C+" "+W.numeral:W.caption.$chomp(". ");default:return W.$title()}else return W.$title()},-1),N(L,"$assign_caption",function(fe,W){var ee=this,M=De,C=De,k=De;return W==null&&(W=ee.context),g(ee.caption)||be(ee.title)||g(ee.caption=g(M=fe)?M:ee.document.$attributes()["$[]"]("caption"))||g(k=Le("CAPTION_ATTRIBUTE_NAMES")["$[]"](W))&&g(C=ee.document.$attributes()["$[]"](k))&&(ee.caption=""+C+" "+(ee.numeral=ee.document.$increment_and_store_counter(""+W+"-number",ee))+". "),De},-2),N(L,"$assign_numeral",function(fe){var W,ee=this,M=De,C=De,k=De;return ee.next_section_index=Pe((W=[ee.next_section_index],he(fe,"index=",W),W[W.length-1]),1),g(M=fe.$numbered())&&(z(C=fe.$sectname(),"appendix")?(fe["$numeral="](ee.document.$counter("appendix-number","A")),fe["$caption="](g(k=ee.document.$attributes()["$[]"]("appendix-caption"))?""+k+" "+fe.$numeral()+": ":""+fe.$numeral()+". ")):z(C,"chapter")||z(M,"chapter")?fe["$numeral="](ee.document.$counter("chapter-number",1).$to_s()):(fe["$numeral="](z(C,"part")?Le("Helpers").$int_to_roman(ee.next_section_ordinal):ee.next_section_ordinal.$to_s()),ee.next_section_ordinal=Pe(ee.next_section_ordinal,1))),De}),N(L,"$reindex_sections",function(){var fe=this;return fe.next_section_index=0,fe.next_section_ordinal=1,he(fe.blocks,"each",[],function W(ee){var M=W.$$s==null?this:W.$$s;return ee==null&&(ee=De),z(ee.$context(),"section")?(M.$assign_numeral(ee),ee.$reindex_sections()):De},{$$s:fe})}),L.$protected(),N(L,"$find_by_internal",function ge(fe,W){var ee=ge.$$p||De,M=this,C=De,k=De,H=De,j=De,X=De,R=De;if(ge.$$p=null,fe==null&&(fe=T([],{})),W==null&&(W=[]),(g(j=g(X=fe["$[]"]("context"))?De:!0)||z(X,M.context))&&(be(H=fe["$[]"]("style"))||z(H,M.style))&&(be(k=fe["$[]"]("role"))||g(M["$has_role?"](k)))&&(be(C=fe["$[]"]("id"))||z(C,M.id)))if(ee!==De)if(g(R=t.yield1(ee,M)))switch(R){case"prune":return W["$<<"](M),g(C)&&M.$raise(Oe("StopIteration")),W;case"reject":return g(C)&&M.$raise(Oe("StopIteration")),W;case"stop":M.$raise(Oe("StopIteration"));break;default:W["$<<"](M),g(C)&&M.$raise(Oe("StopIteration"))}else g(C)&&M.$raise(Oe("StopIteration"));else W["$<<"](M),g(C)&&M.$raise(Oe("StopIteration"));switch(M.context){case"document":z(X,"document")||(g(M["$header?"]())&&(g(j)||z(X,"section"))&&he(M.header,"find_by_internal",[fe,W],ee.$to_proc()),he(M.blocks,"each",[],function(r){return r==null&&(r=De),z(X,"section")&&Se(r.$context(),"section")?De:he(r,"find_by_internal",[fe,W],ee.$to_proc())}));break;case"dlist":(g(j)||Se(X,"section"))&&he(M.blocks.$flatten(),"each",[],function(r){return r==null&&(r=De),g(r)?he(r,"find_by_internal",[fe,W],ee.$to_proc()):De});break;case"table":g(fe["$[]"]("traverse_documents"))?(he(M.$rows().$head(),"each",[],function(r){return r==null&&(r=De),he(r,"each",[],function(b){return b==null&&(b=De),he(b,"find_by_internal",[fe,W],ee.$to_proc())})}),z(X,"inner_document")&&(fe=fe.$merge(T(["context"],{context:"document"}))),he(Pe(M.$rows().$body(),M.$rows().$foot()),"each",[],function(r){return r==null&&(r=De),he(r,"each",[],function(b){return b==null&&(b=De),he(b,"find_by_internal",[fe,W],ee.$to_proc()),z(b.$style(),"asciidoc")?he(b.$inner_document(),"find_by_internal",[fe,W],ee.$to_proc()):De})})):he(Pe(Pe(M.$rows().$head(),M.$rows().$body()),M.$rows().$foot()),"each",[],function(r){return r==null&&(r=De),he(r,"each",[],function(b){return b==null&&(b=De),he(b,"find_by_internal",[fe,W],ee.$to_proc())})});break;default:he(M.blocks,"each",[],function(r){return r==null&&(r=De),z(X,"section")&&Se(r.$context(),"section")?De:he(r,"find_by_internal",[fe,W],ee.$to_proc())})}return W},-1)}(y[0],Xe("AbstractNode"),y)}(st[0],st)},Opal.modules["asciidoctor/attribute_list"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.hash,c=t.regexp,z=t.hash2,Te=t.def,N=t.truthy,ve=t.rb_plus,g=t.send,We=t.defs,he=t.eqeqeq,Pe=t.eqeq,be=t.rb_times,Se=[],st=t.nil,De=t.$$$;return t.add_stubs("new,[],update,parse,parse_attribute,eos?,skip_delimiter,+,rekey,each_with_index,[]=,private,skip_blank,===,peek,parse_attribute_value,get_byte,start_with?,scan_name,end_with?,rstrip,string,==,unscan,scan_to_delimiter,*,include?,delete,each,split,empty?,apply_subs,scan_to_quote,gsub,skip,scan"),function(Oe,Be){var Ge=Y(Oe,"Asciidoctor"),it=[Ge].concat(Be);return function(y,Xe,m){var Je=U(y,Xe,"AttributeList"),rt=[Je].concat(m),L=t.$r(rt),A=Je.$$prototype;return A.attributes=A.scanner=A.delimiter=A.block=A.delimiter_skip_pattern=A.delimiter_boundary_pattern=st,T(rt[0],"APOS","'"),T(rt[0],"BACKSLASH","\\"),T(rt[0],"QUOT",'"'),T(rt[0],"BoundaryRx",Z(L("QUOT"),/.*?[^\\](?=")/,L("APOS"),/.*?[^\\](?=')/,",",/.*?(?=[ \t]*(,|$))/)),T(rt[0],"EscapedQuotes",Z(L("QUOT"),'\\"',L("APOS"),"\\'")),T(rt[0],"NameRx",c([L("CG_WORD"),"[",L("CC_WORD"),"\\-.]*"])),T(rt[0],"BlankRx",/[ \t]+/),T(rt[0],"SkipRx",z([","],{",":/[ \t]*(,|$)/})),Te(Je,"$initialize",function(se,ge,fe){var W=this;return ge==null&&(ge=st),fe==null&&(fe=","),W.scanner=De("StringScanner").$new(se),W.block=ge,W.delimiter=fe,W.delimiter_skip_pattern=L("SkipRx")["$[]"](fe),W.delimiter_boundary_pattern=L("BoundaryRx")["$[]"](fe),W.attributes=st},-2),Te(Je,"$parse_into",function(se,ge){var fe=this;return ge==null&&(ge=[]),se.$update(fe.$parse(ge))},-2),Te(Je,"$parse",function(se){var ge=this,fe=st;if(se==null&&(se=[]),N(ge.attributes))return ge.attributes;for(ge.attributes=z([],{}),fe=0;N(ge.$parse_attribute(fe,se))&&!N(ge.scanner["$eos?"]());)ge.$skip_delimiter(),fe=ve(fe,1);return ge.attributes},-1),Te(Je,"$rekey",function(se){var ge=this;return L("AttributeList").$rekey(ge.attributes,se)}),We(Je,"$rekey",function(se,ge){return g(ge,"each_with_index",[],function(W,ee){var M,C=st;return W==null&&(W=st),ee==null&&(ee=st),N(W)&&N(C=se["$[]"](ve(ee,1)))?(M=[W,C],g(se,"[]=",M),M[M.length-1]):st}),se}),Je.$private(),Te(Je,"$parse_attribute",function(se,ge){var fe=this,W=st,ee=st,M=st,C=st,k=st,H=st,j=st,X=st,R=st,u=st;if(W=!0,fe.$skip_blank(),he(L("QUOT"),ee=fe.scanner.$peek(1)))M=fe.$parse_attribute_value(fe.scanner.$get_byte());else if(he(L("APOS"),ee))M=fe.$parse_attribute_value(fe.scanner.$get_byte()),N(M["$start_with?"](L("APOS")))||(C=!0);else if(k=N(H=N(j=M=fe.$scan_name())?fe.$skip_blank():j)?H:0,N(fe.scanner["$eos?"]())){if(!(N(M)||N(fe.scanner.$string().$rstrip()["$end_with?"](fe.delimiter))))return st;W=st}else if(Pe(X=fe.scanner.$get_byte(),fe.delimiter))fe.scanner.$unscan();else if(N(M))if(Pe(X,"=")){if(fe.$skip_blank(),he(L("QUOT"),H=X=fe.scanner.$get_byte()))R=fe.$parse_attribute_value(X);else if(he(L("APOS"),H))R=fe.$parse_attribute_value(X),N(R["$start_with?"](L("APOS")))||(C=!0);else if(he(fe.delimiter,H))R="",fe.scanner.$unscan();else if(he(st,H))R="";else if(R=""+X+fe.$scan_to_delimiter(),Pe(R,"None"))return!0}else M=""+M+be(" ",k)+X+fe.$scan_to_delimiter();else M=""+X+fe.$scan_to_delimiter();if(N(R))switch(M){case"options":case"opts":N(R["$include?"](","))?(N(R["$include?"](" "))&&(R=R.$delete(" ")),g(R.$split(","),"each",[],function r(l){var b,d=r.$$s==null?this:r.$$s;return d.attributes==null&&(d.attributes=st),l==null&&(l=st),N(l["$empty?"]())?st:(b=[""+l+"-option",""],g(d.attributes,"[]=",b),b[b.length-1])},{$$s:fe})):N(R["$empty?"]())||fe.attributes["$[]="](""+R+"-option","");break;default:if(N(C)&&N(fe.block))switch(M){case"title":case"reftext":fe.attributes["$[]="](M,R);break;default:fe.attributes["$[]="](M,fe.block.$apply_subs(R))}else fe.attributes["$[]="](M,R)}else N(C)&&N(fe.block)&&(M=fe.block.$apply_subs(M)),N(u=ge["$[]"](se))&&N(M)&&fe.attributes["$[]="](u,M),fe.attributes["$[]="](ve(se,1),M);return W}),Te(Je,"$parse_attribute_value",function(se){var ge=this,fe=st;return Pe(ge.scanner.$peek(1),se)?(ge.scanner.$get_byte(),""):N(fe=ge.$scan_to_quote(se))?(ge.scanner.$get_byte(),N(fe["$include?"](L("BACKSLASH")))?fe.$gsub(L("EscapedQuotes")["$[]"](se),se):fe):""+se+ge.$scan_to_delimiter()}),Te(Je,"$skip_blank",function(){var se=this;return se.scanner.$skip(L("BlankRx"))}),Te(Je,"$skip_delimiter",function(){var se=this;return se.scanner.$skip(se.delimiter_skip_pattern)}),Te(Je,"$scan_name",function(){var se=this;return se.scanner.$scan(L("NameRx"))}),Te(Je,"$scan_to_delimiter",function(){var se=this;return se.scanner.$scan(se.delimiter_boundary_pattern)}),Te(Je,"$scan_to_quote",function(se){var ge=this;return ge.scanner.$scan(L("BoundaryRx")["$[]"](se))})}(it[0],null,it)}(Se[0],Se)},Opal.modules["asciidoctor/block"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.hash2,c=t.alias,z=t.send2,Te=t.find_super,N=t.truthy,ve=t.eqeqeq,g=t.def,We=t.rb_lt,he=t.eqeq,Pe=[],be=t.nil,Se=t.$$$;return t.add_stubs("default=,context,attr_accessor,[],key?,===,drop,delete,[]=,to_s,commit_subs,nil_or_empty?,prepare_source_string,apply_subs,join,<,size,empty?,rstrip,shift,pop,==,warn,logger,class,object_id,inspect"),function(st,De){var Oe=Y(st,"Asciidoctor"),Be=[Oe].concat(De),Ge=t.$r(Be);return function(it,y,Xe){var m=U(it,y,"Block"),Je=[m].concat(Xe),rt=t.$r(Je),L=m.$$prototype;return L.attributes=L.content_model=L.lines=L.subs=L.blocks=L.context=L.style=be,T(Je[0],"DEFAULT_CONTENT_MODEL",Z(["audio","image","listing","literal","stem","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))["$default="]("simple"),c(m,"blockname","context"),m.$attr_accessor("lines"),g(m,"$initialize",function A(Le,se,ge){var fe=A.$$p||be,W=this,ee=be,M=be,C=be;return A.$$p=null,ge==null&&(ge=Z([],{})),z(W,Te(W,"initialize",A,!1,!0),"initialize",[Le,se,ge],fe),W.content_model=N(ee=ge["$[]"]("content_model"))?ee:rt("DEFAULT_CONTENT_MODEL")["$[]"](se),N(ge["$key?"]("subs"))?N(M=ge["$[]"]("subs"))?(ve("default",ee=M)?W.default_subs=ge["$[]"]("default_subs"):ve(Se("Array"),ee)?(W.default_subs=M.$drop(0),W.attributes.$delete("subs")):(W.default_subs=be,W.attributes["$[]="]("subs",M.$to_s())),W.$commit_subs()):(W.default_subs=[],W.attributes.$delete("subs")):W.default_subs=be,N((C=ge["$[]"]("source"))["$nil_or_empty?"]())?W.lines=[]:ve(Se("String"),C)?W.lines=rt("Helpers").$prepare_source_string(C):W.lines=C.$drop(0)},-3),g(m,"$content",function A(){var Le=A.$$p||be,se=this,ge=be,fe=be,W=be,ee=be;switch(A.$$p=null,se.content_model){case"compound":return z(se,Te(se,"content",A,!1,!0),"content",[],Le);case"simple":return se.$apply_subs(se.lines.$join(rt("LF")),se.subs);case"verbatim":case"raw":if(ge=se.$apply_subs(se.lines,se.subs),N(We(ge.$size(),2)))return N(fe=ge["$[]"](0))?fe:"";for(;N(N(fe=W=ge["$[]"](0))?W.$rstrip()["$empty?"]():fe);)ge.$shift();for(;N(N(fe=ee=ge["$[]"](-1))?ee.$rstrip()["$empty?"]():fe);)ge.$pop();return ge.$join(rt("LF"));default:return he(se.content_model,"empty")||se.$logger().$warn("unknown content model '"+se.content_model+"' for block: "+se),be}}),g(m,"$source",function(){var Le=this;return Le.lines.$join(rt("LF"))}),g(m,"$to_s",function(){var Le=this,se=be;return se=he(Le.content_model,"compound")?"blocks: "+Le.blocks.$size():"lines: "+Le.lines.$size(),"#<"+Le.$class()+"@"+Le.$object_id()+" {context: "+Le.context.$inspect()+", content_model: "+Le.content_model.$inspect()+", style: "+Le.style.$inspect()+", "+se+"}>"})}(Be[0],Ge("AbstractBlock"),Be)}(Pe[0],Pe)},Opal.modules["asciidoctor/callouts"]=function(t){var Y=t.module,U=t.klass,T=t.def,Z=t.hash2,c=t.rb_plus,z=t.truthy,Te=t.rb_le,N=t.rb_minus,ve=t.send,g=t.eqeq,We=t.rb_lt,he=[],Pe=t.nil;return t.add_stubs("next_list,<<,current_list,to_i,generate_next_callout_id,+,<=,size,[],-,chop,join,map,==,<,private,generate_callout_id"),function(be,Se){var st=Y(be,"Asciidoctor"),De=[st].concat(Se);return function(Oe,Be){var Ge=U(Oe,Be,"Callouts"),it=Ge.$$prototype;return it.co_index=it.lists=it.list_index=Pe,T(Ge,"$initialize",function(){var Xe=this;return Xe.lists=[],Xe.list_index=0,Xe.$next_list()}),T(Ge,"$register",function(Xe){var m=this,Je=Pe;return m.$current_list()["$<<"](Z(["ordinal","id"],{ordinal:Xe.$to_i(),id:Je=m.$generate_next_callout_id()})),m.co_index=c(m.co_index,1),Je}),T(Ge,"$read_next_id",function(){var Xe=this,m=Pe,Je=Pe;return m=Pe,Je=Xe.$current_list(),z(Te(Xe.co_index,Je.$size()))&&(m=Je["$[]"](N(Xe.co_index,1))["$[]"]("id")),Xe.co_index=c(Xe.co_index,1),m}),T(Ge,"$callout_ids",function(Xe){var m=this;return ve(m.$current_list(),"map",[],function(rt){return rt==null&&(rt=Pe),g(rt["$[]"]("ordinal"),Xe)?""+rt["$[]"]("id")+" ":""}).$join().$chop()}),T(Ge,"$current_list",function(){var Xe=this;return Xe.lists["$[]"](N(Xe.list_index,1))}),T(Ge,"$next_list",function(){var Xe=this;return Xe.list_index=c(Xe.list_index,1),z(We(Xe.lists.$size(),Xe.list_index))&&Xe.lists["$<<"]([]),Xe.co_index=1,Pe}),T(Ge,"$rewind",function(){var Xe=this;return Xe.list_index=1,Xe.co_index=1,Pe}),Ge.$private(),T(Ge,"$generate_next_callout_id",function(){var Xe=this;return Xe.$generate_callout_id(Xe.list_index,Xe.co_index)}),T(Ge,"$generate_callout_id",function(Xe,m){return"CO"+Xe+"-"+m})}(De[0],null)}(he[0],he)},Opal.modules["asciidoctor/converter/composite"]=function(t){var Y=t.module,U=t.klass,T=t.slice,Z=t.extract_kwargs,c=t.ensure_kwargs,z=t.send,Te=t.truthy,N=t.def,ve=t.thrower,g=[],We=t.nil,he=t.$$$;return t.add_stubs("attr_reader,each,respond_to?,composed,init_backend_traits,backend_traits,new,[]=,find_converter,convert,converter_for,node_name,[],handles?,raise"),function(Pe,be){var Se=Y(Pe,"Asciidoctor"),st=[Se].concat(be),De=t.$r(st);return function(Oe,Be){var Ge=U(Oe,Be,"CompositeConverter"),it=Ge.$$prototype;return it.converter_cache=it.converters=We,Ge.$attr_reader("converters"),N(Ge,"$initialize",function(Xe,m,Je){var rt,L,A,Le,se=this;return rt=T(arguments,1),L=Z(rt),L=c(L),A=rt,Le=L.$$smap.backend_traits_source,Le==null&&(Le=We),se.backend=Xe,z(se.converters=A,"each",[],function ge(fe){var W=ge.$$s==null?this:ge.$$s;return fe==null&&(fe=We),Te(fe["$respond_to?"]("composed"))?fe.$composed(W):We},{$$s:se}),Te(Le)&&se.$init_backend_traits(Le.$backend_traits()),se.converter_cache=z(he("Hash"),"new",[],function ge(fe,W){var ee,M=ge.$$s==null?this:ge.$$s;return fe==null&&(fe=We),W==null&&(W=We),ee=[W,M.$find_converter(W)],z(fe,"[]=",ee),ee[ee.length-1]},{$$s:se})},-2),N(Ge,"$convert",function(Xe,m,Je){var rt=this,L=We;return m==null&&(m=We),Je==null&&(Je=We),rt.$converter_for(m=Te(L=m)?L:Xe.$node_name()).$convert(Xe,m,Je)},-2),N(Ge,"$converter_for",function(Xe){var m=this;return m.converter_cache["$[]"](Xe)}),N(Ge,"$find_converter",function(Xe){try{var m=ve("return"),Je=this;return z(Je.converters,"each",[],function(L){if(L==null&&(L=We),Te(L["$handles?"](Xe)))m.$throw(L);else return We},{$$ret:m}),Je.$raise("Could not find a converter to handle transform: "+Xe)}catch(rt){if(rt===m)return rt.$v;throw rt}})}(De("Converter"),he(De("Converter"),"Base"))}(g[0],g)},Opal.modules["asciidoctor/converter"]=function(t){var Y=t.module,U=t.hash2,T=t.def,Z=t.return_val,c=t.truthy,z=t.eqeq,Te=t.defs,N=t.send,ve=t.alias,g=t.slice,We=t.to_a,he=t.extract_kwargs,Pe=t.ensure_kwargs,be=t.eqeqeq,Se=t.Class,st=t.klass,De=t.class_variable_set,Oe=t.class_variable_get,Be=t.rb_plus,Ge=t.gvars,it=[],y=t.nil,Xe=t.$$$;return t.add_stubs("autoload,attr_reader,raise,class,[],sub,slice,length,==,[]=,backend_traits,derive_backend_traits,register,map,to_s,new,create,default,each,default=,registry,for,===,supports_templates?,merge,private,include,delete,clear,send,extend,private_class_method,node_name,+,name,receiver,warn,logger,respond_to?,content"),function(m,Je){var rt=Y(m,"Asciidoctor"),L=[rt].concat(Je);return function(A,Le){var se=Y(A,"Converter"),ge=[se].concat(Le),fe=t.$r(ge);return se.$autoload("CompositeConverter","asciidoctor/converter/composite"),se.$attr_reader("backend"),T(se,"$initialize",function(ee,M){var C=this;return M==null&&(M=U([],{})),C.backend=ee},-2),T(se,"$convert",function(ee,M,C){var k=this;return k.backend==null&&(k.backend=y),k.$raise(Xe("NotImplementedError"),""+k.$class()+" (backend: "+k.backend+") must implement the #convert method")},-2),T(se,"$handles?",Z(!0)),Te(se,"$derive_backend_traits",function(ee,M){var C=y,k=y,H=y;return M==null&&(M=y),c(ee)?(c(C=fe("DEFAULT_EXTENSIONS")["$[]"](M=c(k=M)?k:ee.$sub(fe("TrailingDigitsRx"),"")))?H=C.$slice(1,C.$length()):C="."+(H=M),z(H,"html")?U(["basebackend","filetype","htmlsyntax","outfilesuffix"],{basebackend:M,filetype:H,htmlsyntax:"html",outfilesuffix:C}):U(["basebackend","filetype","outfilesuffix"],{basebackend:M,filetype:H,outfilesuffix:C})):U([],{})},-2),function(W,ee){var M=Y(W,"BackendTraits"),C=[M].concat(ee),k=t.$r(C);return T(M,"$basebackend",function(j){var X,R=this;return j==null&&(j=y),c(j)?(X=["basebackend",j],N(R.$backend_traits(j),"[]=",X),X[X.length-1]):R.$backend_traits()["$[]"]("basebackend")},-1),T(M,"$filetype",function(j){var X,R=this;return j==null&&(j=y),c(j)?(X=["filetype",j],N(R.$backend_traits(),"[]=",X),X[X.length-1]):R.$backend_traits()["$[]"]("filetype")},-1),T(M,"$htmlsyntax",function(j){var X,R=this;return j==null&&(j=y),c(j)?(X=["htmlsyntax",j],N(R.$backend_traits(),"[]=",X),X[X.length-1]):R.$backend_traits()["$[]"]("htmlsyntax")},-1),T(M,"$outfilesuffix",function(j){var X,R=this;return j==null&&(j=y),c(j)?(X=["outfilesuffix",j],N(R.$backend_traits(),"[]=",X),X[X.length-1]):R.$backend_traits()["$[]"]("outfilesuffix")},-1),T(M,"$supports_templates",function(j){var X,R=this;return j==null&&(j=!0),X=["supports_templates",j],N(R.$backend_traits(),"[]=",X),X[X.length-1]},-1),T(M,"$supports_templates?",function(){var j=this;return j.$backend_traits()["$[]"]("supports_templates")}),T(M,"$init_backend_traits",function(j){var X=this,R=y;return j==null&&(j=y),X.backend_traits=c(R=j)?R:U([],{})},-1),T(M,"$backend_traits",function(j){var X=this,R=y;return X.backend_traits==null&&(X.backend_traits=y),X.backend==null&&(X.backend=y),j==null&&(j=y),X.backend_traits=c(R=X.backend_traits)?R:k("Converter").$derive_backend_traits(X.backend,j)},-1),ve(M,"backend_info","backend_traits"),Te(M,"$derive_backend_traits",function(j,X){return X==null&&(X=y),k("Converter").$derive_backend_traits(j,X)},-2)}(ge[0],ge),function(W,ee){var M=Y(W,"Config"),C=[M].concat(ee),k=t.$r(C);return T(M,"$register_for",function(j){var X,R,u=this;return X=g(arguments),R=X,N(k("Converter"),"register",[u].concat(We(N(R,"map",[],function(l){return l==null&&(l=y),l.$to_s()}))))},-1)}(ge[0],ge),function(W,ee){var M=Y(W,"Factory"),C=[M].concat(ee),k=t.$r(C);return Te(M,"$new",function(j,X){var R,u,r,l;return R=g(arguments),u=he(R),u=Pe(u),R.length>0&&(r=R.shift()),r==null&&(r=y),l=u.$$smap.proxy_default,l==null&&(l=!0),c(l)?k("DefaultFactoryProxy").$new(r):k("CustomFactory").$new(r)},-1),Te(M,"$default",function(j){return g(arguments),k("Converter")},-1),Te(M,"$create",function(j,X){var R=this;return X==null&&(X=U([],{})),R.$default().$create(j,X)},-2),T(M,"$register",function(j,X){var R,u,r=this;return R=g(arguments,1),u=R,N(u,"each",[],function l(b){var d,f=l.$$s==null?this:l.$$s;return b==null&&(b=y),z(b,"*")?(d=[j],N(f.$registry(),"default=",d),d[d.length-1]):(d=[b,j],N(f.$registry(),"[]=",d),d[d.length-1])},{$$s:r})},-2),T(M,"$for",function(j){var X=this;return X.$registry()["$[]"](j)}),T(M,"$create",function(j,X){var R=this,u=y,r=y,l=y;return X==null&&(X=U([],{})),c(u=R.$for(j))?(be(Se,u)&&(u=u.$new(j,X)),c(r=X["$[]"]("template_dirs"))&&be(k("BackendTraits"),u)&&c(u["$supports_templates?"]())?k("CompositeConverter").$new(j,k("TemplateConverter").$new(j,r,X),u,U(["backend_traits_source"],{backend_traits_source:u})):u):c(r=X["$[]"]("template_dirs"))?c(l=X["$[]"]("delegate_backend"))&&c(u=R.$for(l))?(be(Se,u)&&(u=u.$new(l,X)),k("CompositeConverter").$new(j,k("TemplateConverter").$new(j,r,X),u,U(["backend_traits_source"],{backend_traits_source:u}))):k("TemplateConverter").$new(j,r,X):y},-2),T(M,"$converters",function(){var j=this;return j.$registry().$merge()}),M.$private(),T(M,"$registry",function(){var j=this;return j.$raise(Xe("NotImplementedError"),""+k("Factory")+" subclass "+j.$class()+" must implement the #registry method")})}(ge[0],ge),function(W,ee,M){var C=st(W,ee,"CustomFactory"),k=[C].concat(M),H=t.$r(k);return C.$include(H("Factory")),T(C,"$initialize",function(X){var R=this;return X==null&&(X=y),c(X)?(X["$default="](X.$delete("*")),R.registry=X):R.registry=U([],{})},-1),T(C,"$unregister_all",function(){var X,R=this;return X=[y],N(R.$registry().$clear(),"default=",X),X[X.length-1]}),C.$private(),C.$attr_reader("registry")}(ge[0],null,ge),function(W,ee){var M=Y(W,"DefaultFactory"),C=[M].concat(ee),k=t.$r(C);return M.$include(k("Factory")),M.$private(),De(C[0],"@@registry",U([],{})),T(M,"$registry",function(){return Oe(C[0],"@@registry",!1)}),y}(ge[0],ge),function(W,ee,M){var C=st(W,ee,"DefaultFactoryProxy"),k=[C].concat(M),H=t.$r(k);return C.$include(H("DefaultFactory")),y}(ge[0],fe("CustomFactory"),ge),Te(se,"$included",function(ee){return ee.$send("include",fe("BackendTraits")),ee.$extend(fe("Config"))}),se.$private_class_method("included"),function(W,ee,M){var C=st(W,ee,"Base"),k=[C].concat(M),H=t.$r(k),j=C.$$prototype;return j.backend=y,C.$include(H("Logging")),C.$include(H("Converter")),T(C,"$convert",function(R,u,r){var l=this,b=y;Ge["!"]==null&&(Ge["!"]=y),u==null&&(u=R.$node_name()),r==null&&(r=y);try{return c(r)?l.$send(Be("convert_",u),R,r):l.$send(Be("convert_",u),R)}catch(d){if(t.rescue(d,[H("StandardError")]))try{return be(Xe("NoMethodError"),b=Ge["!"])&&z(b.$receiver(),l)&&z(b.$name().$to_s(),u)||l.$raise(),l.$logger().$warn("missing convert handler for "+b.$name()+" node in "+l.backend+" backend ("+l.$class()+")"),y}finally{t.pop_exception()}else throw d}},-2),T(C,"$handles?",function(R){var u=this;return u["$respond_to?"]("convert_"+R)}),T(C,"$content_only",function(R){return R.$content()}),T(C,"$skip",Z(y))}(ge[0],null,ge),se.$extend(fe("DefaultFactory"))}(L[0],L)}(it[0],it)},Opal.modules["asciidoctor/document"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.send,c=t.alias,z=t.truthy,Te=t.def,N=t.hash2,ve=t.not,g=t.to_ary,We=t.return_ivar,he=t.send2,Pe=t.find_super,be=t.rb_minus,Se=t.eqeq,st=t.eqeqeq,De=t.hash,Oe=t.rb_ge,Be=t.rb_plus,Ge=t.neqeq,it=t.thrower,y=t.rb_gt,Xe=t.rb_lt,m=t.gvars,Je=t.to_a,rt=[],L=t.nil,A=t.$$$;return t.add_stubs("new,target,attr_reader,nil?,<<,[],[]=,main,include?,strip,squeeze,gsub,!,empty?,rpartition,attr_accessor,catalog,delete,base_dir,options,merge,instance_variable_get,attributes,safe,compat_mode,outfilesuffix,sourcemap,path_resolver,converter,extensions,syntax_highlighter,each,end_with?,start_with?,slice,-,length,chop,==,downcase,===,extname,value_for_name,key?,freeze,attribute_undefined,attribute_missing,update,&,keys,name_for_value,expand_path,pwd,to_s,>=,+,abs,to_i,delete_if,update_doctype_attributes,cursor,parse,restore_attributes,update_backend_attributes,fetch,fill_datetime_attributes,activate,groups,create,to_proc,preprocessors?,preprocessors,process_method,tree_processors?,tree_processors,!=,counter,nil_or_empty?,attribute_locked?,nextval,value,save_to,increment_and_store_counter,register,tap,xreftext,>,source,source_lines,doctitle,sectname=,title=,first_section,title,reftext,<,find,context,header?,assign_numeral,clear_playback_attributes,save_attributes,name,negate,rewind,replace,apply_attribute_value_subs,delete?,start,doctype,content_model,warn,logger,content,convert,postprocessors?,postprocessors,record,write,respond_to?,chomp,class,write_alternate_pages,map,split,resolve_docinfo_subs,normalize_system_path,read_asset,apply_subs,docinfo_processors?,join,concat,compact,docinfo_processors,object_id,inspect,size,private,=~,resolve_pass_subs,apply_header_subs,limit_bytesize,bytesize,valid_encoding?,byteslice,resolve_subs,utc,at,Integer,now,index,strftime,year,utc_offset,partition,create_converter,basebackend,filetype,htmlsyntax,derive_backend_traits,raise"),function(Le,se){var ge=Y(Le,"Asciidoctor"),fe=[ge].concat(se),W=t.$r(fe);return function(ee,M,C){var k=U(ee,M,"Document"),H=[k].concat(C),j=t.$r(H),X=k.$$prototype;return X.attributes=X.safe=X.sourcemap=X.reader=X.base_dir=X.parsed=X.parent_document=X.extensions=X.options=X.counters=X.catalog=X.reftexts=X.next_section_index=X.header=X.blocks=X.header_attributes=X.attributes_modified=X.backend=X.attribute_overrides=X.timings=X.converter=X.outfilesuffix=X.docinfo_processor_extensions=X.document=X.max_attribute_value_size=X.id=X.doctype=L,T(H[0],"ImageReference",Z(A("Struct"),"new",["target","imagesdir"],function R(){var u=R.$$s==null?this:R.$$s;return c(u,"to_s","target")},{$$s:k})),T(H[0],"Footnote",A("Struct").$new("index","id","text")),function(R,u){var r=U(R,u,"AttributeEntry");return r.$attr_reader("name","value","negate"),Te(r,"$initialize",function(b,d,f){var S=this;return f==null&&(f=L),S.name=b,S.value=d,S.negate=z(f["$nil?"]())?d["$nil?"]():f},-3),Te(r,"$save_to",function(b){var d,f=this,S=L;return(z(S=b["$[]"]("attribute_entries"))?S:(d=["attribute_entries",[]],Z(b,"[]=",d),d[d.length-1]))["$<<"](f),f})}(H[0],null),function(R,u,r){var l=U(R,u,"Title"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.subtitle=L,l.$attr_reader("main"),c(l,"title","main"),l.$attr_reader("subtitle"),l.$attr_reader("combined"),Te(l,"$initialize",function(q,J){var G,$e,ke=this,He=L,Ze=L;return J==null&&(J=N([],{})),z(ke.sanitized=J["$[]"]("sanitize"))&&z(q["$include?"]("<"))&&(q=q.$gsub(d("XmlSanitizeRx"),"").$squeeze(" ").$strip()),z((He=z(Ze=J["$[]"]("separator"))?Ze:":")["$empty?"]())||ve(q["$include?"](He=""+He+" "))?(ke.main=q,ke.subtitle=L):($e=q.$rpartition(He),G=g($e),ke.main=G[0]==null?L:G[0],G[1]==null||G[1],ke.subtitle=G[2]==null?L:G[2]),ke.combined=q},-2),Te(l,"$sanitized?",We("sanitized")),Te(l,"$subtitle?",function(){var q=this;return!!z(q.subtitle)}),Te(l,"$to_s",We("combined"))}(H[0],null,H),T(H[0],"Author",A("Struct").$new("name","firstname","middlename","lastname","initials","email")),k.$attr_reader("safe"),k.$attr_reader("compat_mode"),k.$attr_reader("backend"),k.$attr_reader("doctype"),k.$attr_accessor("sourcemap"),k.$attr_reader("catalog"),c(k,"references","catalog"),k.$attr_reader("counters"),k.$attr_reader("header"),k.$attr_reader("base_dir"),k.$attr_reader("options"),k.$attr_reader("outfilesuffix"),k.$attr_reader("parent_document"),k.$attr_reader("reader"),k.$attr_reader("path_resolver"),k.$attr_reader("converter"),k.$attr_reader("syntax_highlighter"),k.$attr_reader("extensions"),Te(k,"$initialize",function R(u,r){var l,b,d,f;R.$$p;var S=this,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L,$t=L,et=L,at=L,ct=L,ft=L,ut=L,ht=L,dt=L,At=L,yt=L,It=L;return R.$$p=null,u==null&&(u=L),r==null&&(r=N([],{})),he(S,Pe(S,"initialize",R,!1,!0),"initialize",[S,"document"],null),z(q=r.$delete("parent"))?(S.parent_document=q,z(J=r["$[]"]("base_dir"))||r["$[]="]("base_dir",q.$base_dir()),z(q.$options()["$[]"]("catalog_assets"))&&r["$[]="]("catalog_assets",!0),z(q.$options()["$[]"]("to_dir"))&&r["$[]="]("to_dir",q.$options()["$[]"]("to_dir")),S.catalog=q.$catalog().$merge(N(["footnotes"],{footnotes:[]})),S.attribute_overrides=G=q.$instance_variable_get("@attribute_overrides").$merge(q.$attributes()),G.$delete("compat-mode"),$e=G.$delete("doctype"),G.$delete("notitle"),G.$delete("showtitle"),G.$delete("toc"),S.attributes["$[]="]("toc-placement",z(J=G.$delete("toc-placement"))?J:"auto"),G.$delete("toc-position"),S.safe=q.$safe(),z(S.compat_mode=q.$compat_mode())&&S.attributes["$[]="]("compat-mode",""),S.outfilesuffix=q.$outfilesuffix(),S.sourcemap=q.$sourcemap(),S.timings=L,S.path_resolver=q.$path_resolver(),S.converter=q.$converter(),ke=L,S.extensions=q.$extensions(),S.syntax_highlighter=q.$syntax_highlighter()):(S.parent_document=L,S.catalog=N(["ids","refs","footnotes","links","images","callouts","includes"],{ids:N([],{}),refs:N([],{}),footnotes:[],links:[],images:[],callouts:j("Callouts").$new(),includes:N([],{})}),S.attribute_overrides=G=N([],{}),Z(z(J=r["$[]"]("attributes"))?J:N([],{}),"each",[],function(wt,Et){var Ct;return wt==null&&(wt=L),Et==null&&(Et=L),z(wt["$end_with?"]("@"))?z(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,be(wt.$length(),2)),!1],wt=Ct[0],Et=Ct[1]):z(wt["$end_with?"]("!@"))?(Ct=[wt.$slice(0,be(wt.$length(),2)),!1],wt=Ct[0],Et=Ct[1]):(Ct=[wt.$chop(),""+Et+"@"],wt=Ct[0],Et=Ct[1]):z(wt["$start_with?"]("!"))?(Ct=[wt.$slice(1,wt.$length()),Se(Et,"@")?!1:L],wt=Ct[0],Et=Ct[1]):z(wt["$end_with?"]("!"))&&(Ct=[wt.$chop(),Se(Et,"@")?!1:L],wt=Ct[0],Et=Ct[1]),Ct=[wt.$downcase(),Et],Z(G,"[]=",Ct),Ct[Ct.length-1]}),st(A("String"),He=r["$[]"]("to_file"))&&G["$[]="]("outfilesuffix",j("Helpers").$extname(He)),ve(Ze=r["$[]"]("safe"))?S.safe=A(j("SafeMode"),"SECURE"):st(A("Integer"),Ze)?S.safe=Ze:S.safe=function(){try{return j("SafeMode").$value_for_name(Ze)}catch(St){if(t.rescue(St,[j("StandardError")]))try{return A(j("SafeMode"),"SECURE")}finally{t.pop_exception()}else throw St}}(),$t=r.$delete("input_mtime"),S.compat_mode=G["$key?"]("compat-mode"),S.sourcemap=r["$[]"]("sourcemap"),S.timings=r.$delete("timings"),S.path_resolver=j("PathResolver").$new(),ke=z((l=A("::","Asciidoctor","skip_raise"))&&A(l,"Extensions","skip_raise")?"constant":L)||z(r["$key?"]("extensions"))?A(A("Asciidoctor"),"Extensions"):L,S.extensions=L,z(r["$key?"]("header_footer"))&&ve(r["$key?"]("standalone"))&&r["$[]="]("standalone",r["$[]"]("header_footer"))),S.parsed=S.reftexts=S.header=S.header_attributes=L,S.counters=N([],{}),S.attributes_modified=A("Set").$new(),S.docinfo_processor_extensions=N([],{}),et=r["$[]"]("standalone"),(S.options=r).$freeze(),at=S.attributes,z(q)||(at["$[]="]("attribute-undefined",j("Compliance").$attribute_undefined()),at["$[]="]("attribute-missing",j("Compliance").$attribute_missing()),at.$update(j("DEFAULT_ATTRIBUTES"))),z(et)?(G["$[]="]("embedded",L),at["$[]="]("copycss",""),at["$[]="]("iconfont-remote",""),at["$[]="]("stylesheet",""),at["$[]="]("webfonts","")):(G["$[]="]("embedded",""),z(G["$key?"]("showtitle"))&&Se(G.$keys()["$&"](["notitle","showtitle"])["$[]"](-1),"showtitle")?G["$[]="]("notitle",De(L,"",!1,"@","@",!1)["$[]"](G["$[]"]("showtitle"))):z(G["$key?"]("notitle"))?G["$[]="]("showtitle",De(L,"",!1,"@","@",!1)["$[]"](G["$[]"]("notitle"))):at["$[]="]("notitle","")),G["$[]="]("asciidoctor",""),G["$[]="]("asciidoctor-version",A(A("Asciidoctor"),"VERSION")),G["$[]="]("safe-mode-name",ct=j("SafeMode").$name_for_value(S.safe)),G["$[]="]("safe-mode-"+ct,""),G["$[]="]("safe-mode-level",S.safe),z(J=G["$[]"]("max-include-depth"))||G["$[]="]("max-include-depth",64),z(J=G["$[]"]("allow-uri-read"))||G["$[]="]("allow-uri-read",L),z(G["$key?"]("numbered"))&&G["$[]="]("sectnums",G.$delete("numbered")),z(G["$key?"]("hardbreaks"))&&G["$[]="]("hardbreaks-option",G.$delete("hardbreaks")),z(ft=r["$[]"]("base_dir"))?S.base_dir=(b=["docdir",A("File").$expand_path(ft)],Z(G,"[]=",b),b[b.length-1]):z(G["$[]"]("docdir"))?S.base_dir=G["$[]"]("docdir"):S.base_dir=(b=["docdir",A("Dir").$pwd()],Z(G,"[]=",b),b[b.length-1]),z(ut=r["$[]"]("backend"))&&G["$[]="]("backend",ut.$to_s()),z(ht=r["$[]"]("doctype"))&&G["$[]="]("doctype",ht.$to_s()),z(Oe(S.safe,A(j("SafeMode"),"SERVER")))?(z(J=G["$[]"]("copycss"))||G["$[]="]("copycss",L),z(J=G["$[]"]("source-highlighter"))||G["$[]="]("source-highlighter",L),z(J=G["$[]"]("backend"))||G["$[]="]("backend",j("DEFAULT_BACKEND")),ve(q)&&z(G["$key?"]("docfile"))&&G["$[]="]("docfile",G["$[]"]("docfile")["$[]"](t.Range.$new(Be(G["$[]"]("docdir").$length(),1),-1,!1))),G["$[]="]("docdir",""),z(J=G["$[]"]("user-home"))||G["$[]="]("user-home","."),z(Oe(S.safe,A(j("SafeMode"),"SECURE")))&&(z(G["$key?"]("max-attribute-value-size"))||G["$[]="]("max-attribute-value-size",4096),z(G["$key?"]("linkcss"))||G["$[]="]("linkcss",""),z(J=G["$[]"]("icons"))||G["$[]="]("icons",L))):z(J=G["$[]"]("user-home"))||G["$[]="]("user-home",j("USER_HOME")),S.max_attribute_value_size=z(dt=z(J=G["$[]"]("max-attribute-value-size"))?J:(b=["max-attribute-value-size",L],Z(G,"[]=",b),b[b.length-1]))?dt.$to_i().$abs():L,Z(G,"delete_if",[],function(wt,Et){var Ct,zt=L;return wt==null&&(wt=L),Et==null&&(Et=L),z(Et)?(st(A("String"),Et)&&z(Et["$end_with?"]("@"))&&(Ct=[Et.$chop(),!0],Et=Ct[0],zt=Ct[1]),at["$[]="](wt,Et)):(at.$delete(wt),zt=Et["$=="](!1)),zt}),z(q)?(S.backend=at["$[]"]("backend"),Se(S.doctype=(b=["doctype",$e],Z(at,"[]=",b),b[b.length-1]),j("DEFAULT_DOCTYPE"))||S.$update_doctype_attributes(j("DEFAULT_DOCTYPE")),S.reader=j("Reader").$new(u,r["$[]"]("cursor")),z(S.sourcemap)&&(S.source_location=S.reader.$cursor()),j("Parser").$parse(S.reader,S),S.$restore_attributes(),S.parsed=!0):(S.backend=L,Se(At=z(J=at["$[]"]("backend"))?J:j("DEFAULT_BACKEND"),"manpage")?S.doctype=(b=["doctype",(d=["doctype","manpage"],Z(G,"[]=",d),d[d.length-1])],Z(at,"[]=",b),b[b.length-1]):S.doctype=z(J=at["$[]"]("doctype"))?J:(b=["doctype",j("DEFAULT_DOCTYPE")],Z(at,"[]=",b),b[b.length-1]),S.$update_backend_attributes(At,!0),z(J=at["$[]"]("stylesdir"))||at["$[]="]("stylesdir","."),z(J=at["$[]"]("iconsdir"))||at["$[]="]("iconsdir",""+at.$fetch("imagesdir","./images")+"/icons"),S.$fill_datetime_attributes(at,$t),z(ke)&&(z(yt=r["$[]"]("extension_registry"))?(st(A(j("Extensions"),"Registry"),yt)||z((f=A("::","AsciidoctorJ","skip_raise"))&&(d=A(f,"Extensions","skip_raise"))&&(b=A(d,"ExtensionRegistry","skip_raise"))?"constant":L)&&st(A(A(A("AsciidoctorJ"),"Extensions"),"ExtensionRegistry"),yt))&&(S.extensions=yt.$activate(S)):z((It=r["$[]"]("extensions"))["$nil?"]())?z(j("Extensions").$groups()["$empty?"]())||(S.extensions=A(j("Extensions"),"Registry").$new().$activate(S)):st(A("Proc"),It)&&(S.extensions=Z(j("Extensions"),"create",[],It.$to_proc()).$activate(S))),S.reader=j("PreprocessorReader").$new(S,u,A(j("Reader"),"Cursor").$new(at["$[]"]("docfile"),S.base_dir),N(["normalize"],{normalize:!0})),z(S.sourcemap)?S.source_location=S.reader.$cursor():L)},-1),Te(k,"$parse",function(u){var r=this,l=L,b=L;return u==null&&(u=L),z(r.parsed)?r:(l=r,z(u)&&(r.reader=j("PreprocessorReader").$new(l,u,A(j("Reader"),"Cursor").$new(r.attributes["$[]"]("docfile"),r.base_dir),N(["normalize"],{normalize:!0})),z(r.sourcemap)&&(r.source_location=r.reader.$cursor())),z(b=z(r.parent_document)?L:r.extensions)&&z(b["$preprocessors?"]())&&Z(b.$preprocessors(),"each",[],function d(f){var S=d.$$s==null?this:d.$$s,q=L;return S.reader==null&&(S.reader=L),f==null&&(f=L),S.reader=z(q=f.$process_method()["$[]"](l,S.reader))?q:S.reader},{$$s:r}),j("Parser").$parse(r.reader,l,N(["header_only"],{header_only:r.options["$[]"]("parse_header_only")})),r.$restore_attributes(),z(b)&&z(b["$tree_processors?"]())&&Z(b.$tree_processors(),"each",[],function(f){var S=L;return f==null&&(f=L),z(S=f.$process_method()["$[]"](l))&&st(j("Document"),S)&&Ge(S,l)?l=S:L}),r.parsed=!0,l)},-1),Te(k,"$parsed?",We("parsed")),Te(k,"$counter",function(u,r){var l,b=this,d=L,f=L,S=L;return r==null&&(r=L),z(b.parent_document)?b.parent_document.$counter(u,r):(z(f=b["$attribute_locked?"](u))&&z(d=b.counters["$[]"](u))||ve((d=b.attributes["$[]"](u))["$nil_or_empty?"]())?S=(l=[u,j("Helpers").$nextval(d)],Z(b.counters,"[]=",l),l[l.length-1]):z(r)?S=(l=[u,Se(r,r.$to_i().$to_s())?r.$to_i():r],Z(b.counters,"[]=",l),l[l.length-1]):S=(l=[u,1],Z(b.counters,"[]=",l),l[l.length-1]),z(f)||b.attributes["$[]="](u,S),S)},-2),Te(k,"$increment_and_store_counter",function(u,r){var l=this;return j("AttributeEntry").$new(u,l.$counter(u)).$save_to(r.$attributes()).$value()}),c(k,"counter_increment","increment_and_store_counter"),Te(k,"$register",function(u,r){var l=this,b=L,d=L,f=L;switch(u){case"ids":return l.$register("refs",[b=r["$[]"](0),j("Inline").$new(l,"anchor",r["$[]"](1),N(["type","id"],{type:"ref",id:b}))]);case"refs":return d=l.catalog["$[]"]("refs"),z(d["$[]"](r["$[]"](0)))||d["$[]="](r["$[]"](0),f=r["$[]"](1)),f;case"footnotes":return l.catalog["$[]"](u)["$<<"](r);default:return z(l.options["$[]"]("catalog_assets"))?l.catalog["$[]"](u)["$<<"](Se(u,"images")?j("ImageReference").$new(r,l.attributes["$[]"]("imagesdir")):r):L}}),Te(k,"$resolve_id",function(u){var r=this,l=L,b=L;return z(r.reftexts)?r.reftexts["$[]"](u):z(r.parsed)?Z(r.reftexts=N([],{}),"tap",[],function d(f){var S=d.$$s==null?this:d.$$s;return S.catalog==null&&(S.catalog=L),f==null&&(f=L),Z(S.catalog["$[]"]("refs"),"each",[],function(J,G){var $e,ke=L;return J==null&&(J=L),G==null&&(G=L),z(ke=f["$[]"](G.$xreftext()))?ke:($e=[G.$xreftext(),J],Z(f,"[]=",$e),$e[$e.length-1])})},{$$s:r})["$[]"](u):(l=L,r.reftexts=b=N([],{}),function(){try{var d=it("break");return Z(r.catalog["$[]"]("refs"),"each",[],function(S,q){var J,G=L,$e=L;return S==null&&(S=L),q==null&&(q=L),Se(G=q.$xreftext(),u)&&(l=S,d.$throw()),z($e=b["$[]"](G))?$e:(J=[G,S],Z(b,"[]=",J),J[J.length-1])})}catch(f){if(f===d)return f.$v;throw f}}(),r.reftexts=L,l)}),Te(k,"$sections?",function(){var u=this;return y(u.next_section_index,0)}),Te(k,"$footnotes?",function(){var u=this;return!z(u.catalog["$[]"]("footnotes")["$empty?"]())}),Te(k,"$footnotes",function(){var u=this;return u.catalog["$[]"]("footnotes")}),Te(k,"$callouts",function(){var u=this;return u.catalog["$[]"]("callouts")}),Te(k,"$nested?",function(){var u=this;return!!z(u.parent_document)}),Te(k,"$embedded?",function(){var u=this;return u.attributes["$key?"]("embedded")}),Te(k,"$extensions?",function(){var u=this;return!!z(u.extensions)}),Te(k,"$source",function(){var u=this;return z(u.reader)?u.reader.$source():L}),Te(k,"$source_lines",function(){var u=this;return z(u.reader)?u.reader.$source_lines():L}),Te(k,"$basebackend?",function(u){var r=this;return r.attributes["$[]"]("basebackend")["$=="](u)}),Te(k,"$title",function(){var u=this;return u.$doctitle()}),Te(k,"$title=",function(u){var r,l=this,b=L;return z(b=l.header)||(b=l.header=j("Section").$new(l,0))["$sectname="]("header"),r=[u],Z(b,"title=",r),r[r.length-1]}),Te(k,"$doctitle",function(u){var r=this,l=L,b=L,d=L,f=L;if(u==null&&(u=N([],{})),!z(l=r.attributes["$[]"]("title"))){if(z(b=r.$first_section()))l=b.$title();else if(ve(z(d=u["$[]"]("use_fallback"))?l=r.attributes["$[]"]("untitled-label"):d))return L}return z(f=u["$[]"]("partition"))?j("Title").$new(l,u.$merge(N(["separator"],{separator:Se(f,!0)?r.attributes["$[]"]("title-separator"):f}))):z(u["$[]"]("sanitize"))&&z(l["$include?"]("<"))?l.$gsub(j("XmlSanitizeRx"),"").$squeeze(" ").$strip():l},-1),c(k,"name","doctitle"),Te(k,"$xreftext",function(u){var r=this,l=L;return z(l=r.$reftext())&&ve(l["$empty?"]())?l:r.$title()},-1),Te(k,"$author",function(){var u=this;return u.attributes["$[]"]("author")}),Te(k,"$authors",function(){var u=this,r=L,l=L,b=L,d=L,f=L;if(z((r=u.attributes)["$key?"]("author"))){if(l=[j("Author").$new(r["$[]"]("author"),r["$[]"]("firstname"),r["$[]"]("middlename"),r["$[]"]("lastname"),r["$[]"]("authorinitials"),r["$[]"]("email"))],z(y(b=z(d=r["$[]"]("authorcount"))?d:0,1)))for(f=1;z(Xe(f,b));)f=Be(f,1),l["$<<"](j("Author").$new(r["$[]"]("author_"+f),r["$[]"]("firstname_"+f),r["$[]"]("middlename_"+f),r["$[]"]("lastname_"+f),r["$[]"]("authorinitials_"+f),r["$[]"]("email_"+f)));return l}else return[]}),Te(k,"$revdate",function(){var u=this;return u.attributes["$[]"]("revdate")}),Te(k,"$notitle",function(){var u=this;return u.attributes["$key?"]("notitle")}),Te(k,"$noheader",function(){var u=this;return u.attributes["$key?"]("noheader")}),Te(k,"$nofooter",function(){var u=this;return u.attributes["$key?"]("nofooter")}),Te(k,"$first_section",function(){var u=this,r=L;return z(r=u.header)?r:Z(u.blocks,"find",[],function(b){return b==null&&(b=L),b.$context()["$=="]("section")})}),Te(k,"$header?",function(){var u=this;return!!z(u.header)}),c(k,"has_header?","header?"),Te(k,"$<<",function R(u){var r=R.$$p||L,l=this;return R.$$p=null,Se(u.$context(),"section")&&l.$assign_numeral(u),he(l,Pe(l,"<<",R,!1,!0),"<<",[u],r)}),Te(k,"$finalize_header",function(u,r){var l=this;return r==null&&(r=!0),l.$clear_playback_attributes(u),l.$save_attributes(),z(r)||u["$[]="]("invalid-header",!0),u},-2),Te(k,"$playback_attributes",function(u){var r=this;return z(u["$key?"]("attribute_entries"))?Z(u["$[]"]("attribute_entries"),"each",[],function l(b){var d=l.$$s==null?this:l.$$s,f=L;return d.attributes==null&&(d.attributes=L),b==null&&(b=L),f=b.$name(),z(b.$negate())?(d.attributes.$delete(f),Se(f,"compat-mode")?d.compat_mode=!1:L):(d.attributes["$[]="](f,b.$value()),Se(f,"compat-mode")?d.compat_mode=!0:L)},{$$s:r}):L}),Te(k,"$restore_attributes",function(){var u=this;return z(u.parent_document)||u.catalog["$[]"]("callouts").$rewind(),u.attributes.$replace(u.header_attributes)}),Te(k,"$set_attribute",function(u,r){var l=this,b=L;if(r==null&&(r=""),z(l["$attribute_locked?"](u)))return L;if(z(r["$empty?"]())||(r=l.$apply_attribute_value_subs(r)),z(l.header_attributes))l.attributes["$[]="](u,r);else{switch(u){case"backend":l.$update_backend_attributes(r,z(b=l.attributes_modified["$delete?"]("htmlsyntax"))?r["$=="](l.backend):b);break;case"doctype":l.$update_doctype_attributes(r);break;default:l.attributes["$[]="](u,r)}l.attributes_modified["$<<"](u)}return r},-2),Te(k,"$delete_attribute",function(u){var r=this;return z(r["$attribute_locked?"](u))?!1:(r.attributes.$delete(u),r.attributes_modified["$<<"](u),!0)}),Te(k,"$attribute_locked?",function(u){var r=this;return r.attribute_overrides["$key?"](u)}),Te(k,"$set_header_attribute",function(u,r,l){var b=this,d=L,f=L;return r==null&&(r=""),l==null&&(l=!0),d=z(f=b.header_attributes)?f:b.attributes,Se(l,!1)&&z(d["$key?"](u))?!1:(d["$[]="](u,r),!0)},-2),Te(k,"$convert",function(u){var r,l=this,b=L,d=L,f=L,S=L,q=L;return u==null&&(u=N([],{})),z(l.timings)&&l.timings.$start("convert"),z(l.parsed)||l.$parse(),z(Oe(l.safe,A(j("SafeMode"),"SERVER")))||z(u["$empty?"]())||(z((r=["outfile",u["$[]"]("outfile")],Z(l.attributes,"[]=",r),r[r.length-1]))||l.attributes.$delete("outfile"),z((r=["outdir",u["$[]"]("outdir")],Z(l.attributes,"[]=",r),r[r.length-1]))||l.attributes.$delete("outdir")),Se(l.$doctype(),"inline")?z(b=z(d=l.blocks["$[]"](0))?d:l.header)&&(Se(b.$content_model(),"compound")||Se(b.$content_model(),"empty")?l.$logger().$warn("no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):f=b.$content()):(z(u["$key?"]("standalone"))?S=z(u["$[]"]("standalone"))?"document":"embedded":z(u["$key?"]("header_footer"))?S=z(u["$[]"]("header_footer"))?"document":"embedded":S=z(l.options["$[]"]("standalone"))?"document":"embedded",f=l.converter.$convert(l,S)),z(l.parent_document)||z(q=l.extensions)&&z(q["$postprocessors?"]())&&Z(q.$postprocessors(),"each",[],function J(G){var $e=J.$$s==null?this:J.$$s;return G==null&&(G=L),f=G.$process_method()["$[]"]($e,f)},{$$s:l}),z(l.timings)&&l.timings.$record("convert"),f},-1),c(k,"render","convert"),Te(k,"$write",function(u,r){var l=this;return z(l.timings)&&l.timings.$start("write"),st(j("Writer"),l.converter)?l.converter.$write(u,r):(z(r["$respond_to?"]("write"))?z(u["$nil_or_empty?"]())||(r.$write(u.$chomp()),r.$write(j("LF"))):A("File").$write(r,u,N(["mode"],{mode:j("FILE_WRITE_MODE")})),Se(l.backend,"manpage")&&st(A("String"),r)&&z(l.converter.$class()["$respond_to?"]("write_alternate_pages"))&&l.converter.$class().$write_alternate_pages(l.attributes["$[]"]("mannames"),l.attributes["$[]"]("manvolnum"),r)),z(l.timings)&&l.timings.$record("write"),L}),Te(k,"$content",function R(){var u=R.$$p||L,r=this;return R.$$p=null,r.attributes.$delete("title"),he(r,Pe(r,"content",R,!1,!0),"content",[],u)}),Te(k,"$docinfo",function(u,r){var l,b=this,d=L,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L;return u==null&&(u="head"),r==null&&(r=L),z(Xe(b.$safe(),A(j("SafeMode"),"SECURE")))&&(Se(u,"head")||(d="-"+u),r=z(f=r)?f:b.outfilesuffix,z((S=b.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?z(b.attributes["$key?"]("docinfo2"))?S=["private","shared"]:z(b.attributes["$key?"]("docinfo1"))?S=["shared"]:S=z(S)?["private"]:L:S=Z(S.$split(","),"map",[],function(et){return et==null&&(et=L),et.$strip()}),z(S)&&(q=[],l=["docinfo"+d+r,b.attributes["$[]"]("docinfodir"),b.$resolve_docinfo_subs()],J=l[0],G=l[1],$e=l[2],z(S["$&"](["shared","shared-"+u])["$empty?"]())||(ke=b.$normalize_system_path(J,G),z(He=b.$read_asset(ke,N(["normalize"],{normalize:!0})))&&q["$<<"](b.$apply_subs(He,$e))),z(b.attributes["$[]"]("docname")["$nil_or_empty?"]())||z(S["$&"](["private","private-"+u])["$empty?"]())||(ke=b.$normalize_system_path(""+b.attributes["$[]"]("docname")+"-"+J,G),z(Ze=b.$read_asset(ke,N(["normalize"],{normalize:!0})))&&q["$<<"](b.$apply_subs(Ze,$e))))),z(b.extensions)&&z(b["$docinfo_processors?"](u))?(z(f=q)?f:[]).$concat(Z(b.docinfo_processor_extensions["$[]"](u),"map",[],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=L),et.$process_method()["$[]"](at)},{$$s:b}).$compact()).$join(j("LF")):z(q)?q.$join(j("LF")):""},-1),Te(k,"$docinfo_processors?",function(u){var r,l=this;return u==null&&(u="head"),z(l.docinfo_processor_extensions["$key?"](u))?l.docinfo_processor_extensions["$[]"](u)["$!="](!1):z(l.extensions)&&z(l.document.$extensions()["$docinfo_processors?"](u))?(r=[u,l.document.$extensions().$docinfo_processors(u)],Z(l.docinfo_processor_extensions,"[]=",r),r[r.length-1])["$!"]()["$!"]():(r=[u,!1],Z(l.docinfo_processor_extensions,"[]=",r),r[r.length-1])},-1),Te(k,"$to_s",function(){var u=this,r=L;return"#<"+u.$class()+"@"+u.$object_id()+" {doctype: "+u.$doctype().$inspect()+", doctitle: "+(z(r=u.header)?u.header.$title():r).$inspect()+", blocks: "+u.blocks.$size()+"}>"}),k.$private(),Te(k,"$apply_attribute_value_subs",function(u){var r,l=this;return z(j("AttributeEntryPassMacroRx")["$=~"](u))?(u=(r=m["~"])===L?L:r["$[]"](2),z((r=m["~"])===L?L:r["$[]"](1))&&(u=l.$apply_subs(u,l.$resolve_pass_subs((r=m["~"])===L?L:r["$[]"](1))))):u=l.$apply_header_subs(u),z(l.max_attribute_value_size)?l.$limit_bytesize(u,l.max_attribute_value_size):u}),Te(k,"$limit_bytesize",function(u,r){if(z(y(u.$bytesize(),r)))for(;!z((u=u.$byteslice(0,r))["$valid_encoding?"]());)r=be(r,1);return u}),Te(k,"$resolve_docinfo_subs",function(){var u=this;return z(u.attributes["$key?"]("docinfosubs"))?u.$resolve_subs(u.attributes["$[]"]("docinfosubs"),"block",L,"docinfo"):["attributes"]}),Te(k,"$create_converter",function(u,r){var l=this,b=L,d=L,f=L,S=L,q=L;return b=N(["document","htmlsyntax"],{document:l,htmlsyntax:l.attributes["$[]"]("htmlsyntax")}),z(d=z(f=(S=l.options)["$[]"]("template_dirs"))?f:S["$[]"]("template_dir"))&&(b["$[]="]("template_dirs",[].concat(Je(d))),b["$[]="]("template_cache",S.$fetch("template_cache",!0)),b["$[]="]("template_engine",S["$[]"]("template_engine")),b["$[]="]("template_engine_options",S["$[]"]("template_engine_options")),b["$[]="]("eruby",S["$[]"]("eruby")),b["$[]="]("safe",l.safe),z(r)&&b["$[]="]("delegate_backend",r)),z(q=S["$[]"]("converter"))?A(j("Converter"),"CustomFactory").$new(De(u,q)).$create(u,b):S.$fetch("converter_factory",j("Converter")).$create(u,b)}),Te(k,"$clear_playback_attributes",function(u){return u.$delete("attribute_entries")}),Te(k,"$save_attributes",function(){var u=this,r=L,l=L,b=L,d=L,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L,$t=L;if(z((l=u.attributes)["$key?"]("doctitle"))||ve(r=u.$doctitle())||l["$[]="]("doctitle",r),u.id=z(b=u.id)?b:l["$[]"]("css-signature"),z(d=z(l.$delete("toc2"))?"left":l["$[]"]("toc"))&&(f=z(S=l.$fetch("toc-placement","macro"))&&Ge(S,"auto")?S:l["$[]"]("toc-position"),!(z(d["$empty?"]())&&z(f["$nil_or_empty?"]())))){switch(q="left",J="toc2",G=z(f["$nil_or_empty?"]())?z(d["$empty?"]())?q:d:f,l["$[]="]("toc",""),l["$[]="]("toc-placement","auto"),G){case"left":case"<":case"&lt;":l["$[]="]("toc-position","left");break;case"right":case">":case"&gt;":l["$[]="]("toc-position","right");break;case"top":case"^":l["$[]="]("toc-position","top");break;case"bottom":case"v":l["$[]="]("toc-position","bottom");break;case"preamble":case"macro":l["$[]="]("toc-position","content"),l["$[]="]("toc-placement",G),J=L;break;default:l.$delete("toc-position"),J=L}z(J)&&(z(b=l["$[]"]("toc-class"))||l["$[]="]("toc-class",J))}if(z($e=l["$[]"]("icons"))&&ve(l["$key?"]("icontype")))switch($e){case"":case"font":break;default:l["$[]="]("icons",""),Se($e,"image")||l["$[]="]("icontype",$e)}return z(u.compat_mode=l["$key?"]("compat-mode"))&&z(l["$key?"]("language"))&&l["$[]="]("source-language",l["$[]"]("language")),z(u.parent_document)||(Se(ke=l["$[]"]("basebackend"),"html")?z(He=l["$[]"]("source-highlighter"))&&ve(l["$[]"](""+He+"-unavailable"))&&(z(Ze=u.options["$[]"]("syntax_highlighter_factory"))?u.syntax_highlighter=Ze.$create(He,u.backend,N(["document"],{document:u})):z($t=u.options["$[]"]("syntax_highlighters"))?u.syntax_highlighter=A(j("SyntaxHighlighter"),"DefaultFactoryProxy").$new($t).$create(He,u.backend,N(["document"],{document:u})):u.syntax_highlighter=j("SyntaxHighlighter").$create(He,u.backend,N(["document"],{document:u}))):Se(ke,"docbook")&&(z(u["$attribute_locked?"]("toc"))||z(u.attributes_modified["$include?"]("toc"))||l["$[]="]("toc",""),z(u["$attribute_locked?"]("sectnums"))||z(u.attributes_modified["$include?"]("sectnums"))||l["$[]="]("sectnums","")),u.outfilesuffix=l["$[]"]("outfilesuffix"),Z(j("FLEXIBLE_ATTRIBUTES"),"each",[],function et(at){var ct=et.$$s==null?this:et.$$s;return ct.attribute_overrides==null&&(ct.attribute_overrides=L),at==null&&(at=L),z(ct.attribute_overrides["$key?"](at))&&z(ct.attribute_overrides["$[]"](at))?ct.attribute_overrides.$delete(at):L},{$$s:u})),u.header_attributes=l.$merge()}),Te(k,"$fill_datetime_attributes",function(u,r){var l,b=this,d=L,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L;return d=z(A("ENV")["$key?"]("SOURCE_DATE_EPOCH"))?f=A("Time").$at(b.$Integer(A("ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():A("Time").$now(),z(S=u["$[]"]("localdate"))?z(q=u["$[]"]("localyear"))||u["$[]="]("localyear",Se(S.$index("-"),4)?S.$slice(0,4):L):(S=(l=["localdate",d.$strftime("%F")],Z(u,"[]=",l),l[l.length-1]),z(q=u["$[]"]("localyear"))||u["$[]="]("localyear",d.$year().$to_s())),J=z(q=u["$[]"]("localtime"))?q:(l=["localtime",d.$strftime("%T "+(Se(d.$utc_offset(),0)?"UTC":"%z"))],Z(u,"[]=",l),l[l.length-1]),z(q=u["$[]"]("localdatetime"))||u["$[]="]("localdatetime",""+S+" "+J),r=z(q=z(G=f)?G:r)?q:d,z($e=u["$[]"]("docdate"))?z(q=u["$[]"]("docyear"))||u["$[]="]("docyear",Se($e.$index("-"),4)?$e.$slice(0,4):L):($e=(l=["docdate",r.$strftime("%F")],Z(u,"[]=",l),l[l.length-1]),z(q=u["$[]"]("docyear"))||u["$[]="]("docyear",r.$year().$to_s())),ke=z(q=u["$[]"]("doctime"))?q:(l=["doctime",r.$strftime("%T "+(Se(r.$utc_offset(),0)?"UTC":"%z"))],Z(u,"[]=",l),l[l.length-1]),z(q=u["$[]"]("docdatetime"))||u["$[]="]("docdatetime",""+$e+" "+ke),L}),Te(k,"$update_backend_attributes",function(u,r){var l,b,d=this,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L,$t=L,et=L,at=L,ct=L,ft=L;return r==null&&(r=L),z(r)||Ge(u,d.backend)?(f=d.backend,S=(q=d.attributes)["$[]"]("basebackend"),J=d.doctype,z(u["$include?"](":"))&&(b=u.$partition(":"),l=g(b),G=l[0]==null?L:l[0],l[1]==null||l[1],u=l[2]==null?L:l[2]),z(u["$start_with?"]("xhtml"))?(q["$[]="]("htmlsyntax","xml"),u=u.$slice(1,u.$length())):z(u["$start_with?"]("html"))&&(z($e=q["$[]"]("htmlsyntax"))||q["$[]="]("htmlsyntax","html")),u=z($e=j("BACKEND_ALIASES")["$[]"](u))?$e:u,z(G)&&(l=[G,u],u=l[0],ke=l[1]),z(J)?(z(f)&&(q.$delete("backend-"+f),q.$delete("backend-"+f+"-doctype-"+J)),q["$[]="]("backend-"+u+"-doctype-"+J,""),q["$[]="]("doctype-"+J,"")):z(f)&&q.$delete("backend-"+f),q["$[]="]("backend-"+u,""),d.backend=(l=["backend",u],Z(q,"[]=",l),l[l.length-1]),st(A(j("Converter"),"BackendTraits"),He=d.$create_converter(u,ke))?(Ze=He.$basebackend(),$t=He.$filetype(),z(et=He.$htmlsyntax())&&q["$[]="]("htmlsyntax",et),z(r)?z($e=q["$[]"]("outfilesuffix"))||q["$[]="]("outfilesuffix",He.$outfilesuffix()):z(d["$attribute_locked?"]("outfilesuffix"))||q["$[]="]("outfilesuffix",He.$outfilesuffix())):z(He)?(at=j("Converter").$derive_backend_traits(u),Ze=at["$[]"]("basebackend"),$t=at["$[]"]("filetype"),z(r)?z($e=q["$[]"]("outfilesuffix"))||q["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix")):z(d["$attribute_locked?"]("outfilesuffix"))||q["$[]="]("outfilesuffix",at["$[]"]("outfilesuffix"))):d.$raise(A("NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+u+"'. Processing aborted."),d.converter=He,z(ct=q["$[]"]("filetype"))&&q.$delete("filetype-"+ct),q["$[]="]("filetype",$t),q["$[]="]("filetype-"+$t,""),z(ft=j("DEFAULT_PAGE_WIDTHS")["$[]"](Ze))?q["$[]="]("pagewidth",ft):q.$delete("pagewidth"),Ge(Ze,S)&&(z(J)?(z(S)&&(q.$delete("basebackend-"+S),q.$delete("basebackend-"+S+"-doctype-"+J)),q["$[]="]("basebackend-"+Ze+"-doctype-"+J,"")):z(S)&&q.$delete("basebackend-"+S),q["$[]="]("basebackend-"+Ze,""),q["$[]="]("basebackend",Ze)),u):L},-2),Te(k,"$update_doctype_attributes",function(u){var r,l=this,b=L,d=L,f=L,S=L;return z(u)&&Ge(u,l.doctype)?(r=[l.backend,(b=l.attributes)["$[]"]("basebackend"),l.doctype],d=r[0],f=r[1],S=r[2],z(S)?(b.$delete("doctype-"+S),z(d)&&(b.$delete("backend-"+d+"-doctype-"+S),b["$[]="]("backend-"+d+"-doctype-"+u,"")),z(f)&&(b.$delete("basebackend-"+f+"-doctype-"+S),b["$[]="]("basebackend-"+f+"-doctype-"+u,""))):(z(d)&&b["$[]="]("backend-"+d+"-doctype-"+u,""),z(f)&&b["$[]="]("basebackend-"+f+"-doctype-"+u,"")),b["$[]="]("doctype-"+u,""),l.doctype=(r=["doctype",u],Z(b,"[]=",r),r[r.length-1])):L})}(fe[0],W("AbstractBlock"),fe)}(rt[0],rt)},Opal.modules["asciidoctor/inline"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.send2,c=t.find_super,z=t.def,Te=t.return_val,N=t.alias,ve=t.truthy,g=[],We=t.nil;return t.add_stubs("attr_accessor,attr_reader,[],convert,converter,attr,==,apply_reftext_subs,reftext"),function(he,Pe){var be=Y(he,"Asciidoctor"),Se=[be].concat(Pe),st=t.$r(Se);return function(De,Oe){var Be=U(De,Oe,"Inline"),Ge=Be.$$prototype;return Ge.text=Ge.type=We,Be.$attr_accessor("text"),Be.$attr_reader("type"),Be.$attr_accessor("target"),z(Be,"$initialize",function it(y,Xe,m,Je){var rt=this;return it.$$p=null,m==null&&(m=We),Je==null&&(Je=T([],{})),Z(rt,c(rt,"initialize",it,!1,!0),"initialize",[y,Xe,Je],null),rt.node_name="inline_"+Xe,rt.text=m,rt.id=Je["$[]"]("id"),rt.type=Je["$[]"]("type"),rt.target=Je["$[]"]("target")},-3),z(Be,"$block?",Te(!1)),z(Be,"$inline?",Te(!0)),z(Be,"$convert",function(){var y=this;return y.$converter().$convert(y)}),N(Be,"render","convert"),z(Be,"$alt",function(){var y=this,Xe=We;return ve(Xe=y.$attr("alt"))?Xe:""}),z(Be,"$reftext?",function(){var y=this,Xe=We,m=We;return ve(Xe=y.text)?ve(m=y.type["$=="]("ref"))?m:y.type["$=="]("bibref"):Xe}),z(Be,"$reftext",function(){var y=this,Xe=We;return ve(Xe=y.text)?y.$apply_reftext_subs(Xe):We}),z(Be,"$xreftext",function(y){var Xe=this;return Xe.$reftext()},-1)}(Se[0],st("AbstractNode"))}(g[0],g)},Opal.modules["asciidoctor/list"]=function(t){var Y=t.module,U=t.klass,T=t.alias,Z=t.hash2,c=t.send2,z=t.find_super,Te=t.def,N=t.truthy,ve=t.eqeq,g=[],We=t.nil;return t.add_stubs("blocks,blocks?,==,next_list,callouts,convert,class,object_id,inspect,size,items,parent,attr_accessor,level,drop,nil_or_empty?,apply_subs,attr_writer,empty?,===,[],outline?,!,simple?,source,shift,context"),function(he,Pe){var be=Y(he,"Asciidoctor"),Se=[be].concat(Pe),st=t.$r(Se);return function(De,Oe){var Be=U(De,Oe,"List"),Ge=Be.$$prototype;return Ge.context=Ge.document=Ge.style=We,T(Be,"items","blocks"),T(Be,"content","blocks"),T(Be,"items?","blocks?"),Te(Be,"$initialize",function it(y,Xe,m){var Je=it.$$p||We,rt=this;return it.$$p=null,m==null&&(m=Z([],{})),c(rt,z(rt,"initialize",it,!1,!0),"initialize",[y,Xe,m],Je)},-3),Te(Be,"$outline?",function(){var y=this,Xe=We;return N(Xe=y.context["$=="]("ulist"))?Xe:y.context["$=="]("olist")}),Te(Be,"$convert",function it(){var y=it.$$p||We,Xe=this,m=We;return it.$$p=null,ve(Xe.context,"colist")?(m=c(Xe,z(Xe,"convert",it,!1,!0),"convert",[],y),Xe.document.$callouts().$next_list(),m):c(Xe,z(Xe,"convert",it,!1,!0),"convert",[],y)}),T(Be,"render","convert"),Te(Be,"$to_s",function(){var y=this;return"#<"+y.$class()+"@"+y.$object_id()+" {context: "+y.context.$inspect()+", style: "+y.style.$inspect()+", items: "+y.$items().$size()+"}>"})}(Se[0],st("AbstractBlock")),function(De,Oe,Be){var Ge=U(De,Oe,"ListItem"),it=[Ge].concat(Be),y=t.$r(it),Xe=Ge.$$prototype;return Xe.text=Xe.subs=Xe.blocks=We,T(Ge,"list","parent"),Ge.$attr_accessor("marker"),Te(Ge,"$initialize",function m(Je,rt){m.$$p;var L=this;return m.$$p=null,rt==null&&(rt=We),c(L,z(L,"initialize",m,!1,!0),"initialize",[Je,"list_item"],null),L.text=rt,L.level=Je.$level(),L.subs=y("NORMAL_SUBS").$drop(0)},-2),Te(Ge,"$text?",function(){var Je=this;return!N(Je.text["$nil_or_empty?"]())}),Te(Ge,"$text",function(){var Je=this,rt=We;return N(rt=Je.text)?Je.$apply_subs(Je.text,Je.subs):rt}),Ge.$attr_writer("text"),Te(Ge,"$simple?",function(){var Je=this,rt=We,L=We,A=We,Le=We;return N(rt=Je.blocks["$empty?"]())?rt:N(L=N(A=Je.blocks.$size()["$=="](1))?y("List")["$==="](Le=Je.blocks["$[]"](0)):A)?Le["$outline?"]():L}),Te(Ge,"$compound?",function(){var Je=this;return Je["$simple?"]()["$!"]()}),Te(Ge,"$fold_first",function(){var Je=this;return Je.text=N(Je.text["$nil_or_empty?"]())?Je.blocks.$shift().$source():""+Je.text+y("LF")+Je.blocks.$shift().$source(),We}),Te(Ge,"$to_s",function(){var Je=this,rt=We;return"#<"+Je.$class()+"@"+Je.$object_id()+" {list_context: "+Je.$parent().$context().$inspect()+", text: "+Je.text.$inspect()+", blocks: "+(N(rt=Je.blocks)?rt:[]).$size()+"}>"})}(Se[0],st("AbstractBlock"),Se)}(g[0],g)},Opal.modules["asciidoctor/parser"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.send,c=t.truthy,z=t.hash2,Te=t.to_ary,N=t.defs,ve=t.eqeq,g=t.not,We=t.gvars,he=t.neqeq,Pe=t.rb_plus,be=t.rb_lt,Se=t.rb_gt,st=t.to_a,De=t.eqeqeq,Oe=t.rb_minus,Be=t.rb_times,Ge=t.thrower,it=[],y=t.nil,Xe=t.$$$;return t.add_stubs("include,new,proc,start_with?,match?,is_delimited_block?,private_class_method,parse_document_header,[],has_more_lines?,next_section,assign_numeral,<<,blocks,skip_blank_lines,parse_block_metadata_lines,attributes,is_next_line_doctitle?,[]=,finalize_header,nil_or_empty?,title=,sourcemap,cursor,parse_section_title,id=,include?,sub_specialchars,sub_attributes,source_location=,header,attribute_locked?,id,clear,delete,instance_variable_get,parse_header_metadata,==,!,register,process_authors,update,doctype,parse_manpage_header,=~,downcase,error,logger,message_with_context,cursor_at_line,backend,save,is_next_line_section?,initialize_section,join,map,read_lines_until,lstrip,split,title,restore_save,discard_save,header?,empty?,context,!=,attr?,attr,key?,document,+,level,special,sectname,to_i,<,>,warn,next_block,blocks?,style,style=,parent=,content_model,content_model=,lines,subs,size,context=,shift,unwrap_standalone_preamble,source_location,merge,fetch,parse_block_metadata_line,extensions,block_macros?,mark,read_line,terminator,to_s,masq,to_sym,registered_for_block?,debug?,debug,cursor_at_mark,strict_verbatim_paragraphs,unshift_line,markdown_syntax,keys,chr,uniform?,length,end_with?,parse_attributes,attribute_missing,tr,basename,assign_caption,registered_for_block_macro?,config,process_method,replace,parse_callout_list,callouts,===,parse_list,parse_description_list,underline_style_section_titles,is_section_title?,peek_line,atx_section_title?,generate_id,level=,read_paragraph_lines,adjust_indentation!,map!,slice,pop,build_block,apply_subs,chop,catalog_inline_anchors,rekey,index,strip,-,parse_table,each,raise,title?,update_attributes,commit_subs,sub?,catalog_callouts,source,remove_sub,block_terminates_paragraph,to_proc,nil?,parse_blocks,parse_list_item,items,scan,gsub,count,advance,dup,match,callout_ids,next_list,catalog_inline_anchor,marker=,catalog_inline_biblio_anchor,set_option,text=,resolve_ordered_list_marker,read_lines_for_list_item,skip_line_comments,unshift_lines,fold_first,text?,is_sibling_list_item?,concat,find,casecmp,sectname=,special=,numbered=,numbered,lineno,peek_lines,setext_section_title?,abs,cursor_at_prev_line,process_attribute_entries,next_line_empty?,apply_header_subs,rstrip,each_with_index,compact,to_h,squeeze,to_a,parse_style_attribute,process_attribute_entry,skip_comment_lines,store_attribute,sanitize_attribute_name,set_attribute,save_to,delete_attribute,ord,int_to_roman,resolve_list_marker,parse_colspecs,create_columns,has_header_option=,format,starts_with_delimiter?,close_open_cell,parse_cellspec,delimiter,match_delimiter,pre_match,post_match,buffer_has_unclosed_quotes?,skip_past_delimiter,buffer=,buffer,skip_past_escaped_delimiter,keep_cell_open,push_cellspec,close_cell,cell_open?,columns,assign_column_widths,partition_header_footer,upto,partition,shorthand_property_syntax,each_char,yield_buffered_attribute,any?,*,each_byte,%"),function(m,Je){var rt=Y(m,"Asciidoctor"),L=[rt].concat(Je);return function(A,Le,se){var ge=U(A,Le,"Parser"),fe=[ge].concat(se),W=t.$r(fe);return ge.$include(W("Logging")),T(fe[0],"BlockMatchData",W("Struct").$new("context","masq","tip","terminator")),T(fe[0],"TAB","	"),T(fe[0],"TabIndentRx",/^\t+/),T(fe[0],"StartOfBlockProc",Z(ge,"proc",[],function ee(M){var C=ee.$$s==null?this:ee.$$s,k=y,H=y;return M==null&&(M=y),c(k=c(H=M["$start_with?"]("["))?W("BlockAttributeLineRx")["$match?"](M):H)?k:C["$is_delimited_block?"](M)},{$$s:ge})),T(fe[0],"StartOfListProc",Z(ge,"proc",[],function(M){return M==null&&(M=y),W("AnyListRx")["$match?"](M)})),T(fe[0],"StartOfBlockOrListProc",Z(ge,"proc",[],function ee(M){var C=ee.$$s==null?this:ee.$$s,k=y,H=y,j=y;return M==null&&(M=y),c(k=c(H=C["$is_delimited_block?"](M))?H:c(j=M["$start_with?"]("["))?W("BlockAttributeLineRx")["$match?"](M):j)?k:W("AnyListRx")["$match?"](M)},{$$s:ge})),T(fe[0],"NoOp",y),T(fe[0],"AuthorKeys",["author","authorinitials","firstname","middlename","lastname","email"]),T(fe[0],"TableCellHorzAlignments",z(["<",">","^"],{"<":"left",">":"right","^":"center"})),T(fe[0],"TableCellVertAlignments",z(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})),T(fe[0],"TableCellStyles",z(["d","s","e","m","h","l","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",a:"asciidoc"})),ge.$private_class_method("new"),N(ge,"$parse",function(M,C,k){var H,j,X=this,R=y,u=y,r=y;if(k==null&&(k=z([],{})),R=X.$parse_document_header(M,C,u=k["$[]"]("header_only")),!c(u))for(;c(M["$has_more_lines?"]());)j=X.$next_section(M,C,R),H=Te(j),r=H[0]==null?y:H[0],R=H[1]==null?y:H[1],c(r)&&(C.$assign_numeral(r),C.$blocks()["$<<"](r));return C},-3),N(ge,"$parse_document_header",function(M,C,k){var H,j,X,R=this,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y;return k==null&&(k=!1),u=c(M.$skip_blank_lines())?R.$parse_block_metadata_lines(M,C):z([],{}),r=C.$attributes(),c(l=R["$is_next_line_doctitle?"](M,u,r["$[]"]("leveloffset")))&&c(u["$[]"]("title"))?(r["$[]="]("authorcount",0),C.$finalize_header(u,!1)):(c((b=r["$[]"]("doctitle"))["$nil_or_empty?"]())||C["$title="](d=b),c(l)?(c(C.$sourcemap())&&(f=M.$cursor()),j=R.$parse_section_title(M,C),H=Te(j),X=[H[0]==null?y:H[0]],Z(C,"id=",X),X[X.length-1],H[1]==null||H[1],S=H[2]==null?y:H[2],H[3]==null||H[3],q=H[4]==null?y:H[4],c(d)?S=y:(C["$title="](S),c((H=["doctitle",d=C.$sub_specialchars(S)],Z(r,"[]=",H),H[H.length-1])["$include?"](W("ATTR_REF_HEAD")))&&r["$[]="]("doctitle",d=C.$sub_attributes(d,z(["attribute_missing"],{attribute_missing:"skip"})))),c(f)&&C.$header()["$source_location="](f),c(q)||c(C["$attribute_locked?"]("compat-mode"))||r["$[]="]("compat-mode",""),c(J=u["$[]"]("separator"))&&(c(C["$attribute_locked?"]("title-separator"))||r["$[]="]("title-separator",J)),c(G=u["$[]"]("id"))?C["$id="](G):G=C.$id(),c($e=u["$[]"]("role"))&&r["$[]="]("role",$e),c(ke=u["$[]"]("reftext"))&&r["$[]="]("reftext",ke),u.$clear(),(He=C.$instance_variable_get("@attributes_modified")).$delete("doctitle"),R.$parse_header_metadata(M,C,y),c(He["$include?"]("doctitle"))?c((b=r["$[]"]("doctitle"))["$nil_or_empty?"]())||ve(b,d)?r["$[]="]("doctitle",d):C["$title="](b):g(S)&&He["$<<"]("doctitle"),c(G)&&C.$register("refs",[G,C])):c(Ze=r["$[]"]("author"))?($t=R.$process_authors(Ze,!0,!1),c(r["$[]"]("authorinitials"))&&$t.$delete("authorinitials"),r.$update($t)):c(Ze=r["$[]"]("authors"))?($t=R.$process_authors(Ze,!0),r.$update($t)):r["$[]="]("authorcount",0),ve(C.$doctype(),"manpage")&&R.$parse_manpage_header(M,C,u,k),C.$finalize_header(u))},-3),N(ge,"$parse_manpage_header",function(M,C,k,H){var j,X=this,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y;return H==null&&(H=!1),c(W("ManpageTitleVolnumRx")["$=~"]((R=C.$attributes())["$[]"]("doctitle")))?(R["$[]="]("manvolnum",u=(j=We["~"])===y?y:j["$[]"](2)),R["$[]="]("mantitle",(c((r=(j=We["~"])===y?y:j["$[]"](1))["$include?"](W("ATTR_REF_HEAD")))?C.$sub_attributes(r):r).$downcase())):(X.$logger().$error(X.$message_with_context("non-conforming manpage title",z(["source_location"],{source_location:M.$cursor_at_line(1)}))),R["$[]="]("mantitle",c(l=c(b=R["$[]"]("doctitle"))?b:R["$[]"]("docname"))?l:"command"),R["$[]="]("manvolnum",u="1")),c(d=R["$[]"]("manname"))&&c(R["$[]"]("manpurpose"))?(c(l=R["$[]"]("manname-title"))||R["$[]="]("manname-title","Name"),R["$[]="]("mannames",[d]),ve(C.$backend(),"manpage")&&(R["$[]="]("docname",d),R["$[]="]("outfilesuffix","."+u))):c(H)||(M.$skip_blank_lines(),M.$save(),k.$update(X.$parse_block_metadata_lines(M,C)),c(f=X["$is_next_line_section?"](M,z([],{})))?ve(f,1)?(S=X.$initialize_section(M,C,z([],{})),q=Z(M.$read_lines_until(z(["break_on_blank_lines","skip_line_comments"],{break_on_blank_lines:!0,skip_line_comments:!0})),"map",[],function(He){return He==null&&(He=y),He.$lstrip()}).$join(" "),c(W("ManpageNamePurposeRx")["$=~"](q))?(c((d=(j=We["~"])===y?y:j["$[]"](1))["$include?"](W("ATTR_REF_HEAD")))&&(d=C.$sub_attributes(d)),c(d["$include?"](","))?d=(J=Z(d.$split(","),"map",[],function(He){return He==null&&(He=y),He.$lstrip()}))["$[]"](0):J=[d],c((G=(j=We["~"])===y?y:j["$[]"](2))["$include?"](W("ATTR_REF_HEAD")))&&(G=C.$sub_attributes(G)),c(l=R["$[]"]("manname-title"))||R["$[]="]("manname-title",S.$title()),c(S.$id())&&R["$[]="]("manname-id",S.$id()),R["$[]="]("manname",d),R["$[]="]("mannames",J),R["$[]="]("manpurpose",G),ve(C.$backend(),"manpage")&&(R["$[]="]("docname",d),R["$[]="]("outfilesuffix","."+u))):$e="non-conforming name section body"):$e="name section must be at level 1":$e="name section expected",c($e)?(M.$restore_save(),X.$logger().$error(X.$message_with_context($e,z(["source_location"],{source_location:M.$cursor()}))),R["$[]="]("manname",d=c(l=R["$[]"]("docname"))?l:"command"),R["$[]="]("mannames",[d]),ve(C.$backend(),"manpage")&&(R["$[]="]("docname",d),R["$[]="]("outfilesuffix","."+u))):M.$discard_save()),y},-4),N(ge,"$next_section",function(M,C,k){var H,j,X=this,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y,at=y,ct=y,ft=y;for(k==null&&(k=z([],{})),R=u=r=!1,ve(C.$context(),"document")&&c(C.$blocks()["$empty?"]())&&(c(l=C["$header?"]())||c(k.$delete("invalid-header"))||g(X["$is_next_line_section?"](M,k)))?(b=(d=C).$doctype()["$=="]("book"),(c(l)||c(b)&&he(k["$[]"](1),"abstract"))&&(R=u=W("Block").$new(C,"preamble",z(["content_model"],{content_model:"compound"})),c(b)&&c(C["$attr?"]("preface-title"))&&R["$title="](C.$attr("preface-title")),C.$blocks()["$<<"](R)),f=C,S=0,c(C.$attributes()["$key?"]("fragment"))?q=-1:c(b)?(H=[1,0],q=H[0],J=H[1]):q=1):(b=(d=C.$document()).$doctype()["$=="]("book"),f=X.$initialize_section(M,C,k),k=c(G=k["$[]"]("title"))?z(["title"],{title:G}):z([],{}),q=Pe(S=f.$level(),1),ve(S,0)?r=b:ve(S,1)&&c(f.$special())&&(ve($e=f.$sectname(),"appendix")||ve($e,"preface")||ve($e,"abstract")||(q=y))),M.$skip_blank_lines();c(M["$has_more_lines?"]());){if(X.$parse_block_metadata_lines(M,d,k),c(ke=X["$is_next_line_section?"](M,k)))if(c(d["$attr?"]("leveloffset"))&&(ke=Pe(ke,d.$attr("leveloffset").$to_i()),c(be(ke,0))&&(ke=0)),c(Se(ke,S)))c(q)?ve(ke,q)||c(J)&&ve(ke,J)||c(be(q,0))||(He=c(J)?"expected levels "+J+" or "+q:"expected level "+q,X.$logger().$warn(X.$message_with_context("section title out of sequence: "+He+", got level "+ke,z(["source_location"],{source_location:M.$cursor()})))):X.$logger().$error(X.$message_with_context(""+$e+" sections do not support nested sections",z(["source_location"],{source_location:M.$cursor()}))),j=X.$next_section(M,f,k),H=Te(j),Ze=H[0]==null?y:H[0],k=H[1]==null?y:H[1],f.$assign_numeral(Ze),f.$blocks()["$<<"](Ze);else if(ve(ke,0)&&ve(f,d))c(b)||X.$logger().$error(X.$message_with_context("level 0 sections can only be used when doctype is book",z(["source_location"],{source_location:M.$cursor()}))),j=X.$next_section(M,f,k),H=Te(j),Ze=H[0]==null?y:H[0],k=H[1]==null?y:H[1],f.$assign_numeral(Ze),f.$blocks()["$<<"](Ze);else break;else $t=M.$cursor(),c(et=X.$next_block(M,c(at=u)?at:f,k,z(["parse_metadata"],{parse_metadata:!1})))&&(c(r)&&(g(f["$blocks?"]())?he(et.$style(),"partintro")?ve(et.$style(),"open")&&ve(et.$context(),"open")?et["$style="]("partintro"):(et["$parent="](u=W("Block").$new(f,"open",z(["content_model"],{content_model:"compound"}))),u["$style="]("partintro"),f.$blocks()["$<<"](u)):ve(et.$content_model(),"simple")&&(et["$content_model="]("compound"),et["$<<"](W("Block").$new(et,"paragraph",z(["source","subs"],{source:et.$lines(),subs:et.$subs()}))),et.$lines().$clear(),et.$subs().$clear()):ve(f.$blocks().$size(),1)&&(ct=f.$blocks()["$[]"](0),g(u)&&ve(ct.$content_model(),"compound")?X.$logger().$error(X.$message_with_context("illegal block content outside of partintro block",z(["source_location"],{source_location:$t}))):he(ct.$content_model(),"compound")&&(et["$parent="](u=W("Block").$new(f,"open",z(["content_model"],{content_model:"compound"}))),ve(ct.$style(),(H=["partintro"],Z(u,"style=",H),H[H.length-1]))&&(ct["$context="]("paragraph"),ct["$style="](y)),f.$blocks().$shift(),u["$<<"](ct),f.$blocks()["$<<"](u)))),(c(at=u)?at:f).$blocks()["$<<"](et),k.$clear());if(!c(at=M.$skip_blank_lines()))break}if(c(r))c(f["$blocks?"]())&&ve(f.$blocks()["$[]"](-1).$context(),"section")||X.$logger().$error(X.$message_with_context("invalid part, must have at least one section (e.g., chapter, appendix, etc.)",z(["source_location"],{source_location:M.$cursor()})));else if(c(R))if(c(R["$blocks?"]()))if(c(b)||c(d.$blocks()["$[]"](1))||g(W("Compliance").$unwrap_standalone_preamble()))c(d.$sourcemap())&&R["$source_location="](R.$blocks()["$[]"](0).$source_location());else for(d.$blocks().$shift();c(ft=R.$blocks().$shift());)d["$<<"](ft);else d.$blocks().$shift();return[ve(f,C)?y:f,k.$merge()]},-3),N(ge,"$next_block",function(M,C,k,H){var j,X,R=this,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y,at=y,ct=y,ft=y,ut=y,ht=y,dt=y,At=y,yt=y,It=y,St=y,wt=y,Et=y,Ct=y,zt=y,Ot=y,Yt=y,Rt=y,xt=y,qt=y,Bt=y,kt=y,Dt=y,Vt=y,Pt=y,Mt=y,Xt=y,jt=y,Ut=y,ur=y,cr=y,Qr=y,fr=y,Or=y;if(We["~"]==null&&(We["~"]=y),k==null&&(k=z([],{})),H==null&&(H=z([],{})),!c(u=M.$skip_blank_lines()))return y;if(c(r=H["$[]"]("text_only"))&&c(Se(u,0))&&(H.$delete("text_only"),r=y),l=C.$document(),c(H.$fetch("parse_metadata",!0))){for(;c(R.$parse_block_metadata_line(M,l,k,H));)if(M.$shift(),!c(b=M.$skip_blank_lines()))return y}if(c(d=l.$extensions())&&(j=[d["$blocks?"](),d["$block_macros?"]()],f=j[0],S=j[1]),M.$mark(),j=[M.$read_line(),l.$attributes(),k["$[]"](1)],q=j[0],J=j[1],G=j[2],$e=ke=He=Ze=y,c($t=R["$is_delimited_block?"](q,!0))&&(ke=He=$t.$context(),Ze=$t.$terminator(),c(G)?ve(G,ke.$to_s())||(c($t.$masq()["$include?"](G))?ke=G.$to_sym():c($t.$masq()["$include?"]("admonition"))&&c(W("ADMONITION_STYLES")["$include?"](G))?ke="admonition":c(f)&&c(d["$registered_for_block?"](G,ke))?ke=G.$to_sym():(c(R.$logger()["$debug?"]())&&R.$logger().$debug(R.$message_with_context("unknown style for "+ke+" block: "+G,z(["source_location"],{source_location:M.$cursor_at_mark()}))),G=ke.$to_s())):G=(j=["style",ke.$to_s()],Z(k,"[]=",j),j[j.length-1])),!c($t))for(;c(!0);){if(c(G)&&c(W("Compliance").$strict_verbatim_paragraphs())&&c(W("VERBATIM_STYLES")["$include?"](G))){ke=G.$to_sym(),M.$unshift_line(q);break}if(c(r))et=q["$start_with?"](" ",W("TAB"));else if(at=W("Compliance").$markdown_syntax(),c(q["$start_with?"](" "))){if(j=[!0," "],et=j[0],ct=j[1],c(at)&&c(Z(q.$lstrip(),"start_with?",st(W("MARKDOWN_THEMATIC_BREAK_CHARS").$keys())))&&c(W("MarkdownThematicBreakRx")["$match?"](q))){$e=W("Block").$new(C,"thematic_break",z(["content_model"],{content_model:"empty"}));break}}else if(c(q["$start_with?"](W("TAB"))))j=[!0,W("TAB")],et=j[0],ct=j[1];else if(j=[!1,q.$chr()],et=j[0],ct=j[1],ft=c(at)?W("HYBRID_LAYOUT_BREAK_CHARS"):W("LAYOUT_BREAK_CHARS"),c(ft["$key?"](ct))&&c(c(at)?W("ExtLayoutBreakRx")["$match?"](q):c(b=R["$uniform?"](q,ct,ut=q.$length()))?Se(ut,2):b)){$e=W("Block").$new(C,ft["$[]"](ct),z(["content_model"],{content_model:"empty"}));break}else if(c(q["$end_with?"]("]"))&&c(q["$include?"]("::"))){if((ve(ct,"i")||c(q["$start_with?"]("video:","audio:")))&&c(W("BlockMediaMacroRx")["$=~"](q))){if(j=[((X=We["~"])===y?y:X["$[]"](1)).$to_sym(),(X=We["~"])===y?y:X["$[]"](2),(X=We["~"])===y?y:X["$[]"](3)],ht=j[0],dt=j[1],At=j[2],$e=W("Block").$new(C,ht,z(["content_model"],{content_model:"empty"})),c(At)){switch(ht){case"video":yt=["poster","width","height"];break;case"audio":yt=[];break;default:yt=["alt","width","height"]}$e.$parse_attributes(At,yt,z(["sub_input","into"],{sub_input:!0,into:k}))}if(c(k["$key?"]("style"))&&k.$delete("style"),c(dt["$include?"](W("ATTR_REF_HEAD")))){if(c((It=$e.$sub_attributes(dt))["$empty?"]())&&ve(c(b=J["$[]"]("attribute-missing"))?b:W("Compliance").$attribute_missing(),"drop-line")&&c($e.$sub_attributes(Pe(dt," "),z(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return k.$clear(),y;dt=It}ve(ht,"image")&&(l.$register("images",dt),k["$[]="]("imagesdir",J["$[]"]("imagesdir")),c(b=k["$[]"]("alt"))||k["$[]="]("alt",c(St=G)?St:(j=["default-alt",W("Helpers").$basename(dt,!0).$tr("_-"," ")],Z(k,"[]=",j),j[j.length-1])),c((wt=k.$delete("scaledwidth"))["$nil_or_empty?"]())||k["$[]="]("scaledwidth",c(W("TrailingDigitsRx")["$match?"](wt))?""+wt+"%":wt),c(k["$[]"]("title"))&&($e["$title="](Et=k.$delete("title")),$e.$assign_caption(k.$delete("caption"),"figure"))),k["$[]="]("target",dt);break}else if(ve(ct,"t")&&c(q["$start_with?"]("toc:"))&&c(W("BlockTocMacroRx")["$=~"](q))){$e=W("Block").$new(C,"toc",z(["content_model"],{content_model:"empty"})),c((j=We["~"])===y?y:j["$[]"](1))&&$e.$parse_attributes((j=We["~"])===y?y:j["$[]"](1),[],z(["into"],{into:k}));break}else if(c(c(S)?c(b=c(St=W("CustomBlockMacroRx")["$=~"](q))?Ct=d["$registered_for_block_macro?"]((j=We["~"])===y?y:j["$[]"](1)):St)?b:zt=R.$logger()["$debug?"]():c(b=R.$logger()["$debug?"]())?zt=W("CustomBlockMacroRx")["$=~"](q):b))if(c(zt))R.$logger().$debug(R.$message_with_context("unknown name for block macro: "+((j=We["~"])===y?y:j["$[]"](1)),z(["source_location"],{source_location:M.$cursor_at_mark()})));else{if(Ot=(j=We["~"])===y?y:j["$[]"](3),c((dt=(j=We["~"])===y?y:j["$[]"](2))["$include?"](W("ATTR_REF_HEAD")))){if(c((It=C.$sub_attributes(dt))["$empty?"]())&&ve(c(b=J["$[]"]("attribute-missing"))?b:W("Compliance").$attribute_missing(),"drop-line")&&c(C.$sub_attributes(Pe(dt," "),z(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]()))return k.$clear(),y;dt=It}if(ve((Yt=Ct.$config())["$[]"]("content_model"),"attributes")?c(Ot)&&l.$parse_attributes(Ot,c(b=c(St=Yt["$[]"]("positional_attrs"))?St:Yt["$[]"]("pos_attrs"))?b:[],z(["sub_input","into"],{sub_input:!0,into:k})):k["$[]="]("text",c(b=Ot)?b:""),c(Rt=Yt["$[]"]("default_attrs"))&&Z(k,"update",[Rt],function(Gt,ar){return ar==null&&(ar=y),ar}),c($e=Ct.$process_method()["$[]"](C,dt,k))&&he($e,C)){k.$replace($e.$attributes());break}else return k.$clear(),y}}if(g(et)&&ve(ct=c(b=ct)?b:q.$chr(),"<")&&c(W("CalloutListRx")["$=~"](q))){M.$unshift_line(q),$e=R.$parse_callout_list(M,We["~"],C,l.$callouts()),k["$[]="]("style","arabic");break}else if(c(W("UnorderedListRx")["$match?"](q))){M.$unshift_line(q),g(G)&&De(W("Section"),C)&&ve(C.$sectname(),"bibliography")&&k["$[]="]("style",G="bibliography"),$e=R.$parse_list(M,"ulist",C,G);break}else if(c(W("OrderedListRx")["$match?"](q))){M.$unshift_line(q),$e=R.$parse_list(M,"olist",C,G),c($e.$style())&&k["$[]="]("style",$e.$style());break}else if((c(q["$include?"]("::"))||c(q["$include?"](";;")))&&c(W("DescriptionListRx")["$=~"](q))){M.$unshift_line(q),$e=R.$parse_description_list(M,We["~"],C);break}else if((ve(G,"float")||ve(G,"discrete"))&&c(c(W("Compliance").$underline_style_section_titles())?R["$is_section_title?"](q,M.$peek_line()):c(b=et["$!"]())?R["$atx_section_title?"](q):b)){M.$unshift_line(q),X=R.$parse_section_title(M,l,k["$[]"]("id")),j=Te(X),xt=j[0]==null?y:j[0],qt=j[1]==null?y:j[1],Et=j[2]==null?y:j[2],Bt=j[3]==null?y:j[3],c(qt)&&k["$[]="]("reftext",qt),$e=W("Block").$new(C,"floating_title",z(["content_model"],{content_model:"empty"})),$e["$title="](Et),k.$delete("title"),$e["$id="](c(b=xt)?b:c(J["$key?"]("sectids"))?W("Section").$generate_id($e.$title(),l):y),$e["$level="](Bt);break}else if(c(G)&&he(G,"normal"))if(c(W("PARAGRAPH_STYLES")["$include?"](G))){ke=G.$to_sym(),He="paragraph",M.$unshift_line(q);break}else if(c(W("ADMONITION_STYLES")["$include?"](G))){ke="admonition",He="paragraph",M.$unshift_line(q);break}else if(c(f)&&c(d["$registered_for_block?"](G,"paragraph"))){ke=G.$to_sym(),He="paragraph",M.$unshift_line(q);break}else c(R.$logger()["$debug?"]())&&R.$logger().$debug(R.$message_with_context("unknown style for paragraph: "+G,z(["source_location"],{source_location:M.$cursor_at_mark()}))),G=y;if(M.$unshift_line(q),c(et)&&g(G))kt=R.$read_paragraph_lines(M,Dt=ve(u,0)?H["$[]"]("list_type"):y,z(["skip_line_comments"],{skip_line_comments:r})),R["$adjust_indentation!"](kt),c(r)||ve(Dt,"dlist")?$e=W("Block").$new(C,"paragraph",z(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:k})):$e=W("Block").$new(C,"literal",z(["content_model","source","attributes"],{content_model:"verbatim",source:kt,attributes:k}));else{if(kt=R.$read_paragraph_lines(M,c(b=u["$=="](0))?H["$[]"]("list_type"):b,z(["skip_line_comments"],{skip_line_comments:!0})),c(r))c(et)&&ve(G,"normal")&&R["$adjust_indentation!"](kt),$e=W("Block").$new(C,"paragraph",z(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:k}));else if(c(W("ADMONITION_STYLE_HEADS")["$include?"](ct))&&c(q["$include?"](":"))&&c(W("AdmonitionParagraphRx")["$=~"](q)))kt["$[]="](0,(j=We["~"])===y?y:j.$post_match()),k["$[]="]("name",Vt=(j=["style",(X=We["~"])===y?y:X["$[]"](1)],Z(k,"[]=",j),j[j.length-1]).$downcase()),k["$[]="]("textlabel",c(b=k.$delete("caption"))?b:J["$[]"](""+Vt+"-caption")),$e=W("Block").$new(C,"admonition",z(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:k}));else if(c(at)&&ve(ct,">")&&c(q["$start_with?"]("> "))){if(Z(kt,"map!",[],function(Gt){return Gt==null&&(Gt=y),ve(Gt,">")?Gt.$slice(1,Gt.$length()):c(Gt["$start_with?"]("> "))?Gt.$slice(2,Gt.$length()):Gt}),c(kt["$[]"](-1)["$start_with?"]("-- "))&&(Pt=(Pt=kt.$pop()).$slice(3,Pt.$length()),!c(kt["$empty?"]())))for(;c(kt["$[]"](-1)["$empty?"]());)kt.$pop();k["$[]="]("style","quote"),$e=R.$build_block("quote","compound",!1,C,W("Reader").$new(kt),k),c(Pt)&&(X=$e.$apply_subs(Pt).$split(", ",2),j=Te(X),Mt=j[0]==null?y:j[0],Xt=j[1]==null?y:j[1],c(Mt)&&k["$[]="]("attribution",Mt),c(Xt)&&k["$[]="]("citetitle",Xt))}else if(ve(ct,'"')&&c(Se(kt.$size(),1))&&c(kt["$[]"](-1)["$start_with?"]("-- "))&&c(kt["$[]"](-2)["$end_with?"]('"'))){for(kt["$[]="](0,q.$slice(1,q.$length())),Pt=(Pt=kt.$pop()).$slice(3,Pt.$length());c(kt["$[]"](-1)["$empty?"]());)kt.$pop();kt["$<<"](kt.$pop().$chop()),k["$[]="]("style","quote"),$e=W("Block").$new(C,"quote",z(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:k})),X=$e.$apply_subs(Pt).$split(", ",2),j=Te(X),Mt=j[0]==null?y:j[0],Xt=j[1]==null?y:j[1],c(Mt)&&k["$[]="]("attribution",Mt),c(Xt)&&k["$[]="]("citetitle",Xt)}else c(et)&&ve(G,"normal")&&R["$adjust_indentation!"](kt),$e=W("Block").$new(C,"paragraph",z(["content_model","source","attributes"],{content_model:"simple",source:kt,attributes:k}));R.$catalog_inline_anchors(kt.$join(W("LF")),$e,l,M)}break}if(!c($e))switch(ke){case"listing":case"source":(ve(ke,"source")||g(k["$[]"](1))&&c(jt=c(St=k["$[]"](2))?St:J["$[]"]("source-language")))&&(c(jt)?(k["$[]="]("style","source"),k["$[]="]("language",jt),W("AttributeList").$rekey(k,[y,y,"linenums"])):(W("AttributeList").$rekey(k,[y,"language","linenums"]),c(k["$key?"]("language"))||c(J["$key?"]("source-language"))&&k["$[]="]("language",J["$[]"]("source-language"))),c(k["$key?"]("linenums"))||(c(k["$[]"]("linenums-option"))||c(J["$[]"]("source-linenums-option")))&&k["$[]="]("linenums",""),c(k["$key?"]("indent"))||c(J["$key?"]("source-indent"))&&k["$[]="]("indent",J["$[]"]("source-indent"))),$e=R.$build_block("listing","verbatim",Ze,C,M,k);break;case"fenced_code":k["$[]="]("style","source"),c(Se(ut=q.$length(),3))&&(c(Ut=(jt=q.$slice(3,ut)).$index(","))?c(Se(Ut,0))?(jt=jt.$slice(0,Ut).$strip(),c(be(Ut,Oe(ut,4)))&&k["$[]="]("linenums","")):c(Se(ut,4))&&k["$[]="]("linenums",""):jt=jt.$lstrip()),c(jt["$nil_or_empty?"]())?c(J["$key?"]("source-language"))&&k["$[]="]("language",J["$[]"]("source-language")):k["$[]="]("language",jt),c(k["$key?"]("linenums"))||(c(k["$[]"]("linenums-option"))||c(J["$[]"]("source-linenums-option")))&&k["$[]="]("linenums",""),c(k["$key?"]("indent"))||c(J["$key?"]("source-indent"))&&k["$[]="]("indent",J["$[]"]("source-indent")),Ze=Ze.$slice(0,3),$e=R.$build_block("listing","verbatim",Ze,C,M,k);break;case"table":ur=M.$cursor(),cr=W("Reader").$new(M.$read_lines_until(z(["terminator","skip_line_comments","context","cursor"],{terminator:Ze,skip_line_comments:!0,context:"table",cursor:"at_mark"})),ur),c(Ze["$start_with?"]("|","!"))||c(St=k["$[]"]("format"))||k["$[]="]("format",c(Ze["$start_with?"](","))?"csv":"dsv"),$e=R.$parse_table(cr,C,k);break;case"sidebar":$e=R.$build_block(ke,"compound",Ze,C,M,k);break;case"admonition":k["$[]="]("name",Vt=G.$downcase()),k["$[]="]("textlabel",c(St=k.$delete("caption"))?St:J["$[]"](""+Vt+"-caption")),$e=R.$build_block(ke,"compound",Ze,C,M,k);break;case"open":case"abstract":case"partintro":$e=R.$build_block("open","compound",Ze,C,M,k);break;case"literal":$e=R.$build_block(ke,"verbatim",Ze,C,M,k);break;case"example":c(k["$[]"]("collapsible-option"))&&k["$[]="]("caption",""),$e=R.$build_block(ke,"compound",Ze,C,M,k);break;case"quote":case"verse":W("AttributeList").$rekey(k,[y,"attribution","citetitle"]),$e=R.$build_block(ke,ve(ke,"verse")?"verbatim":"compound",Ze,C,M,k);break;case"stem":case"latexmath":case"asciimath":ve(ke,"stem")&&k["$[]="]("style",W("STEM_TYPE_ALIASES")["$[]"](c(St=k["$[]"](2))?St:J["$[]"]("stem"))),$e=R.$build_block("stem","raw",Ze,C,M,k);break;case"pass":$e=R.$build_block(ke,"raw",Ze,C,M,k);break;case"comment":return R.$build_block(ke,"skip",Ze,C,M,k),k.$clear(),y;default:if(c(f)&&c(Ct=d["$registered_for_block?"](ke,He))){if(ve(Qr=(Yt=Ct.$config())["$[]"]("content_model"),"skip")||(c((fr=c(St=Yt["$[]"]("positional_attrs"))?St:Yt["$[]"]("pos_attrs"))["$nil_or_empty?"]())||W("AttributeList").$rekey(k,Pe([y],fr)),c(Rt=Yt["$[]"]("default_attrs"))&&Z(Rt,"each",[],function(Gt,ar){var qr;return Gt==null&&(Gt=y),ar==null&&(ar=y),c(St=k["$[]"](Gt))?St:(qr=[Gt,ar],Z(k,"[]=",qr),qr[qr.length-1])}),k["$[]="]("cloaked-context",He)),!c($e=R.$build_block(ke,Qr,Ze,C,M,k,z(["extension"],{extension:Ct}))))return k.$clear(),y}else R.$raise("Unsupported block type "+ke+" at "+M.$cursor())}return c(l.$sourcemap())&&$e["$source_location="](M.$cursor_at_mark()),c(k["$[]"]("title"))&&($e["$title="](Et=k.$delete("title")),c(W("CAPTION_ATTRIBUTE_NAMES")["$[]"]($e.$context()))&&$e.$assign_caption(k.$delete("caption"))),$e["$style="](k["$[]"]("style")),c(Or=c(b=$e.$id())?b:(j=[k["$[]"]("id")],Z($e,"id=",j),j[j.length-1]))&&(c(c(Et)?Et["$include?"](W("ATTR_REF_HEAD")):$e["$title?"]())&&$e.$title(),c(l.$register("refs",[Or,$e]))||R.$logger().$warn(R.$message_with_context("id assigned to block already in use: "+Or,z(["source_location"],{source_location:M.$cursor_at_mark()})))),c(k["$empty?"]())||$e.$update_attributes(k),$e.$commit_subs(),c($e["$sub?"]("callouts"))&&(c(R.$catalog_callouts($e.$source(),l))||$e.$remove_sub("callouts")),$e},-3),N(ge,"$read_paragraph_lines",function(M,C,k){var H=y;return k==null&&(k=z([],{})),k["$[]="]("break_on_blank_lines",!0),k["$[]="]("break_on_list_continuation",!0),k["$[]="]("preserve_last_line",!0),H=c(C)?c(W("Compliance").$block_terminates_paragraph())?W("StartOfBlockOrListProc"):W("StartOfListProc"):c(W("Compliance").$block_terminates_paragraph())?W("StartOfBlockProc"):W("NoOp"),Z(M,"read_lines_until",[k],H.$to_proc())},-3),N(ge,"$is_delimited_block?",function(M,C){var k,H,j=this,X=y,R=y,u=y,r=y,l=y;if(C==null&&(C=y),!(c(Se(X=M.$length(),1))&&c(W("DELIMITED_BLOCK_HEADS")["$[]"](M.$slice(0,2)))))return y;if(ve(X,2))R=M,u=2;else if(c(be(X,5))?(R=M,u=X):R=M.$slice(0,u=4),c(W("Compliance").$markdown_syntax())&&c(R["$start_with?"]("`"))){if(ve(u,4)){if(ve(R,"````")||he(R=R.$chop(),"```"))return y;M=R,X=u=3}else if(he(R,"```"))return y}else if(ve(u,3))return y;return H=W("DELIMITED_BLOCKS")["$[]"](R),k=Te(H),r=k[0]==null?y:k[0],l=k[1]==null?y:k[1],c(r)&&(ve(X,u)||c(j["$uniform?"](M.$slice(1,X),W("DELIMITED_BLOCK_TAILS")["$[]"](R),Oe(X,1))))?c(C)?W("BlockMatchData").$new(r,l,R,M):!0:y},-2),N(ge,"$build_block",function(M,C,k,H,j,X,R){var u,r=this,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y;switch(R==null&&(R=z([],{})),C){case"skip":u=[!0,"simple"],l=u[0],b=u[1];break;case"raw":u=[!1,"simple"],l=u[0],b=u[1];break;default:u=[!1,C],l=u[0],b=u[1]}switch(c(k["$nil?"]())?(ve(b,"verbatim")?d=j.$read_lines_until(z(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(ve(C,"compound")&&(C="simple"),d=r.$read_paragraph_lines(j,!1,z(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:l}))),f=y):he(b,"compound")?(d=j.$read_lines_until(z(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:l,context:M,cursor:"at_mark"})),f=y):ve(k,!1)?(d=y,f=j):(d=y,S=j.$cursor(),f=W("Reader").$new(j.$read_lines_until(z(["terminator","skip_processing","context","cursor"],{terminator:k,skip_processing:l,context:M,cursor:"at_mark"})),S)),C){case"verbatim":q=(c(J=X["$[]"]("tabsize"))?J:H.$document().$attributes()["$[]"]("tabsize")).$to_i(),c(G=X["$[]"]("indent"))?r["$adjust_indentation!"](d,G.$to_i(),q):c(Se(q,0))&&r["$adjust_indentation!"](d,-1,q);break;case"skip":return y}if(c($e=R["$[]"]("extension")))if(X.$delete("style"),c(ke=$e.$process_method()["$[]"](H,c(He=f)?He:W("Reader").$new(d),X.$merge()))&&he(ke,H))X.$replace(ke.$attributes()),ve(ke.$content_model(),"compound")&&De(W("Block"),ke)&&g((d=ke.$lines())["$empty?"]())&&(C="compound",f=W("Reader").$new(d));else return y;else ke=W("Block").$new(H,M,z(["content_model","source","attributes"],{content_model:C,source:d,attributes:X}));return ve(C,"compound")&&r.$parse_blocks(f,ke),ke},-7),N(ge,"$parse_blocks",function(M,C,k){var H=this,j=y,X=y,R=y;if(k==null&&(k=y),c(k))for(;c(c(j=c(X=R=H.$next_block(M,C,k.$merge()))?C.$blocks()["$<<"](R):X)?j:M["$has_more_lines?"]()););else for(;c(c(j=c(X=R=H.$next_block(M,C))?C.$blocks()["$<<"](R):X)?j:M["$has_more_lines?"]()););return y},-3),N(ge,"$parse_list",function(M,C,k,H){var j,X=this,R=y,u=y,r=y,l=y;for(We["~"]==null&&(We["~"]=y),R=W("List").$new(k,C),u=W("ListRxMap")["$[]"](C);c(c(r=M["$has_more_lines?"]())?u["$=~"](M.$peek_line()):r)&&(c(l=X.$parse_list_item(M,R,We["~"],(j=We["~"])===y?y:j["$[]"](1),H))&&R.$items()["$<<"](l),!!c(r=M.$skip_blank_lines())););return R}),N(ge,"$catalog_callouts",function(M,C){var k=y,H=y;return k=!1,H=0,c(M["$include?"]("<"))&&Z(M,"scan",[W("CalloutScanRx")],function(){var X;return c(((X=We["~"])===y?y:X["$[]"](0))["$start_with?"]("\\"))||C.$callouts().$register(ve((X=We["~"])===y?y:X["$[]"](2),".")?(H=Pe(H,1)).$to_s():(X=We["~"])===y?y:X["$[]"](2)),k=!0}),k}),N(ge,"$catalog_inline_anchor",function(M,C,k,H,j){var X=this;return j==null&&(j=k.$document()),c(C)&&c(C["$include?"](W("ATTR_REF_HEAD")))&&(C=j.$sub_attributes(C)),c(j.$register("refs",[M,W("Inline").$new(k,"anchor",C,z(["type","id"],{type:"ref",id:M}))]))||(De(W("Reader"),H)&&(H=H.$cursor()),X.$logger().$warn(X.$message_with_context("id assigned to anchor already in use: "+M,z(["source_location"],{source_location:H})))),y},-5),N(ge,"$catalog_inline_anchors",function(M,C,k,H){var j=this;return(c(M["$include?"]("[["))||c(M["$include?"]("or:")))&&Z(M,"scan",[W("InlineAnchorScanRx")],function X(){var R,u=X.$$s==null?this:X.$$s,r=y,l=y,b=y,d=y;if(c(r=(R=We["~"])===y?y:R["$[]"](1))){if(c(l=(R=We["~"])===y?y:R["$[]"](2))&&c(l["$include?"](W("ATTR_REF_HEAD")))&&c((l=k.$sub_attributes(l))["$empty?"]()))return y}else r=(R=We["~"])===y?y:R["$[]"](3),c(l=(R=We["~"])===y?y:R["$[]"](4))&&(c(l["$include?"]("]"))?(l=l.$gsub("\\]","]"),c(l["$include?"](W("ATTR_REF_HEAD")))&&(l=k.$sub_attributes(l))):c(l["$include?"](W("ATTR_REF_HEAD")))&&c((l=k.$sub_attributes(l))["$empty?"]())&&(l=y));return c(k.$register("refs",[r,W("Inline").$new(C,"anchor",l,z(["type","id"],{type:"ref",id:r}))]))?y:(b=H.$cursor_at_mark(),c(Se(d=Pe(((R=We["~"])===y?y:R.$pre_match()).$count(W("LF")),c(((R=We["~"])===y?y:R["$[]"](0))["$start_with?"](W("LF")))?1:0),0))&&(b=b.$dup()).$advance(d),u.$logger().$warn(u.$message_with_context("id assigned to anchor already in use: "+r,z(["source_location"],{source_location:b}))))},{$$s:j}),y}),N(ge,"$catalog_inline_biblio_anchor",function(M,C,k,H){var j=this,X=y;return c(k.$document().$register("refs",[M,W("Inline").$new(k,"anchor",c(X=C)?"["+C+"]":X,z(["type","id"],{type:"bibref",id:M}))]))||j.$logger().$warn(j.$message_with_context("id assigned to bibliography anchor already in use: "+M,z(["source_location"],{source_location:H.$cursor()}))),y}),N(ge,"$parse_description_list",function(M,C,k){var H=this,j=y,X=y,R=y,u=y,r=y;for(We["~"]==null&&(We["~"]=y),j=W("List").$new(k,"dlist"),X=W("DescriptionListSiblingRx")["$[]"](C["$[]"](2)),j.$items()["$<<"](R=H.$parse_list_item(M,j,C,X));c(c(u=M["$has_more_lines?"]())?X["$=~"](M.$peek_line()):u);)r=H.$parse_list_item(M,j,We["~"],X),c(R["$[]"](1))?j.$items()["$<<"](R=r):(R["$[]"](0)["$<<"](r["$[]"](0)["$[]"](0)),R["$[]="](1,r["$[]"](1)));return j}),N(ge,"$parse_callout_list",function(M,C,k,H){var j=this,X=y,R=y,u=y,r=y,l=y,b=y,d=y,f=y;for(X=W("List").$new(k,"colist"),R=1,u=0;c(c(r=C)?r:c(l=C=W("CalloutListRx").$match(M.$peek_line()))?M.$mark():l);)ve(b=C["$[]"](1),".")&&(b=(u=Pe(u,1)).$to_s()),ve(b,R.$to_s())||j.$logger().$warn(j.$message_with_context("callout list item index: expected "+R+", got "+b,z(["source_location"],{source_location:M.$cursor_at_mark()}))),c(d=j.$parse_list_item(M,X,C,"<1>"))&&(X.$items()["$<<"](d),c((f=H.$callout_ids(X.$items().$size()))["$empty?"]())?j.$logger().$warn(j.$message_with_context("no callout found for <"+X.$items().$size()+">",z(["source_location"],{source_location:M.$cursor_at_mark()}))):d.$attributes()["$[]="]("coids",f)),R=Pe(R,1),C=y;return H.$next_list(),X}),N(ge,"$parse_list_item",function(M,C,k,H,j){var X,R,u=this,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y,at=y,ct=y,ft=y,ut=y,ht=y;if(j==null&&(j=y),ve(r=C.$context(),"dlist"))l=!0,b=W("ListItem").$new(C,d=k["$[]"](1)),c(d["$start_with?"]("[["))&&c(W("LeadingInlineAnchorRx")["$=~"](d))&&u.$catalog_inline_anchor((X=We["~"])===y?y:X["$[]"](1),c(f=(X=We["~"])===y?y:X["$[]"](2))?f:((X=We["~"])===y?y:X.$post_match()).$lstrip(),b,M),c(S=k["$[]"](3))&&(q=!0),J=W("ListItem").$new(C,S),c(C.$document().$sourcemap())&&(b["$source_location="](M.$cursor()),c(q)?J["$source_location="](b.$source_location()):G=!0);else switch(q=!0,J=W("ListItem").$new(C,S=k["$[]"](2)),c(C.$document().$sourcemap())&&J["$source_location="](M.$cursor()),r){case"ulist":J["$marker="](H),c(S["$start_with?"]("["))&&(c(j)&&ve(j,"bibliography")?c(W("InlineBiblioAnchorRx")["$=~"](S))&&u.$catalog_inline_biblio_anchor((X=We["~"])===y?y:X["$[]"](1),(X=We["~"])===y?y:X["$[]"](2),J,M):c(S["$start_with?"]("[["))?c(W("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=We["~"])===y?y:X["$[]"](1),(X=We["~"])===y?y:X["$[]"](2),J,M):c(S["$start_with?"]("[ ] ","[x] ","[*] "))&&(C.$set_option("checklist"),J.$attributes()["$[]="]("checkbox",""),c(S["$start_with?"]("[ "))||J.$attributes()["$[]="]("checked",""),J["$text="](S.$slice(4,S.$length()))));break;case"olist":R=u.$resolve_ordered_list_marker(H,$e=C.$items().$size(),!0,M),X=Te(R),H=X[0]==null?y:X[0],ke=X[1]==null?y:X[1],J["$marker="](H),ve($e,0)&&g(j)&&C["$style="](c(He=ke)?He:(c(Ze=W("ORDERED_LIST_STYLES")["$[]"](Oe(H.$length(),1)))?Ze:"arabic").$to_s()),c(S["$start_with?"]("[["))&&c(W("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=We["~"])===y?y:X["$[]"](1),(X=We["~"])===y?y:X["$[]"](2),J,M);break;default:J["$marker="](H),c(S["$start_with?"]("[["))&&c(W("LeadingInlineAnchorRx")["$=~"](S))&&u.$catalog_inline_anchor((X=We["~"])===y?y:X["$[]"](1),(X=We["~"])===y?y:X["$[]"](2),J,M)}if(M.$shift(),$t=M.$cursor(),et=W("Reader").$new(u.$read_lines_for_list_item(M,r,H,q),$t),c(et["$has_more_lines?"]())){for(c(G)&&J["$source_location="]($t),at=et.$skip_line_comments(),c(ct=et.$peek_line())&&(c(at["$empty?"]())||et.$unshift_lines(at),c(ct["$empty?"]())||(ft=!0,c(l)||(q=y))),c(ut=u.$next_block(et,J,z([],{}),z(["text_only","list_type"],{text_only:c(q)?y:!0,list_type:r})))&&J.$blocks()["$<<"](ut);c(et["$has_more_lines?"]());)c(ut=u.$next_block(et,J,z([],{}),z(["list_type"],{list_type:r})))&&J.$blocks()["$<<"](ut);c(ft)&&c(ht=J.$blocks()["$[]"](0))&&ve(ht.$context(),"paragraph")&&J.$fold_first()}return c(l)?[[b],c(J["$text?"]())||c(J["$blocks?"]())?J:y]:J},-5),N(ge,"$read_lines_for_list_item",function(M,C,k,H){var j,X=this,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y;for(k==null&&(k=y),H==null&&(H=!0),R=[],u="inactive",r=!1,l=y,b=C["$=="]("dlist");c(M["$has_more_lines?"]())&&(d=M.$read_line(),!c(X["$is_sibling_list_item?"](d,C,k)));){if(f=c(R["$empty?"]())?y:R["$[]"](-1),ve(f,W("LIST_CONTINUATION"))&&(ve(u,"inactive")&&(u="active",H=!0,c(r)||R["$[]="](-1,"")),ve(d,W("LIST_CONTINUATION")))){he(u,"frozen")&&(u="frozen",R["$<<"](d)),d=y;continue}if(c(S=X["$is_delimited_block?"](d,!0))){if(!ve(u,"active"))break;R["$<<"](d),R.$concat(M.$read_lines_until(z(["terminator","read_last_line","context"],{terminator:S.$terminator(),read_last_line:!0,context:y}))),u="inactive"}else if(c(b)&&he(u,"active")&&c(d["$start_with?"]("["))&&c(W("BlockAttributeLineRx")["$match?"](d))){for(q=[d];c(J=M.$peek_line());){if(c(X["$is_delimited_block?"](J)))G=!0;else if(c(J["$empty?"]())||c(J["$start_with?"]("["))&&c(W("BlockAttributeLineRx")["$match?"](J))){q["$<<"](M.$read_line());continue}else c(W("AnyListRx")["$match?"](J))&&g(X["$is_sibling_list_item?"](J,C,k))?R.$concat(q):G=!0;break}if(c(G)){M.$unshift_lines(q);break}}else if(ve(u,"active")&&g(d["$empty?"]()))c(W("LiteralParagraphRx")["$match?"](d))?(M.$unshift_line(d),c(b)?R.$concat(Z(M,"read_lines_until",[z(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=y),at["$is_sibling_list_item?"](et,C,k)},{$$s:X})):R.$concat(M.$read_lines_until(z(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),u="inactive"):ve($e=d.$chr(),".")&&c(W("BlockTitleRx")["$match?"](d))||ve($e,"[")&&c(W("BlockAttributeLineRx")["$match?"](d))||ve($e,":")&&c(W("AttributeEntryRx")["$match?"](d))?R["$<<"](d):(c(ke=Z(c(r)?["dlist"]:W("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=y),W("ListRxMap")["$[]"](et)["$match?"](d)}))&&(r=!0,ve(ke,"dlist")&&c(((j=We["~"])===y?y:j["$[]"](3))["$nil_or_empty?"]())&&(H=!1)),R["$<<"](d),u="inactive");else if(c(f)&&c(f["$empty?"]())){if(c(d["$empty?"]())&&(!c(d=c(He=M.$skip_blank_lines())?M.$read_line():He)||c(X["$is_sibling_list_item?"](d,C,k))))break;if(ve(d,W("LIST_CONTINUATION")))l=R.$size(),R["$<<"](d);else if(c(H)){if(c(X["$is_sibling_list_item?"](d,C,k)))break;if(c(ke=Z(W("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=y),W("ListRxMap")["$[]"](et)["$=~"](d)})))R["$<<"](d),r=!0,ve(ke,"dlist")&&c(((j=We["~"])===y?y:j["$[]"](3))["$nil_or_empty?"]())&&(H=!1);else if(c(W("LiteralParagraphRx")["$match?"](d)))M.$unshift_line(d),c(b)?R.$concat(Z(M,"read_lines_until",[z(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],function $t(et){var at=$t.$$s==null?this:$t.$$s;return et==null&&(et=y),at["$is_sibling_list_item?"](et,C,k)},{$$s:X})):R.$concat(M.$read_lines_until(z(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else break}else c(r)||R.$pop(),R["$<<"](d),H=!0}else c(d["$empty?"]())||(H=!0),c(ke=Z(c(r)?["dlist"]:W("NESTABLE_LIST_CONTEXTS"),"find",[],function(et){return et==null&&(et=y),W("ListRxMap")["$[]"](et)["$=~"](d)}))&&(r=!0,ve(ke,"dlist")&&c(((j=We["~"])===y?y:j["$[]"](3))["$nil_or_empty?"]())&&(H=!1)),R["$<<"](d);d=y}for(c(d)&&M.$unshift_line(d),c(l)&&R["$[]="](l,"");!c(R["$empty?"]());)if(c((Ze=R["$[]"](-1))["$empty?"]()))R.$pop();else{ve(Ze,W("LIST_CONTINUATION"))&&R.$pop();break}return R},-3),N(ge,"$initialize_section",function(M,C,k){var H,j,X=this,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y;return k==null&&(k=z([],{})),R=C.$document(),u=(r=R.$doctype())["$=="]("book"),c(R.$sourcemap())&&(l=M.$cursor()),b=k["$[]"](1),j=X.$parse_section_title(M,R,k["$[]"]("id")),H=Te(j),d=H[0]==null?y:H[0],f=H[1]==null?y:H[1],S=H[2]==null?y:H[2],q=H[3]==null?y:H[3],J=H[4]==null?y:H[4],c(b)?c(u)&&ve(b,"abstract")?(H=["chapter",1],G=H[0],q=H[1]):c(b["$start_with?"]("sect"))&&c(W("SectionLevelStyleRx")["$match?"](b))?G="section":(H=[b,!0],G=H[0],$e=H[1],ve(q,0)&&(q=1),ke=G["$=="]("appendix")):c(u)?G=ve(q,0)?"part":c(Se(q,1))?"section":"chapter":ve(r,"manpage")&&ve(S.$casecmp("synopsis"),0)?(H=["synopsis",!0],G=H[0],$e=H[1]):G="section",c(f)&&k["$[]="]("reftext",f),He=W("Section").$new(C,q),H=[d,S,G,l],j=[H[0]],Z(He,"id=",j),j[j.length-1],j=[H[1]],Z(He,"title=",j),j[j.length-1],j=[H[2]],Z(He,"sectname=",j),j[j.length-1],j=[H[3]],Z(He,"source_location=",j),j[j.length-1],c($e)?(He["$special="](!0),c(ke)?He["$numbered="](!0):ve(R.$attributes()["$[]"]("sectnums"),"all")&&He["$numbered="](c(u)&&ve(q,1)?"chapter":!0)):c(R.$attributes()["$[]"]("sectnums"))&&c(Se(q,0))?He["$numbered="](c(He.$special())?c(Ze=C.$numbered())||Ze:!0):c(u)&&ve(q,0)&&c(R.$attributes()["$[]"]("partnums"))&&He["$numbered="](!0),c($t=c(Ze=He.$id())?Ze:(H=[c(R.$attributes()["$key?"]("sectids"))?et=W("Section").$generate_id(He.$title(),R):y],Z(He,"id=",H),H[H.length-1]))&&(c(et)||g(S["$include?"](W("ATTR_REF_HEAD")))||He.$title(),c(R.$register("refs",[$t,He]))||X.$logger().$warn(X.$message_with_context("id assigned to section already in use: "+$t,z(["source_location"],{source_location:M.$cursor_at_line(Oe(M.$lineno(),c(J)?1:2))})))),He.$update_attributes(k),M.$skip_blank_lines(),He},-3),N(ge,"$is_next_line_section?",function(M,C){var k=this,H=y,j=y,X=y;return c(H=C["$[]"](1))&&(ve(H,"discrete")||ve(H,"float"))?y:c(W("Compliance").$underline_style_section_titles())?(j=M.$peek_lines(2,c(X=H)?H["$=="]("comment"):X),k["$is_section_title?"](c(X=j["$[]"](0))?X:"",j["$[]"](1))):k["$atx_section_title?"](c(X=M.$peek_line())?X:"")}),N(ge,"$is_next_line_doctitle?",function(M,C,k){var H=this,j=y,X=y;return c(k)?c(j=X=H["$is_next_line_section?"](M,C))?Pe(X,k.$to_i())["$=="](0):j:H["$is_next_line_section?"](M,C)["$=="](0)}),N(ge,"$is_section_title?",function(M,C){var k=this,H=y;return C==null&&(C=y),c(H=k["$atx_section_title?"](M))?H:c(C["$nil_or_empty?"]())?y:k["$setext_section_title?"](M,C)},-2),N(ge,"$atx_section_title?",function(M){var C,k=y;return c(c(W("Compliance").$markdown_syntax())?c(k=M["$start_with?"]("=","#"))?W("ExtAtxSectionTitleRx")["$=~"](M):k:c(k=M["$start_with?"]("="))?W("AtxSectionTitleRx")["$=~"](M):k)?Oe(((C=We["~"])===y?y:C["$[]"](1)).$length(),1):y}),N(ge,"$setext_section_title?",function(M,C){var k=this,H=y,j=y,X=y;return c(j=W("SETEXT_SECTION_LEVELS")["$[]"](X=C.$chr()))&&c(k["$uniform?"](C,X,H=C.$length()))&&c(W("SetextSectionTitleRx")["$match?"](M))&&c(be(Oe(M.$length(),H).$abs(),2))?j:y}),N(ge,"$parse_section_title",function(M,C,k){var H,j,X=this,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y;return k==null&&(k=y),R=y,u=M.$read_line(),c(c(W("Compliance").$markdown_syntax())?c(r=u["$start_with?"]("=","#"))?W("ExtAtxSectionTitleRx")["$=~"](u):r:c(r=u["$start_with?"]("="))?W("AtxSectionTitleRx")["$=~"](u):r)?(H=[Oe(((j=We["~"])===y?y:j["$[]"](1)).$length(),1),(j=We["~"])===y?y:j["$[]"](2),!0],l=H[0],b=H[1],d=H[2],c(k)||c(b["$end_with?"]("]]"))&&c(W("InlineSectionAnchorRx")["$=~"](b))&&g((H=We["~"])===y?y:H["$[]"](1))&&(H=[b.$slice(0,Oe(b.$length(),((j=We["~"])===y?y:j["$[]"](0)).$length())),(j=We["~"])===y?y:j["$[]"](2),(j=We["~"])===y?y:j["$[]"](3)],b=H[0],k=H[1],R=H[2])):c(W("Compliance").$underline_style_section_titles())&&c(q=M.$peek_line(!0))&&c(l=W("SETEXT_SECTION_LEVELS")["$[]"](S=q.$chr()))&&c(X["$uniform?"](q,S,f=q.$length()))&&c(b=c(r=W("SetextSectionTitleRx")["$=~"](u))?(H=We["~"])===y?y:H["$[]"](1):r)&&c(be(Oe(u.$length(),f).$abs(),2))?(d=!1,c(k)||c(b["$end_with?"]("]]"))&&c(W("InlineSectionAnchorRx")["$=~"](b))&&g((H=We["~"])===y?y:H["$[]"](1))&&(H=[b.$slice(0,Oe(b.$length(),((j=We["~"])===y?y:j["$[]"](0)).$length())),(j=We["~"])===y?y:j["$[]"](2),(j=We["~"])===y?y:j["$[]"](3)],b=H[0],k=H[1],R=H[2]),M.$shift()):X.$raise("Unrecognized section at "+M.$cursor_at_prev_line()),c(C["$attr?"]("leveloffset"))&&(l=Pe(l,C.$attr("leveloffset").$to_i()),c(be(l,0))&&(l=0)),[k,R,b,l,d]},-3),N(ge,"$parse_header_metadata",function(M,C,k){var H,j=this,X=y,R=y,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y,at=y;if(C==null&&(C=y),k==null&&(k=!0),X=c(R=C)?C.$attributes():R,j.$process_attribute_entries(M,C),c(M["$has_more_lines?"]())&&g(M["$next_line_empty?"]())?(u=(r=j.$process_authors(M.$read_line())).$delete("authorcount"),c(C)&&c(Se((H=["authorcount",u],Z(X,"[]=",H),H[H.length-1]),0))&&(Z(r,"each",[],function(ft,ut){var ht;return ft==null&&(ft=y),ut==null&&(ut=y),c(X["$key?"](ft))?y:(ht=[ft,C.$apply_header_subs(ut)],Z(X,"[]=",ht),ht[ht.length-1])}),l=X["$[]"]("author"),b=X["$[]"]("authorinitials"),d=X["$[]"]("authors")),r["$[]="]("authorcount",u),j.$process_attribute_entries(M,C),c(M["$has_more_lines?"]())&&g(M["$next_line_empty?"]())&&(f=M.$read_line(),c(S=W("RevisionInfoLineRx").$match(f))?(q=z([],{}),c(S["$[]"](1))&&q["$[]="]("revnumber",S["$[]"](1).$rstrip()),c((J=S["$[]"](2).$strip())["$empty?"]())||(g(S["$[]"](1))&&c(J["$start_with?"]("v"))?q["$[]="]("revnumber",J.$slice(1,J.$length())):q["$[]="]("revdate",J)),c(S["$[]"](3))&&q["$[]="]("revremark",S["$[]"](3).$rstrip()),c(C)&&g(q["$empty?"]())&&Z(q,"each",[],function(ft,ut){var ht;return ft==null&&(ft=y),ut==null&&(ut=y),c(X["$key?"](ft))?y:(ht=[ft,C.$apply_header_subs(ut)],Z(X,"[]=",ht),ht[ht.length-1])})):M.$unshift_line(f)),j.$process_attribute_entries(M,C),M.$skip_blank_lines()):r=z([],{}),c(C)){if(c(X["$key?"]("author"))&&he(G=X["$[]"]("author"),l))$e=j.$process_authors(G,!0,!1),he(X["$[]"]("authorinitials"),b)&&$e.$delete("authorinitials");else if(c(X["$key?"]("authors"))&&he(G=X["$[]"]("authors"),d))$e=j.$process_authors(G,!0);else{for(H=[[],1,"author_1",!1,!1],ke=H[0],He=H[1],Ze=H[2],$t=H[3],et=H[4];c(X["$key?"](Ze));)ve(at=X["$[]"](Ze),r["$[]"](Ze))?(ke["$<<"](y),et=!0):(ke["$<<"](at),$t=!0),Ze="author_"+(He=Pe(He,1));c($t)?(c(et)&&Z(ke,"each_with_index",[],function(ft,ut){var ht,dt=y;return ft==null&&(ft=y),ut==null&&(ut=y),c(ft)?y:(ht=[ut,Z([r["$[]"]("firstname_"+(dt=Pe(ut,1))),r["$[]"]("middlename_"+dt),r["$[]"]("lastname_"+dt)].$compact(),"map",[],function(yt){return yt==null&&(yt=y),yt.$tr(" ","_")}).$join(" ")],Z(ke,"[]=",ht),ht[ht.length-1])}),$e=j.$process_authors(ke,!0,!1)):$e=z(["authorcount"],{authorcount:0})}ve($e["$[]"]("authorcount"),0)?c(u)?$e=y:X["$[]="]("authorcount",0):(X.$update($e),g(X["$key?"]("email"))&&c(X["$key?"]("email_1"))&&X["$[]="]("email",X["$[]"]("email_1")))}return c(k)?r.$merge(q.$to_h(),$e.$to_h()):y},-2),N(ge,"$process_authors",function(M,C,k){var H=y,j=y;return C==null&&(C=!1),k==null&&(k=!0),H=z([],{}),j=0,Z(c(k)&&c(M["$include?"](";"))?M.$split(W("AuthorDelimiterRx")):[].concat(st(M)),"each",[],function(R){var u,r=y,l=y,b=y,d=y,f=y,S=y,q=y;return R==null&&(R=y),c(R["$empty?"]())?y:(r=z([],{}),ve(j=Pe(j,1),1)?Z(W("AuthorKeys"),"each",[],function(G){var $e;return G==null&&(G=y),$e=[G.$to_sym(),G],Z(r,"[]=",$e),$e[$e.length-1]}):Z(W("AuthorKeys"),"each",[],function(G){var $e;return G==null&&(G=y),$e=[G.$to_sym(),""+G+"_"+j],Z(r,"[]=",$e),$e[$e.length-1]}),c(C)?(c(R["$include?"]("<"))&&(H["$[]="](r["$[]"]("author"),R.$tr("_"," ")),R=R.$gsub(W("XmlSanitizeRx"),"")),ve((l=R.$split(y,3)).$size(),3)&&l["$<<"](l.$pop().$squeeze(" "))):c(b=W("AuthorInfoLineRx").$match(R))&&(l=b.$to_a()).$shift(),c(l)?(d=(u=[r["$[]"]("firstname"),f=l["$[]"](0).$tr("_"," ")],Z(H,"[]=",u),u[u.length-1]),H["$[]="](r["$[]"]("authorinitials"),f.$chr()),c(l["$[]"](1))&&(c(l["$[]"](2))?(H["$[]="](r["$[]"]("middlename"),S=l["$[]"](1).$tr("_"," ")),H["$[]="](r["$[]"]("lastname"),q=l["$[]"](2).$tr("_"," ")),d=Pe(Pe(Pe(Pe(f," "),S)," "),q),H["$[]="](r["$[]"]("authorinitials"),""+f.$chr()+S.$chr()+q.$chr())):(H["$[]="](r["$[]"]("lastname"),q=l["$[]"](1).$tr("_"," ")),d=Pe(Pe(f," "),q),H["$[]="](r["$[]"]("authorinitials"),""+f.$chr()+q.$chr()))),c(H["$[]"](r["$[]"]("author")))||H["$[]="](r["$[]"]("author"),d),c(C)||g(l["$[]"](3))||H["$[]="](r["$[]"]("email"),l["$[]"](3))):(H["$[]="](r["$[]"]("author"),(u=[r["$[]"]("firstname"),f=R.$squeeze(" ").$strip()],Z(H,"[]=",u),u[u.length-1])),H["$[]="](r["$[]"]("authorinitials"),f.$chr())),ve(j,1)?(u=["authors",H["$[]"](r["$[]"]("author"))],Z(H,"[]=",u),u[u.length-1]):(ve(j,2)&&Z(W("AuthorKeys"),"each",[],function(G){var $e;return G==null&&(G=y),c(H["$key?"](G))?($e=[""+G+"_1",H["$[]"](G)],Z(H,"[]=",$e),$e[$e.length-1]):y}),u=["authors",""+H["$[]"]("authors")+", "+H["$[]"](r["$[]"]("author"))],Z(H,"[]=",u),u[u.length-1]))}),H["$[]="]("authorcount",j),H},-2),N(ge,"$parse_block_metadata_lines",function(M,C,k,H){var j=this;for(k==null&&(k=z([],{})),H==null&&(H=z([],{}));c(j.$parse_block_metadata_line(M,C,k,H))&&(M.$shift(),!!c(M.$skip_blank_lines())););return k},-3),N(ge,"$parse_block_metadata_line",function(M,C,k,H){var j,X=this,R=y,u=y,r=y,l=y,b=y,d=y;if(We["~"]==null&&(We["~"]=y),H==null&&(H=z([],{})),c(u=M.$peek_line())&&c(c(H["$[]"]("text_only"))?u["$start_with?"]("[","/"):R=u["$start_with?"]("[",".","/",":"))){if(c(u["$start_with?"]("["))){if(c(u["$start_with?"]("[["))){if(c(u["$end_with?"]("]]"))&&c(W("BlockAnchorRx")["$=~"](u)))return k["$[]="]("id",(j=We["~"])===y?y:j["$[]"](1)),c(r=(j=We["~"])===y?y:j["$[]"](2))&&k["$[]="]("reftext",c(r["$include?"](W("ATTR_REF_HEAD")))?C.$sub_attributes(r):r),!0}else if(c(u["$end_with?"]("]"))&&c(W("BlockAttributeListRx")["$=~"](u)))return l=k["$[]"](1),c(C.$parse_attributes((j=We["~"])===y?y:j["$[]"](1),[],z(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!0,into:k}))["$[]"](1))&&k["$[]="](1,c(b=X.$parse_style_attribute(k,M))?b:l),!0}else if(c(R)&&c(u["$start_with?"]("."))){if(c(W("BlockTitleRx")["$=~"](u)))return k["$[]="]("title",(j=We["~"])===y?y:j["$[]"](1)),!0}else if(g(R)||c(u["$start_with?"]("/"))){if(c(u["$start_with?"]("//"))){if(ve(u,"//"))return!0;if(c(R)&&c(X["$uniform?"](u,"/",d=u.$length()))){if(!ve(d,3))return M.$read_lines_until(z(["terminator","skip_first_line","preserve_last_line","skip_processing","context"],{terminator:u,skip_first_line:!0,preserve_last_line:!0,skip_processing:!0,context:"comment"})),!0}else if(!c(u["$start_with?"]("///")))return!0}}else if(c(R)&&c(u["$start_with?"](":"))&&c(W("AttributeEntryRx")["$=~"](u)))return X.$process_attribute_entry(M,C,k,We["~"]),!0}return y},-4),N(ge,"$process_attribute_entries",function(M,C,k){var H=this;for(k==null&&(k=y),M.$skip_comment_lines();c(H.$process_attribute_entry(M,C,k));)M.$shift(),M.$skip_comment_lines()},-3),N(ge,"$process_attribute_entry",function(M,C,k,H){var j,X=this,R=y,u=y,r=y,l=y,b=y,d=y;if(k==null&&(k=y),H==null&&(H=y),c(H)||c(H=c(M["$has_more_lines?"]())?W("AttributeEntryRx").$match(M.$peek_line()):y)){if(c((R=H["$[]"](2))["$nil_or_empty?"]()))R="";else if(c(R["$end_with?"](W("LINE_CONTINUATION"),W("LINE_CONTINUATION_LEGACY"))))for(j=[R.$slice(Oe(R.$length(),2),2),R.$slice(0,Oe(R.$length(),2)).$rstrip()],u=j[0],R=j[1];c(c(r=M.$advance())?(l=c(b=M.$peek_line())?b:"")["$empty?"]()["$!"]():r)&&(l=l.$lstrip(),c(d=l["$end_with?"](u))&&(l=l.$slice(0,Oe(l.$length(),2)).$rstrip()),R=""+R+(c(R["$end_with?"](W("HARD_LINE_BREAK")))?W("LF"):" ")+l,!!c(d)););return X.$store_attribute(H["$[]"](1),R,C,k),!0}else return y},-3),N(ge,"$store_attribute",function(M,C,k,H){var j=this,X=y;return k==null&&(k=y),H==null&&(H=y),c(M["$end_with?"]("!"))?(M=M.$chop(),C=y):c(M["$start_with?"]("!"))&&(M=M.$slice(1,M.$length()),C=y),ve(M=j.$sanitize_attribute_name(M),"numbered")?M="sectnums":ve(M,"hardbreaks")?M="hardbreaks-option":ve(M,"showtitle")&&j.$store_attribute("notitle",c(C)?y:"",k,H),c(k)?c(C)?(ve(M,"leveloffset")&&(c(C["$start_with?"]("+"))?C=Pe(k.$attr("leveloffset",0).$to_i(),C.$slice(1,C.$length()).$to_i()).$to_s():c(C["$start_with?"]("-"))&&(C=Oe(k.$attr("leveloffset",0).$to_i(),C.$slice(1,C.$length()).$to_i()).$to_s())),c(X=k.$set_attribute(M,C))&&(C=X,c(H)&&Xe(W("Document"),"AttributeEntry").$new(M,C).$save_to(H))):c(k.$delete_attribute(M))&&c(H)&&Xe(W("Document"),"AttributeEntry").$new(M,C).$save_to(H):c(H)&&Xe(W("Document"),"AttributeEntry").$new(M,C).$save_to(H),[M,C]},-3),N(ge,"$resolve_list_marker",function(M,C,k,H,j){var X=this;switch(k==null&&(k=0),H==null&&(H=!1),j==null&&(j=y),M){case"ulist":return C;case"olist":return X.$resolve_ordered_list_marker(C,k,H,j)["$[]"](0);default:return"<1>"}},-3),N(ge,"$resolve_ordered_list_marker",function(M,C,k,H){var j=this,X=y,R=y,u=y;if(C==null&&(C=0),k==null&&(k=!1),H==null&&(H=y),c(M["$start_with?"](".")))return[M];switch(X=Z(W("ORDERED_LIST_STYLES"),"find",[],function(l){return l==null&&(l=y),W("OrderedListMarkerRxMap")["$[]"](l)["$match?"](M)})){case"arabic":c(k)&&(R=Pe(C,1),u=M.$to_i()),M="1.";break;case"loweralpha":c(k)&&(R=Pe("a"["$[]"](0).$ord(),C).$chr(),u=M.$chop()),M="a.";break;case"upperalpha":c(k)&&(R=Pe("A"["$[]"](0).$ord(),C).$chr(),u=M.$chop()),M="A.";break;case"lowerroman":c(k)&&(R=W("Helpers").$int_to_roman(Pe(C,1)).$downcase(),u=M.$chop()),M="i)";break;case"upperroman":c(k)&&(R=W("Helpers").$int_to_roman(Pe(C,1)),u=M.$chop()),M="I)";break}return c(k)&&he(R,u)&&j.$logger().$warn(j.$message_with_context("list item index: expected "+R+", got "+u,z(["source_location"],{source_location:H.$cursor()}))),[M,X]},-2),N(ge,"$is_sibling_list_item?",function(M,C,k){var H,j=this,X=y;return De(Xe("Regexp"),k)?k["$match?"](M):c(X=W("ListRxMap")["$[]"](C)["$=~"](M))?k["$=="](j.$resolve_list_marker(C,(H=We["~"])===y?y:H["$[]"](1))):X}),N(ge,"$parse_table",function(M,C,k){var H,j,X,R=this,u=y,r=y,l=y,b=y,d=y,f=y,S=y,q=y,J=y,G=y,$e=y,ke=y,He=y,Ze=y,$t=y,et=y,at=y,ct=y;for(u=W("Table").$new(C,k),c(k["$key?"]("cols"))&&g((r=R.$parse_colspecs(k["$[]"]("cols")))["$empty?"]())&&(u.$create_columns(r),l=!0),b=c(d=M.$skip_blank_lines())?d:0,c(k["$[]"]("header-option"))?u["$has_header_option="](!0):ve(b,0)&&g(k["$[]"]("noheader-option"))&&(u["$has_header_option="]("implicit"),f=!0),S=Xe(W("Table"),"ParserContext").$new(M,u,k),H=[S.$format(),-1,y],q=H[0],J=H[1],G=H[2];c($e=M.$read_line());){for(c(ke=Se(J=Pe(J,1),0))&&c($e["$empty?"]())?($e=y,c(G)&&(G=Pe(G,1))):ve(q,"psv")&&(c(S["$starts_with_delimiter?"]($e))?($e=$e.$slice(1,$e.$length()),S.$close_open_cell(),c(G)&&(G=y)):(j=R.$parse_cellspec($e,"start",S.$delimiter()),H=Te(j),He=H[0]==null?y:H[0],$e=H[1]==null?y:H[1],c(He)?(S.$close_open_cell(He),c(G)&&(G=y)):c(G)&&ve(G,J)&&u["$has_header_option="](f=G=y))),c(ke)||(M.$mark(),c(f)&&(c(M["$has_more_lines?"]())&&c(M.$peek_line()["$empty?"]())?G=1:u["$has_header_option="](f=y))),H=!1;H||c(!0);)if(H=!1,c($e)&&c(Ze=S.$match_delimiter($e))){if(j=[Ze.$pre_match(),Ze.$post_match()],$t=j[0],et=j[1],De("csv",d=q)){if(c(S["$buffer_has_unclosed_quotes?"]($t))){if(S.$skip_past_delimiter($t),c(($e=et)["$empty?"]()))break;H=!0;continue}S["$buffer="](""+S.$buffer()+$t)}else if(De("dsv",d)){if(c($t["$end_with?"]("\\"))){if(S.$skip_past_escaped_delimiter($t),c(($e=et)["$empty?"]())){S["$buffer="](""+S.$buffer()+W("LF")),S.$keep_cell_open();break}H=!0;continue}S["$buffer="](""+S.$buffer()+$t)}else{if(c($t["$end_with?"]("\\"))){if(S.$skip_past_escaped_delimiter($t),c(($e=et)["$empty?"]())){S["$buffer="](""+S.$buffer()+W("LF")),S.$keep_cell_open();break}H=!0;continue}X=R.$parse_cellspec($t),j=Te(X),He=j[0]==null?y:j[0],at=j[1]==null?y:j[1],S.$push_cellspec(He),S["$buffer="](""+S.$buffer()+at)}c(($e=et)["$empty?"]())&&($e=y),S.$close_cell()}else{switch(S["$buffer="](""+S.$buffer()+$e+W("LF")),q){case"csv":c(S["$buffer_has_unclosed_quotes?"]())?(c(G)&&ve(J,0)&&u["$has_header_option="](f=G=y),S.$keep_cell_open()):S.$close_cell(!0);break;case"dsv":S.$close_cell(!0);break;default:S.$keep_cell_open()}break}if(c(S["$cell_open?"]()))c(M["$has_more_lines?"]())||S.$close_cell(!0);else if(!c(d=M.$skip_blank_lines()))break}return ve((ct=u.$attributes(),c(d=ct["$[]"]("colcount"))?d:(H=["colcount",u.$columns().$size()],Z(ct,"[]=",H),H[H.length-1])),0)||c(l)||u.$assign_column_widths(),c(f)&&u["$has_header_option="](!0),u.$partition_header_footer(k),u}),N(ge,"$parse_colspecs",function(M){var C=y;return c(M["$include?"](" "))&&(M=M.$delete(" ")),ve(M,M.$to_i().$to_s())?Z(Xe("Array"),"new",[M.$to_i()],function(){return z(["width"],{width:1})}):(C=[],Z(c(M["$include?"](","))?M.$split(",",-1):M.$split(";",-1),"each",[],function(H){var j,X,R=y,u=y,r=y,l=y,b=y;return H==null&&(H=y),c(H["$empty?"]())?C["$<<"](z(["width"],{width:1})):c(R=W("ColumnSpecRx").$match(H))?(u=z([],{}),c(R["$[]"](2))&&(X=R["$[]"](2).$split("."),j=Te(X),r=j[0]==null?y:j[0],l=j[1]==null?y:j[1],g(r["$nil_or_empty?"]())&&c(W("TableCellHorzAlignments")["$key?"](r))&&u["$[]="]("halign",W("TableCellHorzAlignments")["$[]"](r)),g(l["$nil_or_empty?"]())&&c(W("TableCellVertAlignments")["$key?"](l))&&u["$[]="]("valign",W("TableCellVertAlignments")["$[]"](l))),c(b=R["$[]"](3))?u["$[]="]("width",ve(b,"~")?-1:b.$to_i()):u["$[]="]("width",1),c(R["$[]"](4))&&c(W("TableCellStyles")["$key?"](R["$[]"](4)))&&u["$[]="]("style",W("TableCellStyles")["$[]"](R["$[]"](4))),c(R["$[]"](1))?Z(1,"upto",[R["$[]"](1).$to_i()],function(){return C["$<<"](u.$merge())}):C["$<<"](u)):y}),C)}),N(ge,"$parse_cellspec",function(M,C,k){var H,j,X=y,R=y,u=y,r=y,l=y,b=y;if(C==null&&(C="end"),k==null&&(k=y),H=[y,""],X=H[0],R=H[1],ve(C,"start"))if(c(M["$include?"](k)))if(j=M.$partition(k),H=Te(j),u=H[0]==null?y:H[0],H[1]==null||H[1],R=H[2]==null?y:H[2],c(X=W("CellSpecStartRx").$match(u))){if(c(X["$[]"](0)["$empty?"]()))return[z([],{}),R]}else return[y,M];else return[y,M];else if(c(X=W("CellSpecEndRx").$match(M))){if(c(X["$[]"](0).$lstrip()["$empty?"]()))return[z([],{}),M.$rstrip()];R=X.$pre_match()}else return[z([],{}),M];if(r=z([],{}),c(X["$[]"](1)))switch(j=X["$[]"](1).$split("."),H=Te(j),l=H[0]==null?y:H[0],b=H[1]==null?y:H[1],l=c(l["$nil_or_empty?"]())?1:l.$to_i(),b=c(b["$nil_or_empty?"]())?1:b.$to_i(),X["$[]"](2)){case"+":ve(l,1)||r["$[]="]("colspan",l),ve(b,1)||r["$[]="]("rowspan",b);break;case"*":ve(l,1)||r["$[]="]("repeatcol",l);break}return c(X["$[]"](3))&&(j=X["$[]"](3).$split("."),H=Te(j),l=H[0]==null?y:H[0],b=H[1]==null?y:H[1],g(l["$nil_or_empty?"]())&&c(W("TableCellHorzAlignments")["$key?"](l))&&r["$[]="]("halign",W("TableCellHorzAlignments")["$[]"](l)),g(b["$nil_or_empty?"]())&&c(W("TableCellVertAlignments")["$key?"](b))&&r["$[]="]("valign",W("TableCellVertAlignments")["$[]"](b))),c(X["$[]"](4))&&c(W("TableCellStyles")["$key?"](X["$[]"](4)))&&r["$[]="]("style",W("TableCellStyles")["$[]"](X["$[]"](4))),[r,R]},-2),N(ge,"$parse_style_attribute",function(M,C){var k,H=this,j=y,X=y,R=y,u=y,r=y,l=y;return C==null&&(C=y),c(j=M["$[]"](1))&&g(j["$include?"](" "))&&c(W("Compliance").$shorthand_property_syntax())?(X=y,R="",u=z([],{}),Z(j,"each_char",[],function b(d){var f=b.$$s==null?this:b.$$s;switch(d==null&&(d=y),d){case".":return f.$yield_buffered_attribute(u,X,R,C),R="",X="role";case"#":return f.$yield_buffered_attribute(u,X,R,C),R="",X="id";case"%":return f.$yield_buffered_attribute(u,X,R,C),R="",X="option";default:return R=Pe(R,d)}},{$$s:H}),c(X)?(H.$yield_buffered_attribute(u,X,R,C),c(r=u["$[]"]("style"))&&M["$[]="]("style",r),c(u["$key?"]("id"))&&M["$[]="]("id",u["$[]"]("id")),c(u["$key?"]("role"))&&M["$[]="]("role",c((l=M["$[]"]("role"))["$nil_or_empty?"]())?u["$[]"]("role").$join(" "):""+l+" "+u["$[]"]("role").$join(" ")),c(u["$key?"]("option"))&&Z(u["$[]"]("option"),"each",[],function(d){var f;return d==null&&(d=y),f=[""+d+"-option",""],Z(M,"[]=",f),f[f.length-1]}),r):(k=["style",j],Z(M,"[]=",k),k[k.length-1])):(k=["style",j],Z(M,"[]=",k),k[k.length-1])},-2),N(ge,"$yield_buffered_attribute",function(M,C,k,H){var j,X=this,R=y;return c(C)?c(k["$empty?"]())?c(H)?X.$logger().$warn(X.$message_with_context("invalid empty "+C+" detected in style attribute",z(["source_location"],{source_location:H.$cursor_at_prev_line()}))):X.$logger().$warn("invalid empty "+C+" detected in style attribute"):ve(C,"id")?(c(M["$key?"]("id"))&&(c(H)?X.$logger().$warn(X.$message_with_context("multiple ids detected in style attribute",z(["source_location"],{source_location:H.$cursor_at_prev_line()}))):X.$logger().$warn("multiple ids detected in style attribute")),M["$[]="](C,k)):(c(R=M["$[]"](C))?R:(j=[C,[]],Z(M,"[]=",j),j[j.length-1]))["$<<"](k):c(k["$empty?"]())||M["$[]="]("style",k),y}),N(ge,"$adjust_indentation!",function(M,C,k){var H=y,j=y,X=y;return C==null&&(C=0),k==null&&(k=0),c(M["$empty?"]())||(c(Se(k,0))&&c(Z(M,"any?",[],function(u){return u==null&&(u=y),u["$include?"](W("TAB"))}))&&(H=Be(" ",k),Z(M,"map!",[],function(u){var r=y,l=y,b=y,d=y,f=y;return u==null&&(u=y),c(u["$empty?"]())||c((r=u.$index(W("TAB")))["$nil?"]())||ve(r,0)&&(l=0,function(){try{var S=Ge("break");return Z(u,"each_byte",[],function(J){return J==null&&(J=y),ve(J,9)||S.$throw(),l=Pe(l,1)})}catch(q){if(q===S)return q.$v;throw q}}(),u=""+Be(H,l)+u.$slice(l,u.$length()),!c(u["$include?"](W("TAB"))))?u:(b=0,d=0,f="",Z(u,"each_char",[],function(q){var J=y,G=y;return q==null&&(q=y),ve(q,W("TAB"))?ve((J=Pe(d,b))["$%"](k),0)?(b=Pe(b,Oe(k,1)),f=Pe(f,H)):(ve(G=Oe(k,J["$%"](k)),1)||(b=Pe(b,Oe(G,1))),f=Pe(f,Be(" ",G))):f=Pe(f,q),d=Pe(d,1)}),f)})),c(be(C,0)))||(j=y,function(){try{var R=Ge("break");return Z(M,"each",[],function(r){var l=y;return r==null&&(r=y),c(r["$empty?"]())||(ve(l=Oe(r.$length(),r.$lstrip().$length()),0)&&(j=y,R.$throw()),c(j)&&c(be(j,l)))?y:j=l})}catch(u){if(u===R)return u.$v;throw u}}(),ve(C,0)?c(j)&&Z(M,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:u.$slice(j,u.$length())}):(X=Be(" ",C),c(j)?Z(M,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:Pe(X,u.$slice(j,u.$length()))}):Z(M,"map!",[],function(u){return u==null&&(u=y),c(u["$empty?"]())?u:Pe(X,u)}))),y},-2),N(ge,"$uniform?",function(M,C,k){return M.$count(C)["$=="](k)}),N(ge,"$sanitize_attribute_name",function(M){return M.$gsub(W("InvalidAttributeNameCharsRx"),"").$downcase()})}(L[0],null,L)}(it[0],it)},Opal.modules["asciidoctor/path_resolver"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.truthy,c=t.hash2,z=t.def,Te=t.eqeq,N=t.alias,ve=t.rb_plus,g=t.to_ary,We=t.send,he=t.not,Pe=t.neqeq,be=t.rb_gt,Se=t.gvars,st=[],De=t.nil,Oe=t.$$$;return t.add_stubs("include,attr_accessor,root?,posixify,expand_path,pwd,start_with?,==,match?,absolute_path?,+,length,descends_from?,slice,to_s,relative_path_from,new,include?,tr,partition_path,each,pop,<<,join_path,[],web_root?,unc?,index,split,delete,[]=,join,raise,!,fetch,warn,logger,empty?,nil_or_empty?,chomp,!=,>,size,extract_uri_prefix,end_with?,gsub,private,=~"),function(Be,Ge){var it=Y(Be,"Asciidoctor"),y=[it].concat(Ge);return function(Xe,m,Je){var rt=U(Xe,m,"PathResolver"),L=[rt].concat(Je),A=t.$r(L),Le=rt.$$prototype;return Le.file_separator=Le._partition_path_web=Le._partition_path_sys=Le.working_dir=De,rt.$include(A("Logging")),T(L[0],"DOT","."),T(L[0],"DOT_DOT",".."),T(L[0],"DOT_SLASH","./"),T(L[0],"SLASH","/"),T(L[0],"BACKSLASH","\\"),T(L[0],"DOUBLE_SLASH","//"),T(L[0],"URI_CLASSLOADER","uri:classloader:"),T(L[0],"WindowsRootRx",/^(?:[a-zA-Z]:)?[\\\/]/),rt.$attr_accessor("file_separator"),rt.$attr_accessor("working_dir"),z(rt,"$initialize",function(ge,fe){var W=this,ee=De,M=De;return ge==null&&(ge=De),fe==null&&(fe=De),W.file_separator=Z(ee=Z(M=ge)?M:Oe(Oe("File"),"ALT_SEPARATOR"))?ee:Oe(Oe("File"),"SEPARATOR"),W.working_dir=Z(fe)?Z(W["$root?"](fe))?W.$posixify(fe):Oe("File").$expand_path(fe):Oe("Dir").$pwd(),W._partition_path_sys=c([],{}),W._partition_path_web=c([],{})},-1),z(rt,"$absolute_path?",function(ge){var fe=this,W=De,ee=De;return Z(W=ge["$start_with?"](A("SLASH")))?W:Z(ee=fe.file_separator["$=="](A("BACKSLASH")))?A("WindowsRootRx")["$match?"](ge):ee}),Te(A("RUBY_ENGINE"),"opal")&&Te(Oe("JAVASCRIPT_IO_MODULE"),"xmlhttprequest")?z(rt,"$root?",function(ge){var fe=this,W=De;return Z(W=fe["$absolute_path?"](ge))?W:ge["$start_with?"]("file://","http://","https://")}):Te(Oe("RUBY_ENGINE"),"jruby")?z(rt,"$root?",function(ge){var fe=this,W=De;return Z(W=fe["$absolute_path?"](ge))?W:ge["$start_with?"](A("URI_CLASSLOADER"))}):N(rt,"root?","absolute_path?"),z(rt,"$unc?",function(ge){return ge["$start_with?"](A("DOUBLE_SLASH"))}),z(rt,"$web_root?",function(ge){return ge["$start_with?"](A("SLASH"))}),z(rt,"$descends_from?",function(ge,fe){var W=De;return Te(fe,ge)?0:Te(fe,A("SLASH"))?Z(W=ge["$start_with?"](A("SLASH")))?1:W:Z(W=ge["$start_with?"](ve(fe,A("SLASH"))))?ve(fe.$length(),1):W}),z(rt,"$relative_path",function(ge,fe){var W=this,ee=De;if(Z(W["$root?"](ge))){if(Z(ee=W["$descends_from?"](ge,fe)))return ge.$slice(ee,ge.$length());try{return A("Pathname").$new(ge).$relative_path_from(A("Pathname").$new(fe)).$to_s()}catch(M){if(t.rescue(M,[A("StandardError")]))try{return ge}finally{t.pop_exception()}else throw M}}else return ge}),z(rt,"$posixify",function(ge){var fe=this;return Z(ge)?Te(fe.file_separator,A("BACKSLASH"))&&Z(ge["$include?"](A("BACKSLASH")))?ge.$tr(A("BACKSLASH"),A("SLASH")):ge:""}),N(rt,"posixfy","posixify"),z(rt,"$expand_path",function(ge){var fe,W,ee=this,M=De,C=De,k=De;return W=ee.$partition_path(ge),fe=g(W),M=fe[0]==null?De:fe[0],C=fe[1]==null?De:fe[1],Z(ge["$include?"](A("DOT_DOT")))?(k=[],We(M,"each",[],function(j){return j==null&&(j=De),Te(j,A("DOT_DOT"))?k.$pop():k["$<<"](j)}),ee.$join_path(k,C)):ee.$join_path(M,C)}),z(rt,"$partition_path",function(ge,fe){var W,ee=this,M=De,C=De,k=De,H=De,j=De;return fe==null&&(fe=De),Z(M=(C=Z(fe)?ee._partition_path_web:ee._partition_path_sys)["$[]"](ge))?M:(k=ee.$posixify(ge),Z(fe)?Z(ee["$web_root?"](k))?H=A("SLASH"):Z(k["$start_with?"](A("DOT_SLASH")))&&(H=A("DOT_SLASH")):Z(ee["$root?"](k))?Z(ee["$unc?"](k))?H=A("DOUBLE_SLASH"):Z(k["$start_with?"](A("SLASH")))?H=A("SLASH"):Z(k["$start_with?"](A("URI_CLASSLOADER")))?H=k.$slice(0,A("URI_CLASSLOADER").$length()):H=k.$slice(0,ve(k.$index(A("SLASH")),1)):Z(k["$start_with?"](A("DOT_SLASH")))&&(H=A("DOT_SLASH")),j=(Z(H)?k.$slice(H.$length(),k.$length()):k).$split(A("SLASH")),j.$delete(A("DOT")),W=[ge,[j,H]],We(C,"[]=",W),W[W.length-1])},-2),z(rt,"$join_path",function(ge,fe){return fe==null&&(fe=De),Z(fe)?""+fe+ge.$join(A("SLASH")):ge.$join(A("SLASH"))},-2),z(rt,"$system_path",function(ge,fe,W,ee){var M,C,k=this,H=De,j=De,X=De,R=De,u=De,r=De,l=De,b=De,d=De,f=De,S=De;if(fe==null&&(fe=De),W==null&&(W=De),ee==null&&(ee=c([],{})),Z(W)&&(Z(k["$root?"](W))||k.$raise(Oe("SecurityError"),"Jail is not an absolute path: "+W),W=k.$posixify(W)),Z(ge))if(Z(k["$root?"](ge))){if(H=k.$expand_path(ge),Z(W)&&he(k["$descends_from?"](H,W))){if(Z(ee.$fetch("recover",!0)))return k.$logger().$warn(""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" is outside of jail; recovering automatically"),C=k.$partition_path(H),M=g(C),X=M[0]==null?De:M[0],C=k.$partition_path(W),M=g(C),R=M[0]==null?De:M[0],u=M[1]==null?De:M[1],k.$join_path(ve(R,X),u);k.$raise(Oe("SecurityError"),""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" "+ge+" is outside of jail: "+W+" (disallowed in safe mode)")}return H}else C=k.$partition_path(ge),M=g(C),X=M[0]==null?De:M[0];else X=[];if(Z(X["$empty?"]())){if(Z(fe["$nil_or_empty?"]()))return Z(j=W)?j:k.working_dir;if(Z(k["$root?"](fe)))if(Z(W))fe=k.$posixify(fe);else return k.$expand_path(fe);else C=k.$partition_path(fe),M=g(C),X=M[0]==null?De:M[0],fe=Z(j=W)?j:k.working_dir}else Z(fe["$nil_or_empty?"]())?fe=Z(j=W)?j:k.working_dir:Z(k["$root?"](fe))?Z(W)&&(fe=k.$posixify(fe)):fe=""+(Z(j=W)?j:k.working_dir).$chomp("/")+"/"+fe;return Z(W)&&Z(r=k["$descends_from?"](fe,W)["$!"]())&&Te(k.file_separator,A("BACKSLASH"))?(C=k.$partition_path(fe),M=g(C),l=M[0]==null?De:M[0],b=M[1]==null?De:M[1],C=k.$partition_path(W),M=g(C),R=M[0]==null?De:M[0],u=M[1]==null?De:M[1],Pe(b,u)&&(Z(ee.$fetch("recover",!0))?(k.$logger().$warn("start path for "+(Z(j=ee["$[]"]("target_name"))?j:"path")+" is outside of jail root; recovering automatically"),l=R,r=!1):k.$raise(Oe("SecurityError"),"start path for "+(Z(j=ee["$[]"]("target_name"))?j:"path")+" "+fe+" refers to location outside jail root: "+W+" (disallowed in safe mode)"))):(C=k.$partition_path(fe),M=g(C),l=M[0]==null?De:M[0],u=M[1]==null?De:M[1]),Z((d=ve(l,X))["$include?"](A("DOT_DOT")))&&(M=[d,[]],f=M[0],d=M[1],Z(W)?(Z(R)||(C=k.$partition_path(W),M=g(C),R=M[0]==null?De:M[0]),S=!1,We(f,"each",[],function q(J){var G=q.$$s==null?this:q.$$s;return J==null&&(J=De),Te(J,A("DOT_DOT"))?Z(be(d.$size(),R.$size()))?d.$pop():Z(ee.$fetch("recover",!0))?Z(S)?De:(G.$logger().$warn(""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" has illegal reference to ancestor of jail; recovering automatically"),S=!0):G.$raise(Oe("SecurityError"),""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" "+ge+" refers to location outside jail: "+W+" (disallowed in safe mode)"):d["$<<"](J)},{$$s:k})):We(f,"each",[],function(J){return J==null&&(J=De),Te(J,A("DOT_DOT"))?d.$pop():d["$<<"](J)})),Z(r)?(H=k.$join_path(d,u),Z(k["$descends_from?"](H,W))?H:Z(ee.$fetch("recover",!0))?(k.$logger().$warn(""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" is outside of jail; recovering automatically"),Z(R)||(C=k.$partition_path(W),M=g(C),R=M[0]==null?De:M[0]),k.$join_path(ve(R,X),u)):k.$raise(Oe("SecurityError"),""+(Z(j=ee["$[]"]("target_name"))?j:"path")+" "+ge+" is outside of jail: "+W+" (disallowed in safe mode)")):k.$join_path(d,u)},-2),z(rt,"$web_path",function(ge,fe){var W,ee,M=this,C=De,k=De,H=De,j=De,X=De;return fe==null&&(fe=De),ge=M.$posixify(ge),fe=M.$posixify(fe),Z(fe["$nil_or_empty?"]())||Z(M["$web_root?"](ge))||(ee=M.$extract_uri_prefix(""+fe+(Z(fe["$end_with?"](A("SLASH")))?"":A("SLASH"))+ge),W=g(ee),ge=W[0]==null?De:W[0],C=W[1]==null?De:W[1]),ee=M.$partition_path(ge,!0),W=g(ee),k=W[0]==null?De:W[0],H=W[1]==null?De:W[1],j=[],We(k,"each",[],function(u){return u==null&&(u=De),Te(u,A("DOT_DOT"))?Z(j["$empty?"]())?Z(H)&&Pe(H,A("DOT_SLASH"))?De:j["$<<"](u):Te(j["$[]"](-1),A("DOT_DOT"))?j["$<<"](u):j.$pop():j["$<<"](u)}),Z((X=M.$join_path(j,H))["$include?"](" "))&&(X=X.$gsub(" ","%20")),Z(C)?""+C+X:X},-2),rt.$private(),z(rt,"$extract_uri_prefix",function(ge){var fe;return Z(ge["$include?"](":"))&&Z(A("UriSniffRx")["$=~"](ge))?[ge.$slice(((fe=Se["~"])===De?De:fe["$[]"](0)).$length(),ge.$length()),(fe=Se["~"])===De?De:fe["$[]"](0)]:ge})}(y[0],null,y)}(st[0],st)},Opal.modules["asciidoctor/reader"]=function(t){var Y=t.module,U=t.klass,T=t.def,Z=t.rb_plus,c=t.alias,z=t.hash2,Te=t.not,N=t.eqeqeq,ve=t.to_ary,g=t.truthy,We=t.rb_gt,he=t.send,Pe=t.rb_minus,be=t.thrower,Se=t.eqeq,st=t.rb_times,De=t.neqeq,Oe=t.to_a,Be=t.assign_ivar_val,Ge=t.send2,it=t.find_super,y=t.rb_ge,Xe=t.gvars,m=t.rb_lt,Je=t.hash,rt=[],L=t.nil,A=t.$$$;return t.add_stubs("include,attr_reader,+,line_info,attr_accessor,!,===,split,file,dir,dirname,path,basename,lineno,reverse,prepare_lines,empty?,nil_or_empty?,peek_line,[],>,slice,length,process_line,times,shift,read_line,<<,-,unshift_all,has_more_lines?,read_lines,join,unshift,unshift_line,unshift_lines,replace_next_line,start_with?,==,*,read_lines_until,size,clear,cursor,[]=,fetch,!=,cursor_at_mark,warn,logger,message_with_context,pop,push,respond_to?,reverse_each,new,tap,each,instance_variables,instance_variable_get,drop,instance_variable_set,class,object_id,inspect,private,prepare_source_array,prepare_source_string,chomp,valid_encoding?,to_s,raise,to_i,attributes,catalog,pop_include,parse,path=,dup,end_with?,keys,rindex,rootname,key?,attr,reverse!,>=,exceeds_max_depth?,nil?,include_processors?,extensions,extensions?,include_processors,map,skip_front_matter!,adjust_indentation!,include?,=~,preprocess_conditional_directive,preprocess_include_directive,downcase,error,none?,any?,all?,strip,send,resolve_expr_val,rstrip,sub_attributes,attribute_missing,info,parse_attributes,find,handles?,instance,process_method,safe,resolve_include_path,method,split_delimited_value,partition,<,to_a,uniq,sort,call,each_line,infinite?,push_include,delete,first,values,value?,create_include_cursor,delete_at,keep_if,read,uriish?,attr?,require_library,normalize_system_path,file?,relative_path,path_resolver,base_dir,to_f"),function(Le,se){var ge=Y(Le,"Asciidoctor"),fe=[ge].concat(se),W=t.$r(fe);return function(ee,M,C){var k=U(ee,M,"Reader"),H=[k].concat(C),j=t.$r(H),X=k.$$prototype;return X.file=X.lines=X.look_ahead=X.unescape_next_line=X.lineno=X.process_lines=X.dir=X.path=X.mark=X.source_lines=X.saved=L,k.$include(j("Logging")),function(R,u){var r=U(R,u,"Cursor"),l=r.$$prototype;return l.lineno=l.path=L,r.$attr_reader("file","dir","path","lineno"),T(r,"$initialize",function(d,f,S,q){var J,G=this;return f==null&&(f=L),S==null&&(S=L),q==null&&(q=1),J=[d,f,S,q],G.file=J[0],G.dir=J[1],G.path=J[2],G.lineno=J[3],J},-2),T(r,"$advance",function(d){var f=this;return f.lineno=Z(f.lineno,d)}),T(r,"$line_info",function(){var d=this;return""+d.path+": line "+d.lineno}),c(r,"to_s","line_info")}(H[0],null),k.$attr_reader("file"),k.$attr_reader("dir"),k.$attr_reader("path"),k.$attr_reader("lineno"),k.$attr_reader("source_lines"),k.$attr_accessor("process_lines"),k.$attr_accessor("unterminated"),T(k,"$initialize",function(u,r,l){var b,d,f=this,S=L;return u==null&&(u=L),r==null&&(r=L),l==null&&(l=z([],{})),Te(r)?(f.file=L,f.dir=".",f.path="<stdin>",f.lineno=1):N(A("String"),r)?(f.file=r,d=A("File").$split(f.file),b=ve(d),f.dir=b[0]==null?L:b[0],f.path=b[1]==null?L:b[1],f.lineno=1):(g(f.file=r.$file())?(f.dir=g(S=r.$dir())?S:A("File").$dirname(f.file),f.path=g(S=r.$path())?S:A("File").$basename(f.file)):(f.dir=g(S=r.$dir())?S:".",f.path=g(S=r.$path())?S:"<stdin>"),f.lineno=g(S=r.$lineno())?S:1),f.lines=(f.source_lines=f.$prepare_lines(u,l)).$reverse(),f.mark=L,f.look_ahead=0,f.process_lines=!0,f.unescape_next_line=!1,f.unterminated=L,f.saved=L},-1),T(k,"$has_more_lines?",function(){var u=this;return g(u.lines["$empty?"]())?(u.look_ahead=0,!1):!0}),T(k,"$empty?",function(){var u=this;return g(u.lines["$empty?"]())?(u.look_ahead=0,!0):!1}),c(k,"eof?","empty?"),T(k,"$next_line_empty?",function(){var u=this;return u.$peek_line()["$nil_or_empty?"]()}),T(k,"$peek_line",function(u){var r=this,l=L,b=L;for(u==null&&(u=!1);g(!0);){if(l=r.lines["$[]"](-1),g(u)||g(We(r.look_ahead,0)))return g(r.unescape_next_line)?l.$slice(1,l.$length()):l;if(g(l)){if(g(b=r.$process_line(l)))return b}else return r.look_ahead=0,L}},-1),T(k,"$peek_lines",function(u,r){var l=this,b=L,d=L,f=L;return u==null&&(u=L),r==null&&(r=!1),b=l.look_ahead,d=[],function(){try{var S=be("break");return he(g(f=u)?f:j("MAX_INT"),"times",[],function q(){var J=q.$$s==null?this:q.$$s,G=L;if(J.lineno==null&&(J.lineno=L),g(G=g(r)?J.$shift():J.$read_line()))return d["$<<"](G);g(r)&&(J.lineno=Pe(J.lineno,1)),S.$throw()},{$$s:l})}catch(q){if(q===S)return q.$v;throw q}}(),g(d["$empty?"]())||(l.$unshift_all(d),g(r)&&(l.look_ahead=b)),d},-1),T(k,"$read_line",function(){var u=this;return g(We(u.look_ahead,0))||g(u["$has_more_lines?"]())?u.$shift():L}),T(k,"$read_lines",function(){var u=this,r=L;for(r=[];g(u["$has_more_lines?"]());)r["$<<"](u.$shift());return r}),c(k,"readlines","read_lines"),T(k,"$read",function(){var u=this;return u.$read_lines().$join(j("LF"))}),T(k,"$advance",function(){var u=this;return!!g(u.$shift())}),T(k,"$unshift_line",function(u){var r=this;return r.$unshift(u),L}),c(k,"restore_line","unshift_line"),T(k,"$unshift_lines",function(u){var r=this;return r.$unshift_all(u)}),c(k,"restore_lines","unshift_lines"),T(k,"$replace_next_line",function(u){var r=this;return r.$shift(),r.$unshift(u),!0}),c(k,"replace_line","replace_next_line"),T(k,"$skip_blank_lines",function(){var u=this,r=L,l=L;if(g(u["$empty?"]()))return L;for(r=0;g(l=u.$peek_line());)if(g(l["$empty?"]()))u.$shift(),r=Z(r,1);else return r}),T(k,"$skip_comment_lines",function(){var u=this,r=L,l=L,b=L;if(g(u["$empty?"]()))return L;for(;g(g(r=l=u.$peek_line())?l["$empty?"]()["$!"]():r)&&g(l["$start_with?"]("//"));)if(g(l["$start_with?"]("///")))if(g(We(b=l.$length(),3))&&Se(l,st("/",b)))u.$read_lines_until(z(["terminator","skip_first_line","read_last_line","skip_processing","context"],{terminator:l,skip_first_line:!0,read_last_line:!0,skip_processing:!0,context:"comment"}));else break;else u.$shift();return L}),T(k,"$skip_line_comments",function(){var u=this,r=L,l=L,b=L;if(g(u["$empty?"]()))return[];for(r=[];g(g(l=b=u.$peek_line())?b["$empty?"]()["$!"]():l)&&g(b["$start_with?"]("//"));)r["$<<"](u.$shift());return r}),T(k,"$terminate",function(){var u=this;return u.lineno=Z(u.lineno,u.lines.$size()),u.lines.$clear(),u.look_ahead=0,L}),T(k,"$read_lines_until",function R(u){var r,l=R.$$p||L,b=this,d=L,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L,$t=L,et=L,at=L,ct=L,ft=L,ut=L;for(R.$$p=null,u==null&&(u=z([],{})),d=[],g(b.process_lines)&&g(u["$[]"]("skip_processing"))&&(b.process_lines=!1,f=!0),g(S=u["$[]"]("terminator"))?(q=g(J=u["$[]"]("cursor"))?J:b.$cursor(),G=!1,$e=!1):(G=u["$[]"]("break_on_blank_lines"),$e=u["$[]"]("break_on_list_continuation")),ke=u["$[]"]("skip_line_comments"),He=Ze=L,g(u["$[]"]("skip_first_line"))&&b.$shift();g($t=b.$read_line());){if(g(g(S)?$t["$=="](S):g(J=g(et=g(at=G)?$t["$empty?"]():at)?et:g(at=g(ct=g(ft=$e)?He:ft)?$t["$=="](j("LIST_CONTINUATION")):ct)?(r=["preserve_last_line",!0],he(u,"[]=",r),r[r.length-1]):at)?J:g(et=l!==L)?t.yield1(l,$t):et)){g(u["$[]"]("read_last_line"))&&d["$<<"]($t),g(u["$[]"]("preserve_last_line"))&&(b.$unshift($t),Ze=!0);break}g(ke)&&g($t["$start_with?"]("//"))&&Te($t["$start_with?"]("///"))||(d["$<<"]($t),He=!0)}return g(f)&&(b.process_lines=!0,g(Ze)&&Te(S)&&(b.look_ahead=Pe(b.look_ahead,1))),g(S)&&De(S,$t)&&g(ut=u.$fetch("context",S))&&(Se(q,"at_mark")&&(q=b.$cursor_at_mark()),b.$logger().$warn(b.$message_with_context("unterminated "+ut+" block",z(["source_location"],{source_location:q}))),b.unterminated=!0),d},-1),T(k,"$shift",function(){var u=this;return u.lineno=Z(u.lineno,1),Se(u.look_ahead,0)||(u.look_ahead=Pe(u.look_ahead,1)),u.lines.$pop()}),T(k,"$unshift",function(u){var r=this;return r.lineno=Pe(r.lineno,1),r.look_ahead=Z(r.look_ahead,1),r.lines.$push(u),L}),Se(A("RUBY_ENGINE"),"jruby")?T(k,"$unshift_all",function(u){var r=this;return r.lineno=Pe(r.lineno,u.$size()),r.look_ahead=Z(r.look_ahead,u.$size()),g(u["$respond_to?"]("reverse"))?he(r.lines,"push",Oe(u.$reverse())):he(u,"reverse_each",[],function l(b){var d=l.$$s==null?this:l.$$s;return d.lines==null&&(d.lines=L),b==null&&(b=L),d.lines.$push(b)},{$$s:r}),L}):T(k,"$unshift_all",function(u){var r=this;return r.lineno=Pe(r.lineno,u.$size()),r.look_ahead=Z(r.look_ahead,u.$size()),he(r.lines,"push",Oe(u.$reverse())),L}),T(k,"$cursor",function(){var u=this;return j("Cursor").$new(u.file,u.dir,u.path,u.lineno)}),T(k,"$cursor_at_line",function(u){var r=this;return j("Cursor").$new(r.file,r.dir,r.path,u)}),T(k,"$cursor_at_mark",function(){var u=this;return g(u.mark)?he(j("Cursor"),"new",Oe(u.mark)):u.$cursor()}),T(k,"$cursor_before_mark",function(){var u,r,l=this,b=L,d=L,f=L,S=L;return g(l.mark)?(r=l.mark,u=ve(r),b=u[0]==null?L:u[0],d=u[1]==null?L:u[1],f=u[2]==null?L:u[2],S=u[3]==null?L:u[3],j("Cursor").$new(b,d,f,Pe(S,1))):j("Cursor").$new(l.file,l.dir,l.path,Pe(l.lineno,1))}),T(k,"$cursor_at_prev_line",function(){var u=this;return j("Cursor").$new(u.file,u.dir,u.path,Pe(u.lineno,1))}),T(k,"$mark",function(){var u=this;return u.mark=[u.file,u.dir,u.path,u.lineno]}),T(k,"$line_info",function(){var u=this;return""+u.path+": line "+u.lineno}),T(k,"$lines",function(){var u=this;return u.lines.$reverse()}),T(k,"$string",function(){var u=this;return u.lines.$reverse().$join(j("LF"))}),T(k,"$source",function(){var u=this;return u.source_lines.$join(j("LF"))}),T(k,"$save",function(){var u=this;return u.saved=he(z([],{}),"tap",[],function r(l){var b=r.$$s==null?this:r.$$s;return l==null&&(l=L),he(b.$instance_variables(),"each",[],function d(f){var S,q=d.$$s==null?this:d.$$s,J=L;return f==null&&(f=L),Se(f,"@saved")||Se(f,"@source_lines")?L:(S=[f,N(A("Array"),J=q.$instance_variable_get(f))?J.$drop(0):J],he(l,"[]=",S),S[S.length-1])},{$$s:b})},{$$s:u}),L}),T(k,"$restore_save",function(){var u=this;return g(u.saved)?(he(u.saved,"each",[],function r(l,b){var d=r.$$s==null?this:r.$$s;return l==null&&(l=L),b==null&&(b=L),d.$instance_variable_set(l,b)},{$$s:u}),u.saved=L):L}),T(k,"$discard_save",Be("saved",L)),T(k,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+"}>"}),k.$private(),T(k,"$prepare_lines",function(u,r){var l=this,b=L;r==null&&(r=z([],{}));try{return g(b=r["$[]"]("normalize"))?N(A("Array"),u)?j("Helpers").$prepare_source_array(u,b["$!="]("chomp")):j("Helpers").$prepare_source_string(u,b["$!="]("chomp")):N(A("Array"),u)?u.$drop(0):g(u)?u.$chomp().$split(j("LF"),-1):[]}catch(d){if(t.rescue(d,[j("StandardError")]))try{return g((N(A("Array"),u)?u.$join():u.$to_s())["$valid_encoding?"]())?l.$raise():l.$raise(A("ArgumentError"),"source is either binary or contains invalid Unicode data")}finally{t.pop_exception()}else throw d}},-2),T(k,"$process_line",function(u){var r=this;return g(r.process_lines)&&(r.look_ahead=Z(r.look_ahead,1)),u})}(fe[0],null,fe),function(ee,M,C){var k=U(ee,M,"PreprocessorReader"),H=[k].concat(C),j=t.$r(H),X=k.$$prototype;return X.include_stack=X.lines=X.file=X.dir=X.path=X.lineno=X.maxdepth=X.process_lines=X.includes=X.document=X.unescape_next_line=X.include_processor_extensions=X.look_ahead=X.skipping=X.conditional_stack=L,k.$attr_reader("include_stack"),T(k,"$initialize",function R(u,r,l,b){R.$$p;var d=this,f=L,S=L;return R.$$p=null,r==null&&(r=L),l==null&&(l=L),b==null&&(b=z([],{})),d.document=u,Ge(d,it(d,"initialize",R,!1,!0),"initialize",[r,l,b],null),g(We(f=(g(S=u.$attributes()["$[]"]("max-include-depth"))?S:64).$to_i(),0))?d.maxdepth=z(["abs","curr","rel"],{abs:f,curr:f,rel:f}):d.maxdepth=L,d.include_stack=[],d.includes=u.$catalog()["$[]"]("includes"),d.skipping=!1,d.conditional_stack=[],d.include_processor_extensions=L},-2),T(k,"$has_more_lines?",function(){var u=this;return!!g(u.$peek_line())}),T(k,"$empty?",function(){var u=this;return!g(u.$peek_line())}),c(k,"eof?","empty?"),T(k,"$peek_line",function R(u){var r=R.$$p||L,l=this,b=L;return R.$$p=null,u==null&&(u=!1),g(b=Ge(l,it(l,"peek_line",R,!1,!0),"peek_line",[u],r))?b:g(l.include_stack["$empty?"]())?L:(l.$pop_include(),l.$peek_line(u))},-1),T(k,"$push_include",function(u,r,l,b,d){var f=this,S=L,q=L,J=L,G=L,$e=L,ke=L;return r==null&&(r=L),l==null&&(l=L),b==null&&(b=1),d==null&&(d=z([],{})),f.include_stack["$<<"]([f.lines,f.file,f.dir,f.path,f.lineno,f.maxdepth,f.process_lines]),g(f.file=r)?(N(A("String"),r)?f.dir=A("File").$dirname(r):g(j("RUBY_ENGINE_OPAL"))?f.dir=A("URI").$parse(A("File").$dirname(r=r.$to_s())):((f.dir=r.$dup())["$path="](Se(S=A("File").$dirname(r.$path()),"/")?"":S),r=r.$to_s()),f.path=l=g(q=l)?q:A("File").$basename(r),g(f.process_lines=he(r,"end_with?",Oe(j("ASCIIDOC_EXTENSIONS").$keys())))&&(g(q=f.includes["$[]"](l.$slice(0,l.$rindex("."))))||f.includes["$[]="](l.$slice(0,l.$rindex(".")),g(d["$[]"]("partial-option"))?L:!0))):(f.dir=".",f.process_lines=!0,g(f.path=l)?g(q=f.includes["$[]"](j("Helpers").$rootname(l)))||f.includes["$[]="](j("Helpers").$rootname(l),g(d["$[]"]("partial-option"))?L:!0):f.path="<stdin>"),f.lineno=b,g(f.maxdepth)&&g(d["$key?"]("depth"))&&(g(We(J=d["$[]"]("depth").$to_i(),0))?(g(We(G=Z(f.include_stack.$size(),J),$e=f.maxdepth["$[]"]("abs")))&&(G=J=$e),f.maxdepth=z(["abs","curr","rel"],{abs:$e,curr:G,rel:J})):f.maxdepth=z(["abs","curr","rel"],{abs:f.maxdepth["$[]"]("abs"),curr:f.include_stack.$size(),rel:0})),g((f.lines=f.$prepare_lines(u,z(["normalize","condense","indent"],{normalize:g(q=f.process_lines)?q:"chomp",condense:!1,indent:d["$[]"]("indent")})))["$empty?"]())?f.$pop_include():(g(d["$key?"]("leveloffset"))?(f.lines=Z(Z([g(ke=f.document.$attr("leveloffset"))?":leveloffset: "+ke:":leveloffset!:",""],f.lines.$reverse()),["",":leveloffset: "+d["$[]"]("leveloffset")]),f.lineno=Pe(f.lineno,2)):f.lines["$reverse!"](),f.look_ahead=0),f},-2),T(k,"$include_depth",function(){var u=this;return u.include_stack.$size()}),T(k,"$exceeds_max_depth?",function(){var u=this,r=L,l=L;return g(r=g(l=u.maxdepth)?y(u.include_stack.$size(),u.maxdepth["$[]"]("curr")):l)?u.maxdepth["$[]"]("rel"):r}),c(k,"exceeded_max_depth?","exceeds_max_depth?"),T(k,"$shift",function R(){var u=R.$$p||L,r=this,l=L;return R.$$p=null,g(r.unescape_next_line)?(r.unescape_next_line=!1,(l=Ge(r,it(r,"shift",R,!1,!0),"shift",[],u)).$slice(1,l.$length())):Ge(r,it(r,"shift",R,!1,!0),"shift",[],u)}),T(k,"$include_processors?",function(){var u=this;return g(u.include_processor_extensions["$nil?"]())?g(u.document["$extensions?"]())&&g(u.document.$extensions()["$include_processors?"]())?(u.include_processor_extensions=u.document.$extensions().$include_processors())["$!"]()["$!"]():u.include_processor_extensions=!1:u.include_processor_extensions["$!="](!1)}),T(k,"$create_include_cursor",function(u,r,l){var b=L;return N(A("String"),u)?b=A("File").$dirname(u):g(j("RUBY_ENGINE_OPAL"))?b=A("File").$dirname(u=u.$to_s()):(b=Se(b=A("File").$dirname(u.$path()),"")?"/":b,u=u.$to_s()),j("Cursor").$new(u,b,r,l)}),T(k,"$to_s",function(){var u=this;return"#<"+u.$class()+"@"+u.$object_id()+" {path: "+u.path.$inspect()+", line: "+u.lineno+", include depth: "+u.include_stack.$size()+", include stack: ["+he(u.include_stack,"map",[],function(l){return l==null&&(l=L),l.$to_s()}).$join(", ")+"]}>"}),k.$private(),T(k,"$prepare_lines",function R(u,r){var l=R.$$p||L,b=this,d=L,f=L,S=L,q=L;if(R.$$p=null,r==null&&(r=z([],{})),d=Ge(b,it(b,"prepare_lines",R,!1,!0),"prepare_lines",[u,r],l),g(b.document)&&g(b.document.$attributes()["$[]"]("skip-front-matter"))&&g(f=b["$skip_front_matter!"](d))&&b.document.$attributes()["$[]="]("front-matter",f.$join(j("LF"))),g(r.$fetch("condense",!0)))for(;g(g(S=q=d["$[]"](-1))?q["$empty?"]():S);)d.$pop();return g(r["$[]"]("indent"))&&j("Parser")["$adjust_indentation!"](d,r["$[]"]("indent").$to_i(),b.document.$attr("tabsize").$to_i()),d},-2),T(k,"$process_line",function(u){var r,l=this;return g(l.process_lines)?g(u["$empty?"]())?(l.look_ahead=Z(l.look_ahead,1),u):g(u["$end_with?"]("]"))&&Te(u["$start_with?"]("["))&&g(u["$include?"]("::"))?g(u["$include?"]("if"))&&g(j("ConditionalDirectiveRx")["$=~"](u))?Se((r=Xe["~"])===L?L:r["$[]"](1),"\\")?(l.unescape_next_line=!0,l.look_ahead=Z(l.look_ahead,1),u.$slice(1,u.$length())):g(l.$preprocess_conditional_directive((r=Xe["~"])===L?L:r["$[]"](2),(r=Xe["~"])===L?L:r["$[]"](3),(r=Xe["~"])===L?L:r["$[]"](4),(r=Xe["~"])===L?L:r["$[]"](5)))?(l.$shift(),L):(l.look_ahead=Z(l.look_ahead,1),u):g(l.skipping)?(l.$shift(),L):g(u["$start_with?"]("inc","\\inc"))&&g(j("IncludeDirectiveRx")["$=~"](u))?Se((r=Xe["~"])===L?L:r["$[]"](1),"\\")?(l.unescape_next_line=!0,l.look_ahead=Z(l.look_ahead,1),u.$slice(1,u.$length())):g(l.$preprocess_include_directive((r=Xe["~"])===L?L:r["$[]"](2),(r=Xe["~"])===L?L:r["$[]"](3)))?L:(l.look_ahead=Z(l.look_ahead,1),u):(l.look_ahead=Z(l.look_ahead,1),u):g(l.skipping)?(l.$shift(),L):(l.look_ahead=Z(l.look_ahead,1),u):u}),T(k,"$preprocess_conditional_directive",function(u,r,l,b){var d,f=this,S=L,q=L,J=L,G=L,$e=L,ke=L;if(g(S=r["$empty?"]())||(r=r.$downcase()),Se(u,"endif"))return g(b)?f.$logger().$error(f.$message_with_context("malformed preprocessor directive - text not permitted: endif::"+r+"["+b+"]",z(["source_location"],{source_location:f.$cursor()}))):g(f.conditional_stack["$empty?"]())?f.$logger().$error(f.$message_with_context("unmatched preprocessor directive: endif::"+r+"[]",z(["source_location"],{source_location:f.$cursor()}))):g(S)||Se(r,(q=f.conditional_stack["$[]"](-1))["$[]"]("target"))?(f.conditional_stack.$pop(),f.skipping=g(f.conditional_stack["$empty?"]())?!1:f.conditional_stack["$[]"](-1)["$[]"]("skipping")):f.$logger().$error(f.$message_with_context("mismatched preprocessor directive: endif::"+r+"[], expected endif::"+q["$[]"]("target")+"[]",z(["source_location"],{source_location:f.$cursor()}))),!0;if(g(f.skipping))J=!1;else switch(u){case"ifdef":if(g(S))return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - missing target: ifdef::["+b+"]",z(["source_location"],{source_location:f.$cursor()}))),!0;switch(l){case",":J=he(r.$split(",",-1),"none?",[],function He(Ze){var $t=He.$$s==null?this:He.$$s;return $t.document==null&&($t.document=L),Ze==null&&(Ze=L),$t.document.$attributes()["$key?"](Ze)},{$$s:f});break;case"+":J=he(r.$split("+",-1),"any?",[],function He(Ze){var $t=He.$$s==null?this:He.$$s;return $t.document==null&&($t.document=L),Ze==null&&(Ze=L),$t.document.$attributes()["$key?"](Ze)["$!"]()},{$$s:f});break;default:J=f.document.$attributes()["$key?"](r)["$!"]()}break;case"ifndef":if(g(S))return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - missing target: ifndef::["+b+"]",z(["source_location"],{source_location:f.$cursor()}))),!0;switch(l){case",":J=he(r.$split(",",-1),"any?",[],function He(Ze){var $t=He.$$s==null?this:He.$$s;return $t.document==null&&($t.document=L),Ze==null&&(Ze=L),$t.document.$attributes()["$key?"](Ze)},{$$s:f});break;case"+":J=he(r.$split("+",-1),"all?",[],function He(Ze){var $t=He.$$s==null?this:He.$$s;return $t.document==null&&($t.document=L),Ze==null&&(Ze=L),$t.document.$attributes()["$key?"](Ze)},{$$s:f});break;default:J=f.document.$attributes()["$key?"](r)}break;case"ifeval":if(g(S))if(g(b)&&g(j("EvalExpressionRx")["$=~"](b.$strip())))G=(d=Xe["~"])===L?L:d["$[]"](1),$e=(d=Xe["~"])===L?L:d["$[]"](2),ke=(d=Xe["~"])===L?L:d["$[]"](3),J=function(){try{return!g(f.$resolve_expr_val(G).$send($e,f.$resolve_expr_val(ke)))}catch(He){if(t.rescue(He,[j("StandardError")]))try{return!0}finally{t.pop_exception()}else throw He}}();else return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - "+(g(b)?"invalid expression":"missing expression")+": ifeval::["+b+"]",z(["source_location"],{source_location:f.$cursor()}))),!0;else return f.$logger().$error(f.$message_with_context("malformed preprocessor directive - target not permitted: ifeval::"+r+"["+b+"]",z(["source_location"],{source_location:f.$cursor()}))),!0;break}return Se(u,"ifeval")||Te(b)?(g(J)&&(f.skipping=!0),f.conditional_stack["$<<"](z(["target","skip","skipping"],{target:r,skip:J,skipping:f.skipping}))):g(f.skipping)||g(J)||(f.$replace_next_line(b.$rstrip()),f.$unshift(""),g(b["$start_with?"]("include::"))&&(f.look_ahead=Pe(f.look_ahead,1))),!0}),T(k,"$preprocess_include_directive",function(u,r){var l,b,d=this,f=L,S=L,q=L,J=L,G=L,$e=L,ke=L,He=L,Ze=L,$t=L,et=L,at=L,ct=L,ft=L,ut=L,ht=L,dt=L,At=L,yt=L,It=L,St=L,wt=L,Et=L,Ct=L,zt=L,Ot=L,Yt=L;if(f=d.document,g((S=u)["$include?"](j("ATTR_REF_HEAD")))&&g((S=f.$sub_attributes(u,z(["attribute_missing"],{attribute_missing:Se(q=g(J=f.$attributes()["$[]"]("attribute-missing"))?J:j("Compliance").$attribute_missing(),"warn")?"drop-line":q})))["$empty?"]()))return Se(q,"drop-line")&&g(f.$sub_attributes(Z(u," "),z(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?(he(d.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("include dropped due to missing attribute: include::"+u+"["+r+"]",z(["source_location"],{source_location:xt.$cursor()}))},{$$s:d}),d.$shift(),!0):g(f.$parse_attributes(r,[],z(["sub_input"],{sub_input:!0}))["$[]"]("optional-option"))?(he(d.$logger(),"info",[],function Rt(){var xt=Rt.$$s==null?this:Rt.$$s;return xt.$message_with_context("optional include dropped "+(Se(q,"warn")&&g(f.$sub_attributes(Z(u," "),z(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+r+"]",z(["source_location"],{source_location:xt.$cursor()}))},{$$s:d}),d.$shift(),!0):(d.$logger().$warn(d.$message_with_context("include dropped "+(Se(q,"warn")&&g(f.$sub_attributes(Z(u," "),z(["attribute_missing","drop_line_severity"],{attribute_missing:"drop-line",drop_line_severity:"ignore"}))["$empty?"]())?"due to missing attribute":"because resolved target is blank")+": include::"+u+"["+r+"]",z(["source_location"],{source_location:d.$cursor()}))),d.$replace_next_line("Unresolved directive in "+d.path+" - include::"+u+"["+r+"]"));if(g(d["$include_processors?"]())&&g(G=he(d.include_processor_extensions,"find",[],function(xt){return xt==null&&(xt=L),xt.$instance()["$handles?"](S)})))return d.$shift(),G.$process_method()["$[]"](f,d,S,f.$parse_attributes(r,[],z(["sub_input"],{sub_input:!0}))),!0;if(g(y(f.$safe(),A(j("SafeMode"),"SECURE"))))return d.$replace_next_line("link:"+S+"[role=include]");if(g(d.maxdepth)){if(g(y(d.include_stack.$size(),d.maxdepth["$[]"]("curr"))))return d.$logger().$error(d.$message_with_context("maximum include depth of "+d.maxdepth["$[]"]("rel")+" exceeded",z(["source_location"],{source_location:d.$cursor()}))),L;switch($e=f.$parse_attributes(r,[],z(["sub_input"],{sub_input:!0})),b=d.$resolve_include_path(S,r,$e),l=ve(b),ke=l[0]==null?L:l[0],He=l[1]==null?L:l[1],Ze=l[2]==null?L:l[2],He){case"file":$t=A("File").$method("open"),et=j("FILE_READ_MODE");break;case"uri":$t=A("OpenURI").$method("open_uri"),et=j("URI_READ_MODE");break;default:return ke}if(g(j("RUBY_ENGINE_OPAL"))||g(at=$e["$[]"]("encoding"))&&g(function(){try{return A("Encoding").$find(at)}catch(Rt){if(t.rescue(Rt,[j("StandardError")]))try{return L}finally{t.pop_exception()}else throw Rt}}())&&((ct=et.$split(":"))["$[]="](1,at),et=ct.$join(":")),ft=ut=L,g(r)&&(g($e["$key?"]("lines"))?(ft=[],he(d.$split_delimited_value($e["$[]"]("lines")),"each",[],function(xt){var qt,Bt,kt=L,Dt=L;return xt==null&&(xt=L),g(xt["$include?"](".."))?(Bt=xt.$partition(".."),qt=ve(Bt),kt=qt[0]==null?L:qt[0],qt[1]==null||qt[1],Dt=qt[2]==null?L:qt[2],ft=Z(ft,g(Dt["$empty?"]())||g(m(Dt=Dt.$to_i(),0))?[kt.$to_i(),A(A("Float"),"INFINITY")]:t.Range.$new(kt.$to_i(),Dt,!1).$to_a())):ft["$<<"](xt.$to_i())}),ft=g(ft["$empty?"]())?L:ft.$sort().$uniq()):g($e["$key?"]("tag"))?g((ht=$e["$[]"]("tag"))["$empty?"]())||Se(ht,"!")||(ut=g(ht["$start_with?"]("!"))?Je(ht.$slice(1,ht.$length()),!1):Je(ht,!0)):g($e["$key?"]("tags"))&&(ut=z([],{}),he(d.$split_delimited_value($e["$[]"]("tags")),"each",[],function(xt){var qt;return xt==null&&(xt=L),g(xt["$empty?"]())||Se(xt,"!")?L:g(xt["$start_with?"]("!"))?(qt=[xt.$slice(1,xt.$length()),!1],he(ut,"[]=",qt),qt[qt.length-1]):(qt=[xt,!0],he(ut,"[]=",qt),qt[qt.length-1])}),g(ut["$empty?"]())&&(ut=L))),g(ft)){l=[[],L,0],dt=l[0],At=l[1],yt=l[2];try{he($t,"call",[ke,et],function(xt){var qt=L;return xt==null&&(xt=L),qt=L,function(){try{var Bt=be("break");return he(xt,"each_line",[],function(Dt){var Vt=L;if(Dt==null&&(Dt=L),yt=Z(yt,1),g(qt)||N(A("Float"),Vt=ft["$[]"](0))&&g(qt=Vt["$infinite?"]()))return At=g(J=At)?J:yt,dt["$<<"](Dt);if(Se(Vt,yt)&&(At=g(J=At)?J:yt,dt["$<<"](Dt),ft.$shift()),g(ft["$empty?"]()))Bt.$throw();else return L})}catch(kt){if(kt===Bt)return kt.$v;throw kt}}()})}catch(Rt){if(t.rescue(Rt,[j("StandardError")]))try{return d.$logger().$error(d.$message_with_context("include "+He+" not readable: "+ke,z(["source_location"],{source_location:d.$cursor()}))),d.$replace_next_line("Unresolved directive in "+d.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw Rt}d.$shift(),g(At)&&($e["$[]="]("partial-option",""),d.$push_include(dt,ke,Ze,At,$e))}else if(g(ut)){l=[[],L,0,[],A("Set").$new(),L],dt=l[0],At=l[1],yt=l[2],It=l[3],St=l[4],wt=l[5],g(ut["$key?"]("**"))?(Et=Ct=ut.$delete("**"),g(ut["$key?"]("*"))?zt=ut.$delete("*"):Te(Et)&&Se(ut.$values().$first(),!1)&&(zt=!0)):g(ut["$key?"]("*"))?Se(ut.$keys().$first(),"*")?Et=Ct=(zt=ut.$delete("*"))["$!"]():(Et=Ct=!1,zt=ut.$delete("*")):Et=Ct=ut["$value?"](!0)["$!"]();try{he($t,"call",[ke,et],function Rt(xt){var qt,Bt=Rt.$$s==null?this:Rt.$$s,kt=L,Dt=L;return xt==null&&(xt=L),qt=["::","[]"],kt=qt[0],Dt=qt[1],he(xt,"each_line",[],function Vt(Pt){var Mt,Xt,jt=Vt.$$s==null?this:Vt.$$s,Ut=L,ur=L,cr=L;return Pt==null&&(Pt=L),yt=Z(yt,1),g(Pt["$include?"](kt))&&g(Pt["$include?"](Dt))&&g(j("TagDirectiveRx")["$=~"](Pt))?(Ut=(Mt=Xe["~"])===L?L:Mt["$[]"](2),g((Mt=Xe["~"])===L?L:Mt["$[]"](1))?Se(Ut,wt)?(It.$pop(),Xt=g(It["$empty?"]())?[L,Ct]:It["$[]"](-1),Mt=ve(Xt),wt=Mt[0]==null?L:Mt[0],Et=Mt[1]==null?L:Mt[1],Xt):g(ut["$key?"](Ut))?(ur=jt.$create_include_cursor(ke,S,yt),g(cr=he(It,"rindex",[],function(fr){return fr==null&&(fr=L),fr["$=="](Ut)},{$$has_trailing_comma_in_args:!0}))?(Se(cr,0)?It.$shift():It.$delete_at(cr),jt.$logger().$warn(jt.$message_with_context("mismatched end tag (expected '"+wt+"' but found '"+Ut+"') at line "+yt+" of include "+He+": "+ke,z(["source_location","include_location"],{source_location:jt.$cursor(),include_location:ur})))):jt.$logger().$warn(jt.$message_with_context("unexpected end tag '"+Ut+"' at line "+yt+" of include "+He+": "+ke,z(["source_location","include_location"],{source_location:jt.$cursor(),include_location:ur})))):L:g(ut["$key?"](Ut))?(g(Et=ut["$[]"](Ut))&&St["$<<"](Ut),It["$<<"]([wt=Ut,Et,yt])):Te(zt["$nil?"]())?(Et=g(wt)&&Te(Et)?!1:zt,It["$<<"]([wt=Ut,Et,yt])):L):g(Et)?(At=g(J=At)?J:yt,dt["$<<"](Pt)):L},{$$s:Bt})},{$$s:d})}catch(Rt){if(t.rescue(Rt,[j("StandardError")]))try{return d.$logger().$error(d.$message_with_context("include "+He+" not readable: "+ke,z(["source_location"],{source_location:d.$cursor()}))),d.$replace_next_line("Unresolved directive in "+d.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw Rt}g(It["$empty?"]())||he(It,"each",[],function Rt(xt,qt,Bt){var kt=Rt.$$s==null?this:Rt.$$s;return xt==null&&(xt=L),Bt==null&&(Bt=L),kt.$logger().$warn(kt.$message_with_context("detected unclosed tag '"+xt+"' starting at line "+Bt+" of include "+He+": "+ke,z(["source_location","include_location"],{source_location:kt.$cursor(),include_location:kt.$create_include_cursor(ke,S,Bt)})))},{$$s:d}),g((Ot=Pe(he(ut,"keep_if",[],function(xt,qt){return qt==null&&(qt=L),qt}).$keys(),St.$to_a()))["$empty?"]())||d.$logger().$warn(d.$message_with_context("tag"+(g(We(Ot.$size(),1))?"s":"")+" '"+Ot.$join(", ")+"' not found in include "+He+": "+ke,z(["source_location"],{source_location:d.$cursor()}))),d.$shift(),g(At)&&(g(Ct)&&De(zt,!1)&&g(ut["$empty?"]())||$e["$[]="]("partial-option",""),d.$push_include(dt,ke,Ze,At,$e))}else{Yt=L;try{Yt=he($t,"call",[ke,et],function(xt){return xt==null&&(xt=L),xt.$read()}),d.$shift()}catch(Rt){if(t.rescue(Rt,[j("StandardError")]))try{return d.$logger().$error(d.$message_with_context("include "+He+" not readable: "+ke,z(["source_location"],{source_location:d.$cursor()}))),d.$replace_next_line("Unresolved directive in "+d.path+" - include::"+S+"["+r+"]")}finally{t.pop_exception()}else throw Rt}d.$push_include(Yt,ke,Ze,1,$e)}return!0}else return L}),T(k,"$resolve_include_path",function(u,r,l){var b,d=this,f=L,S=L,q=L;return f=d.document,g(j("Helpers")["$uriish?"](u))||g(N(A("String"),d.dir)?L:u=""+d.dir+"/"+u)?g(f["$attr?"]("allow-uri-read"))?(g(f["$attr?"]("cache-uri"))?g((b=A("::","OpenURI","skip_raise"))&&A(b,"Cache","skip_raise")?"constant":L)||j("Helpers").$require_library("open-uri/cached","open-uri-cached"):Te(j("RUBY_ENGINE_OPAL"))&&A("OpenURI"),[A("URI").$parse(u),"uri",u]):d.$replace_next_line("link:"+u+"[role=include]"):(S=f.$normalize_system_path(u,d.dir,L,z(["target_name"],{target_name:"include file"})),g(A("File")["$file?"](S))?(q=f.$path_resolver().$relative_path(S,f.$base_dir()),[S,"file",q]):g(l["$[]"]("optional-option"))?(he(d.$logger(),"info",[],function J(){var G=J.$$s==null?this:J.$$s;return G.$message_with_context("optional include dropped because include file not found: "+S,z(["source_location"],{source_location:G.$cursor()}))},{$$s:d}),d.$shift(),!0):(d.$logger().$error(d.$message_with_context("include file not found: "+S,z(["source_location"],{source_location:d.$cursor()}))),d.$replace_next_line("Unresolved directive in "+d.path+" - include::"+u+"["+r+"]")))}),T(k,"$pop_include",function(){var u,r,l=this;return g(l.include_stack["$empty?"]())||(r=l.include_stack.$pop(),u=ve(r),l.lines=u[0]==null?L:u[0],l.file=u[1]==null?L:u[1],l.dir=u[2]==null?L:u[2],l.path=u[3]==null?L:u[3],l.lineno=u[4]==null?L:u[4],l.maxdepth=u[5]==null?L:u[5],l.process_lines=u[6]==null?L:u[6],l.look_ahead=0),L}),T(k,"$split_delimited_value",function(u){return g(u["$include?"](","))?u.$split(","):u.$split(";")}),T(k,"$skip_front_matter!",function(u,r){var l=this,b=L,d=L,f=L,S=L,q=L;if(r==null&&(r=!0),!Se(b=u["$[]"](0),"---"))return L;for(d=u.$drop(0),u.$shift(),f=[],g(r)&&(l.lineno=Z(l.lineno,1));!g(g(S=q=u["$empty?"]())?S:u["$[]"](0)["$=="](b));)f["$<<"](u.$shift()),g(r)&&(l.lineno=Z(l.lineno,1));return g(q)?(he(u,"unshift",Oe(d)),g(r)&&(l.lineno=Pe(l.lineno,d.$size())),L):(u.$shift(),g(r)&&(l.lineno=Z(l.lineno,1)),f)},-2),T(k,"$resolve_expr_val",function(u){var r=this,l=L;return g(u["$start_with?"]('"'))&&g(u["$end_with?"]('"'))||g(u["$start_with?"]("'"))&&g(u["$end_with?"]("'"))?(l=!0,u=u.$slice(1,Pe(u.$length(),1))):l=!1,g(u["$include?"](j("ATTR_REF_HEAD")))&&(u=r.document.$sub_attributes(u,z(["attribute_missing"],{attribute_missing:"drop"}))),g(l)?u:g(u["$empty?"]())?L:Se(u,"true")?!0:Se(u,"false")?!1:g(u.$rstrip()["$empty?"]())?" ":g(u["$include?"]("."))?u.$to_f():u.$to_i()})}(fe[0],W("Reader"),fe)}(rt[0],rt)},Opal.modules["asciidoctor/section"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.send2,c=t.find_super,z=t.eqeqeq,Te=t.truthy,N=t.rb_plus,ve=t.def,g=t.alias,We=t.rb_gt,he=t.eqeq,Pe=t.not,be=t.send,Se=t.defs,st=[],De=t.nil;return t.add_stubs("attr_accessor,attr_reader,===,+,level,special,title,generate_id,>,==,sectnum,!,empty?,reftext,sub_placeholder,sub_quotes,compat_mode,[],attributes,context,assign_numeral,class,object_id,inspect,size,[]=,chr,length,gsub,downcase,delete,tr_s,end_with?,chop,start_with?,slice,key?,catalog,unique_id_start_index"),function(Oe,Be){var Ge=Y(Oe,"Asciidoctor"),it=[Ge].concat(Be),y=t.$r(it);return function(Xe,m,Je){var rt=U(Xe,m,"Section"),L=[rt].concat(Je),A=t.$r(L),Le=rt.$$prototype;return Le.document=Le.next_section_index=Le.parent=Le.level=Le.numeral=Le.numbered=Le.sectname=Le.title=Le.blocks=De,rt.$attr_accessor("index"),rt.$attr_accessor("sectname"),rt.$attr_accessor("special"),rt.$attr_accessor("numbered"),rt.$attr_reader("caption"),ve(rt,"$initialize",function se(ge,fe,W,ee){var M;se.$$p;var C=this,k=De;return se.$$p=null,ge==null&&(ge=De),fe==null&&(fe=De),W==null&&(W=!1),ee==null&&(ee=T([],{})),Z(C,c(C,"initialize",se,!1,!0),"initialize",[ge,"section",ee],null),z(A("Section"),ge)?(M=[Te(k=fe)?k:N(ge.$level(),1),ge.$special()],C.level=M[0],C.special=M[1]):(M=[Te(k=fe)?k:1,!1],C.level=M[0],C.special=M[1]),C.numbered=W,C.index=0},-1),g(rt,"name","title"),ve(rt,"$generate_id",function(){var ge=this;return A("Section").$generate_id(ge.$title(),ge.document)}),ve(rt,"$sections?",function(){var ge=this;return We(ge.next_section_index,0)}),ve(rt,"$sectnum",function(ge,fe){var W=this,ee=De;return ge==null&&(ge="."),fe==null&&(fe=De),fe=Te(ee=fe)?ee:he(fe,!1)?"":ge,Te(We(W.level,1))&&z(A("Section"),W.parent)?""+W.parent.$sectnum(ge,ge)+W.numeral+fe:""+W.numeral+fe},-1),ve(rt,"$xreftext",function(ge){var fe=this,W=De,ee=De,M=De,C=De;if(ge==null&&(ge=De),Te(W=fe.$reftext())&&Pe(W["$empty?"]()))return W;if(Te(ge))if(Te(fe.numbered))switch(ge){case"full":return he(ee=fe.sectname,"chapter")||he(ee,"appendix")?M=fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):M=fe.$sub_placeholder(fe.$sub_quotes(Te(fe.document.$compat_mode())?"``%s''":'"`%s`"'),fe.$title()),Te(C=fe.document.$attributes()["$[]"](""+ee+"-refsig"))?""+C+" "+fe.$sectnum(".",",")+" "+M:""+fe.$sectnum(".",",")+" "+M;case"short":return Te(C=fe.document.$attributes()["$[]"](""+fe.sectname+"-refsig"))?""+C+" "+fe.$sectnum(".",""):fe.$sectnum(".","");default:return he(ee=fe.sectname,"chapter")||he(ee,"appendix")?fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):fe.$title()}else return he(ee=fe.sectname,"chapter")||he(ee,"appendix")?fe.$sub_placeholder(fe.$sub_quotes("_%s_"),fe.$title()):fe.$title();else return fe.$title()},-1),ve(rt,"$<<",function se(ge){var fe=se.$$p||De,W=this;return se.$$p=null,he(ge.$context(),"section")&&W.$assign_numeral(ge),Z(W,c(W,"<<",se,!1,!0),"<<",[ge],fe)}),ve(rt,"$to_s",function se(){var ge=se.$$p||De,fe=this,W=De;return se.$$p=null,Te(fe.title)?(W=Te(fe.numbered)?""+fe.$sectnum()+" "+fe.title:fe.title,"#<"+fe.$class()+"@"+fe.$object_id()+" {level: "+fe.level+", title: "+W.$inspect()+", blocks: "+fe.blocks.$size()+"}>"):Z(fe,c(fe,"to_s",se,!1,!0),"to_s",[],ge)}),Se(rt,"$generate_id",function(ge,fe){var W,ee=De,M=De,C=De,k=De,H=De,j=De,X=De,R=De,u=De,r=De;if(ee=fe.$attributes(),M=Te(C=ee["$[]"]("idprefix"))?C:"_",Te(k=ee["$[]"]("idseparator"))?(he(k.$length(),1)||Pe(H=k["$empty?"]())&&Te(k=(W=["idseparator",k.$chr()],be(ee,"[]=",W),W[W.length-1])))&&(j=he(k,"-")||he(k,".")?" .-":" "+k+".-"):(W=["_"," _.-"],k=W[0],j=W[1]),X=""+M+ge.$downcase().$gsub(A("InvalidSectionIdCharsRx"),""),Te(H)?X=X.$delete(" "):(X=X.$tr_s(j,k),Te(X["$end_with?"](k))&&(X=X.$chop()),Te(M["$empty?"]())&&Te(X["$start_with?"](k))&&(X=X.$slice(1,X.$length()))),Te(fe.$catalog()["$[]"]("refs")["$key?"](X))){for(R=fe.$catalog()["$[]"]("refs"),u=A("Compliance").$unique_id_start_index();Te(R["$[]"](r=""+X+k+u));)u=N(u,1);return r}else return X})}(it[0],y("AbstractBlock"),it)}(st[0],st)},Opal.modules["asciidoctor/stylesheets"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.return_ivar,c=t.defs,z=t.def,Te=t.truthy,N=t.hash2,ve=[],g=t.nil,We=t.$$$;return t.add_stubs("join,new,rstrip,read,primary_stylesheet_data,write,primary_stylesheet_name,stylesheet_basename,for,read_stylesheet,coderay_stylesheet_data,coderay_stylesheet_name,pygments_stylesheet_data,pygments_stylesheet_name"),function(he,Pe){var be=Y(he,"Asciidoctor"),Se=[be].concat(Pe);return function(st,De,Oe){var Be=U(st,De,"Stylesheets"),Ge=[Be].concat(Oe),it=t.$r(Ge),y=Be.$$prototype;return y.primary_stylesheet_data=g,T(Ge[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),T(Ge[0],"STYLESHEETS_DIR",We("File").$join(it("DATA_DIR"),"stylesheets")),Be.__instance__=Be.$new(),c(Be,"$instance",Z("__instance__")),z(Be,"$primary_stylesheet_name",function(){return it("DEFAULT_STYLESHEET_NAME")}),z(Be,"$primary_stylesheet_data",function(){var m=this,Je=g;return m.primary_stylesheet_data=Te(Je=m.primary_stylesheet_data)?Je:We("File").$read(We("File").$join(it("STYLESHEETS_DIR"),"asciidoctor-default.css"),N(["mode"],{mode:it("FILE_READ_MODE")})).$rstrip()}),z(Be,"$embed_primary_stylesheet",function(){var m=this;return`<style>
`+m.$primary_stylesheet_data()+`
</style>`}),z(Be,"$write_primary_stylesheet",function(m){var Je=this;return m==null&&(m="."),We("File").$write(We("File").$join(m,Je.$primary_stylesheet_name()),Je.$primary_stylesheet_data(),N(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),z(Be,"$coderay_stylesheet_name",function(){return it("SyntaxHighlighter").$for("coderay").$stylesheet_basename()}),z(Be,"$coderay_stylesheet_data",function(){return it("SyntaxHighlighter").$for("coderay").$read_stylesheet()}),z(Be,"$embed_coderay_stylesheet",function(){var m=this;return`<style>
`+m.$coderay_stylesheet_data()+`
</style>`}),z(Be,"$write_coderay_stylesheet",function(m){var Je=this;return m==null&&(m="."),We("File").$write(We("File").$join(m,Je.$coderay_stylesheet_name()),Je.$coderay_stylesheet_data(),N(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1),z(Be,"$pygments_stylesheet_name",function(m){return m==null&&(m=g),it("SyntaxHighlighter").$for("pygments").$stylesheet_basename(m)},-1),z(Be,"$pygments_stylesheet_data",function(m){return m==null&&(m=g),it("SyntaxHighlighter").$for("pygments").$read_stylesheet(m)},-1),z(Be,"$embed_pygments_stylesheet",function(m){var Je=this;return m==null&&(m=g),`<style>
`+Je.$pygments_stylesheet_data(m)+`
</style>`},-1),z(Be,"$write_pygments_stylesheet",function(m,Je){var rt=this;return m==null&&(m="."),Je==null&&(Je=g),We("File").$write(We("File").$join(m,rt.$pygments_stylesheet_name(Je)),rt.$pygments_stylesheet_data(Je),N(["mode"],{mode:it("FILE_WRITE_MODE")}))},-1)}(Se[0],null,Se)}(ve[0],ve)},Opal.modules["asciidoctor/table"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.def,c=t.alias,z=t.hash2,Te=t.send2,N=t.find_super,ve=t.truthy,g=t.rb_lt,We=t.rb_gt,he=t.eqeq,Pe=t.rb_times,be=t.rb_divide,Se=t.send,st=t.rb_plus,De=t.rb_minus,Oe=t.return_val,Be=t.to_a,Ge=t.gvars,it=t.neqeq,y=t.return_ivar,Xe=t.to_ary,m=t.regexp,Je=t.not,rt=t.thrower,L=[],A=t.nil,Le=t.$$$;return t.add_stubs("attr_accessor,send,attr_reader,new,[],<,>,to_i,==,[]=,attributes,truncate,*,/,to_f,empty?,body,each,<<,size,+,assign_column_widths,warn,logger,-,update_attributes,assign_width,round,head=,map,shift,reinitialize,nil?,unshift,foot=,pop,parent,sourcemap,dup,header_row?,table,style,merge,delete,start_with?,rstrip,slice,length,advance,lstrip,strip,split,include?,readlines,catalog_inline_anchor,=~,apply_subs,attr_writer,convert,text,!=,file,lineno,include,to_set,mark,key?,nested?,document,error,message_with_context,cursor_at_prev_line,nil_or_empty?,escape,columns,match,chop,end_with?,gsub,!,push_cellspec,cell_open?,close_cell,take_cellspec,squeeze,upto,times,cursor_before_mark,rowspan,activate_rowspan,colspan,end_of_row?,close_row,private,rows,effective_column_visits"),function(se,ge){var fe=Y(se,"Asciidoctor"),W=[fe].concat(ge),ee=t.$r(W);return function(M,C,k){var H=U(M,C,"Table"),j=[H].concat(k),X=t.$r(j),R=H.$$prototype;return R.attributes=R.document=R.rows=R.has_header_option=R.columns=A,T(j[0],"DEFAULT_PRECISION",4),function(u,r){var l=U(u,r,"Rows"),b=l.$$prototype;return b.head=b.body=b.foot=A,l.$attr_accessor("head","foot","body"),Z(l,"$initialize",function(f,S,q){var J=this;return f==null&&(f=[]),S==null&&(S=[]),q==null&&(q=[]),J.head=f,J.foot=S,J.body=q},-1),c(l,"[]","send"),Z(l,"$by_section",function(){var f=this;return[["head",f.head],["body",f.body],["foot",f.foot]]}),Z(l,"$to_h",function(){var f=this;return z(["head","body","foot"],{head:f.head,body:f.body,foot:f.foot})})}(j[0],null),H.$attr_accessor("columns"),H.$attr_accessor("rows"),H.$attr_accessor("has_header_option"),H.$attr_reader("caption"),Z(H,"$initialize",function u(r,l){var b;u.$$p;var d=this,f=A,S=A,q=A;return u.$$p=null,Te(d,N(d,"initialize",u,!1,!0),"initialize",[r,"table"],null),d.rows=X("Rows").$new(),d.columns=[],d.has_header_option=!1,ve(f=l["$[]"]("width"))?(ve(We(S=f.$to_i(),100))||ve(g(S,1)))&&(he(S,0)&&(he(f,"0")||he(f,"0%"))||(S=100)):S=100,d.attributes["$[]="]("tablepcwidth",S),ve(d.document.$attributes()["$[]"]("pagewidth"))&&d.attributes["$[]="]("tableabswidth",he(q=Pe(be(S,100),d.document.$attributes()["$[]"]("pagewidth").$to_f()).$truncate(X("DEFAULT_PRECISION")),q.$to_i())?q.$to_i():q),ve(l["$[]"]("rotate-option"))?(b=["orientation","landscape"],Se(d.attributes,"[]=",b),b[b.length-1]):A}),Z(H,"$header_row?",function(){var r=this,l=A;return ve(l=r.has_header_option)&&ve(r.rows.$body()["$empty?"]())?l:A}),Z(H,"$create_columns",function(r){var l=this,b=A,d=A,f=A,S=A;return b=[],d=A,f=0,Se(r,"each",[],function q(J){var G=q.$$s==null?this:q.$$s,$e=A,ke=A;return J==null&&(J=A),$e=J["$[]"]("width"),b["$<<"](X("Column").$new(G,b.$size(),J)),ve(g($e,0))?(d=ve(ke=d)?ke:[])["$<<"](b["$[]"](-1)):f=st(f,$e)},{$$s:l}),ve(We(S=(l.columns=b).$size(),0))&&(l.attributes["$[]="]("colcount",S),ve(We(f,0))||ve(d)||(f=A),l.$assign_column_widths(f,d)),A}),Z(H,"$assign_column_widths",function(r,l){var b=this,d=A,f=A,S=A,q=A,J=A;return r==null&&(r=A),l==null&&(l=A),d=X("DEFAULT_PRECISION"),f=S=0,ve(r)?(ve(l)&&(ve(We(r,100))?(q=0,b.$logger().$warn("total column width must not exceed 100% when using autowidth columns; got "+r+"%")):(q=be(De(100,r),l.$size()).$truncate(d),he(q.$to_i(),q)&&(q=q.$to_i()),r=100),J=z(["width","autowidth-option"],{width:q,"autowidth-option":""}),Se(l,"each",[],function($e){return $e==null&&($e=A),$e.$update_attributes(J)})),Se(b.columns,"each",[],function($e){return $e==null&&($e=A),f=st(f,S=$e.$assign_width(A,r,d))})):(S=be(100,b.columns.$size()).$truncate(d),he(S.$to_i(),S)&&(S=S.$to_i()),Se(b.columns,"each",[],function($e){return $e==null&&($e=A),f=st(f,$e.$assign_width(S,A,d))})),he(f,100)||b.columns["$[]"](-1).$assign_width(st(De(100,f),S).$round(d),A,d),A},-1),Z(H,"$partition_header_footer",function(r){var l,b=this,d=A,f=A;return d=(l=["rowcount",(f=b.rows.$body()).$size()],Se(b.attributes,"[]=",l),l[l.length-1]),ve(We(d,0))&&(ve(b.has_header_option)?(b.rows["$head="]([Se(f.$shift(),"map",[],function(q){return q==null&&(q=A),q.$reinitialize(!0)})]),d=De(d,1)):ve(b.has_header_option["$nil?"]())&&(b.has_header_option=!1,f.$unshift(Se(f.$shift(),"map",[],function(q){return q==null&&(q=A),q.$reinitialize(!1)})))),ve(We(d,0))&&ve(r["$[]"]("footer-option"))&&b.rows["$foot="]([f.$pop()]),A})}(W[0],ee("AbstractBlock"),W),function(M,C){var k=U(M,C,"Column"),H=k.$$prototype;return H.attributes=A,k.$attr_accessor("style"),Z(k,"$initialize",function j(X,R,u){j.$$p;var r=this;return j.$$p=null,u==null&&(u=z([],{})),Te(r,N(r,"initialize",j,!1,!0),"initialize",[X,"table_column"],null),r.style=u["$[]"]("style"),u["$[]="]("colnumber",st(R,1)),ve(u["$[]"]("width"))||u["$[]="]("width",1),ve(u["$[]"]("halign"))||u["$[]="]("halign","left"),ve(u["$[]"]("valign"))||u["$[]="]("valign","top"),r.$update_attributes(u)},-3),c(k,"table","parent"),Z(k,"$assign_width",function(X,R,u){var r,l=this,b=A;return ve(R)&&(X=be(Pe(l.attributes["$[]"]("width").$to_f(),100),R).$truncate(u),he(X.$to_i(),X)&&(X=X.$to_i())),ve(l.$parent().$attributes()["$[]"]("tableabswidth"))&&l.attributes["$[]="]("colabswidth",he(b=Pe(be(X,100),l.$parent().$attributes()["$[]"]("tableabswidth")).$truncate(u),b.$to_i())?b.$to_i():b),r=["colpcwidth",X],Se(l.attributes,"[]=",r),r[r.length-1]}),Z(k,"$block?",Oe(!1)),Z(k,"$inline?",Oe(!1))}(ee("Table"),ee("AbstractNode")),function(M,C,k){var H=U(M,C,"Cell"),j=[H].concat(k),X=t.$r(j),R=H.$$prototype;return R.document=R.reinitialize_args=R.attributes=R.cursor=R.text=R.subs=R.style=R.inner_document=R.source_location=R.colspan=R.rowspan=A,T(j[0],"DOUBLE_LF",Pe(X("LF"),2)),H.$attr_accessor("colspan"),H.$attr_accessor("rowspan"),c(H,"column","parent"),H.$attr_reader("inner_document"),Z(H,"$initialize",function u(r,l,b,d){var f;u.$$p;var S=this,q=A,J=A,G=A,$e=A,ke=A,He=A,Ze=A,$t=A,et=A,at=A,ct=A,ft=A,ut=A;if(u.$$p=null,b==null&&(b=z([],{})),d==null&&(d=z([],{})),Te(S,N(S,"initialize",u,!1,!0),"initialize",[r,"table_cell"],null),S.cursor=S.reinitialize_args=A,ve(S.document.$sourcemap())&&(S.source_location=d["$[]"]("cursor").$dup()),ve(r)&&(ve(q=r.$table()["$header_row?"]())?he(q,"implicit")&&ve(J=ve(G=r.$style())?G:ve($e=b)?b["$[]"]("style"):$e)&&((he(J,"asciidoc")||he(J,"literal"))&&(S.reinitialize_args=[r,l,ve(G=b)?b.$merge():G,d]),J=A):J=r.$style(),S.$update_attributes(r.$attributes())),ve(b))switch(ve(b["$empty?"]())?S.colspan=S.rowspan=A:(f=[b.$delete("colspan"),b.$delete("rowspan")],S.colspan=f[0],S.rowspan=f[1],ve(q)||(J=ve(G=b["$[]"]("style"))?G:J),S.$update_attributes(b)),J){case"asciidoc":if(ke=!0,He=d["$[]"]("cursor"),ve((l=l.$rstrip())["$start_with?"](X("LF")))){for(Ze=1;ve((l=l.$slice(1,l.$length()))["$start_with?"](X("LF")));)Ze=st(Ze,1);He.$advance(Ze)}else l=l.$lstrip();break;case"literal":for($t=!0,l=l.$rstrip();ve(l["$start_with?"](X("LF")));)l=l.$slice(1,l.$length());break;default:et=!0,l=ve(l)?l.$strip():""}else S.colspan=S.rowspan=A,he(J,"asciidoc")&&(ke=!0,He=d["$[]"]("cursor"));return ve(ke)?(at=S.document.$attributes().$delete("doctitle"),ct=l.$split(X("LF"),-1),ve(ct["$empty?"]())||ve((ft=ct["$[]"](0))["$include?"]("::"))&&(ut=X("PreprocessorReader").$new(S.document,[ft]).$readlines(),he(ft,ut["$[]"](0))&&ve(g(ut.$size(),2))||(ct.$shift(),ve(ut["$empty?"]())||Se(ct,"unshift",Be(ut)))),S.inner_document=X("Document").$new(ct,z(["standalone","parent","cursor"],{standalone:!1,parent:S.document,cursor:He})),ve(at["$nil?"]())||S.document.$attributes()["$[]="]("doctitle",at),S.subs=A):ve($t)?(S.content_model="verbatim",S.subs=X("BASIC_SUBS")):(ve(et)&&(ve(q)?S.cursor=d["$[]"]("cursor"):S.$catalog_inline_anchor(l,d["$[]"]("cursor"))),S.content_model="simple",S.subs=X("NORMAL_SUBS")),S.text=l,S.style=J},-3),Z(H,"$reinitialize",function(r){var l=this;if(ve(r))l.reinitialize_args=A;else{if(ve(l.reinitialize_args))return Se(Le(X("Table"),"Cell"),"new",Be(l.reinitialize_args));l.style=l.attributes["$[]"]("style")}return ve(l.cursor)&&l.$catalog_inline_anchor(),l}),Z(H,"$catalog_inline_anchor",function(r,l){var b,d=this;return r==null&&(r=d.text),l==null&&(l=A),ve(l)||(b=[d.cursor,A],l=b[0],d.cursor=b[1]),ve(r["$start_with?"]("[["))&&ve(X("LeadingInlineAnchorRx")["$=~"](r))?X("Parser").$catalog_inline_anchor((b=Ge["~"])===A?A:b["$[]"](1),(b=Ge["~"])===A?A:b["$[]"](2),d,l,d.document):A},-1),Z(H,"$text",function(){var r=this;return r.$apply_subs(r.text,r.subs)}),H.$attr_writer("text"),Z(H,"$content",function(){var r=this,l=A,b=A;return he(l=r.style,"asciidoc")?r.inner_document.$convert():ve(r.text["$include?"](X("DOUBLE_LF")))?Se(r.$text().$split(X("BlankLineRx")),"map",[],function d(f){var S=d.$$s==null?this:d.$$s;return f==null&&(f=A),ve(l)&&it(l,"header")?X("Inline").$new(S.$parent(),"quoted",f,z(["type"],{type:l})).$convert():f},{$$s:r}):ve((b=r.$text())["$empty?"]())?[]:ve(l)&&it(l,"header")?[X("Inline").$new(r.$parent(),"quoted",b,z(["type"],{type:l})).$convert()]:[b]}),Z(H,"$lines",function(){var r=this;return r.text.$split(X("LF"))}),Z(H,"$source",y("text")),Z(H,"$file",function(){var r=this,l=A;return ve(l=r.source_location)?r.source_location.$file():l}),Z(H,"$lineno",function(){var r=this,l=A;return ve(l=r.source_location)?r.source_location.$lineno():l}),Z(H,"$to_s",function u(){var r=u.$$p||A,l=this,b=A;return u.$$p=null,""+Te(l,N(l,"to_s",u,!1,!0),"to_s",[],r)+" - [text: "+l.text+", colspan: "+(ve(b=l.colspan)?b:1)+", rowspan: "+(ve(b=l.rowspan)?b:1)+", attributes: "+l.attributes+"]"})}(ee("Table"),ee("AbstractBlock"),W),function(M,C,k){var H=U(M,C,"ParserContext"),j=[H].concat(k),X=t.$r(j),R=H.$$prototype;return R.delimiter=R.delimiter_rx=R.buffer=R.cellspecs=R.cell_open=R.format=R.start_cursor_data=R.reader=R.table=R.current_row=R.colcount=R.column_visits=R.active_rowspans=R.linenum=A,H.$include(X("Logging")),T(j[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set()),T(j[0],"DELIMITERS",z(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],csv:[",",/,/],dsv:[":",/:/],tsv:["	",/\t/],"!sv":["!",/!/]})),H.$attr_accessor("table"),H.$attr_accessor("format"),H.$attr_reader("colcount"),H.$attr_accessor("buffer"),H.$attr_reader("delimiter"),H.$attr_reader("delimiter_re"),Z(H,"$initialize",function(r,l,b){var d,f,S=this,q=A,J=A;return b==null&&(b=z([],{})),S.start_cursor_data=(S.reader=r).$mark(),S.table=l,ve(b["$key?"]("format"))?ve(X("FORMATS")["$include?"](q=b["$[]"]("format")))?he(q,"tsv")?S.format="csv":he(S.format=q,"psv")&&ve(l.$document()["$nested?"]())&&(q="!sv"):(S.$logger().$error(S.$message_with_context("illegal table format: "+q,z(["source_location"],{source_location:r.$cursor_at_prev_line()}))),d=["psv",ve(l.$document()["$nested?"]())?"!sv":"psv"],S.format=d[0],q=d[1]):(d=["psv",ve(l.$document()["$nested?"]())?"!sv":"psv"],S.format=d[0],q=d[1]),ve(b["$key?"]("separator"))?ve((J=b["$[]"]("separator"))["$nil_or_empty?"]())?(f=X("DELIMITERS")["$[]"](q),d=Xe(f),S.delimiter=d[0]==null?A:d[0],S.delimiter_rx=d[1]==null?A:d[1]):he(J,"\\t")?(f=X("DELIMITERS")["$[]"]("tsv"),d=Xe(f),S.delimiter=d[0]==null?A:d[0],S.delimiter_rx=d[1]==null?A:d[1]):(d=[J,m([Le("Regexp").$escape(J)])],S.delimiter=d[0],S.delimiter_rx=d[1]):(f=X("DELIMITERS")["$[]"](q),d=Xe(f),S.delimiter=d[0]==null?A:d[0],S.delimiter_rx=d[1]==null?A:d[1]),S.colcount=ve(l.$columns()["$empty?"]())?-1:l.$columns().$size(),S.buffer="",S.cellspecs=[],S.cell_open=!1,S.active_rowspans=[0],S.column_visits=0,S.current_row=[],S.linenum=-1},-3),Z(H,"$starts_with_delimiter?",function(r){var l=this;return r["$start_with?"](l.delimiter)}),Z(H,"$match_delimiter",function(r){var l=this;return l.delimiter_rx.$match(r)}),Z(H,"$skip_past_delimiter",function(r){var l=this;return l.buffer=""+l.buffer+r+l.delimiter,A}),Z(H,"$skip_past_escaped_delimiter",function(r){var l=this;return l.buffer=""+l.buffer+r.$chop()+l.delimiter,A}),Z(H,"$buffer_has_unclosed_quotes?",function(r,l){var b=this,d=A,f=A,S=A,q=A;return r==null&&(r=A),l==null&&(l='"'),he(d=ve(r)?st(b.buffer,r).$strip():b.buffer.$strip(),l)?!0:ve(d["$start_with?"](l))?(f=st(l,l),ve(S=d["$end_with?"](l))&&ve(d["$end_with?"](f))||ve(d["$start_with?"](f))?ve(q=(d=d.$gsub(f,""))["$start_with?"](l))?d["$end_with?"](l)["$!"]():q:S["$!"]()):!1},-1),Z(H,"$take_cellspec",function(){var r=this;return r.cellspecs.$shift()}),Z(H,"$push_cellspec",function(r){var l=this,b=A;return r==null&&(r=z([],{})),l.cellspecs["$<<"](ve(b=r)?b:z([],{})),A},-1),Z(H,"$keep_cell_open",function(){var r=this;return r.cell_open=!0,A}),Z(H,"$mark_cell_closed",function(){var r=this;return r.cell_open=!1,A}),Z(H,"$cell_open?",y("cell_open")),Z(H,"$cell_closed?",function(){var r=this;return r.cell_open["$!"]()}),Z(H,"$close_open_cell",function(r){var l=this;return r==null&&(r=z([],{})),l.$push_cellspec(r),ve(l["$cell_open?"]())&&l.$close_cell(!0),l.$advance(),A},-1),Z(H,"$close_cell",function(r){try{var l=rt("return"),b=this,d=A,f=A,S=A,q=A,J=A;return r==null&&(r=!1),he(b.format,"psv")?(d=b.buffer,b.buffer="",ve(f=b.$take_cellspec())?S=ve(q=f.$delete("repeatcol"))?q:1:(b.$logger().$error(b.$message_with_context("table missing leading separator; recovering automatically",z(["source_location"],{source_location:Se(Le(X("Reader"),"Cursor"),"new",Be(b.start_cursor_data))}))),f=z([],{}),S=1)):(d=b.buffer.$strip(),b.buffer="",f=A,S=1,he(b.format,"csv")&&Je(d["$empty?"]())&&ve(d["$include?"](J='"'))&&(ve(d["$start_with?"](J))&&ve(d["$end_with?"](J))?ve(d=d.$slice(1,De(d.$length(),2)))?d=d.$strip().$squeeze(J):(b.$logger().$error(b.$message_with_context("unclosed quote in CSV data; setting cell to empty",z(["source_location"],{source_location:b.reader.$cursor_at_prev_line()}))),d=""):d=d.$squeeze(J))),Se(1,"upto",[S],function G($e){var ke=G.$$s==null?this:G.$$s,He=A,Ze=A,$t=A,et=A;return ke.colcount==null&&(ke.colcount=A),ke.table==null&&(ke.table=A),ke.current_row==null&&(ke.current_row=A),ke.reader==null&&(ke.reader=A),ke.column_visits==null&&(ke.column_visits=A),ke.linenum==null&&(ke.linenum=A),$e==null&&($e=A),he(ke.colcount,-1)?(ke.table.$columns()["$<<"](He=Le(X("Table"),"Column").$new(ke.table,De(st(ke.table.$columns().$size(),$e),1))),ve(f)&&ve(f["$key?"]("colspan"))&&ve(We(Ze=De(f["$[]"]("colspan").$to_i(),1),0))&&($t=ke.table.$columns().$size(),Se(Ze,"times",[],function at(ct){var ft=at.$$s==null?this:at.$$s;return ft.table==null&&(ft.table=A),ct==null&&(ct=A),ft.table.$columns()["$<<"](Le(X("Table"),"Column").$new(ft.table,st($t,ct)))},{$$s:ke}))):ve(He=ke.table.$columns()["$[]"](ke.current_row.$size()))||(ke.$logger().$error(ke.$message_with_context("dropping cell because it exceeds specified number of columns",z(["source_location"],{source_location:ke.reader.$cursor_before_mark()}))),l.$throw()),et=Le(X("Table"),"Cell").$new(He,d,f,z(["cursor"],{cursor:ke.reader.$cursor_before_mark()})),ke.reader.$mark(),Je(et.$rowspan())||he(et.$rowspan(),1)||ke.$activate_rowspan(et.$rowspan(),ve(q=et.$colspan())?q:1),ke.column_visits=st(ke.column_visits,ve(q=et.$colspan())?q:1),ke.current_row["$<<"](et),ve(ke["$end_of_row?"]())&&(it(ke.colcount,-1)||ve(We(ke.linenum,0))||ve(r)&&he($e,S))?ke.$close_row():A},{$$s:b,$$ret:l}),b.cell_open=!1,A}catch(G){if(G===l)return G.$v;throw G}},-1),H.$private(),Z(H,"$close_row",function(){var r=this;return r.table.$rows().$body()["$<<"](r.current_row),he(r.colcount,-1)&&(r.colcount=r.column_visits),r.column_visits=0,r.current_row=[],r.active_rowspans.$shift(),ve(r.active_rowspans["$[]"](0))||r.active_rowspans["$[]="](0,0),A}),Z(H,"$activate_rowspan",function(r,l){var b=this;return Se(1,"upto",[De(r,1)],function d(f){var S,q=d.$$s==null?this:d.$$s,J=A;return q.active_rowspans==null&&(q.active_rowspans=A),f==null&&(f=A),S=[f,st(ve(J=q.active_rowspans["$[]"](f))?J:0,l)],Se(q.active_rowspans,"[]=",S),S[S.length-1]},{$$s:b}),A}),Z(H,"$end_of_row?",function(){var r=this,l=A;return ve(l=r.colcount["$=="](-1))?l:r.$effective_column_visits()["$=="](r.colcount)}),Z(H,"$effective_column_visits",function(){var r=this;return st(r.column_visits,r.active_rowspans["$[]"](0))}),Z(H,"$advance",function(){var r=this;return r.linenum=st(r.linenum,1)})}(ee("Table"),null,W)}(L[0],L)},Opal.modules["asciidoctor/writer"]=function(t){var Y=t.module,U=t.truthy,T=t.rb_plus,Z=t.hash2,c=t.def,z=t.return_val,Te=[],N=t.nil,ve=t.$$$;return t.add_stubs("respond_to?,write,+,chomp,include"),function(g,We){var he=Y(g,"Asciidoctor"),Pe=[he].concat(We);return function(be,Se){var st=Y(be,"Writer"),De=[st].concat(Se),Oe=t.$r(De);return c(st,"$write",function(Ge,it){return U(it["$respond_to?"]("write"))?it.$write(T(Ge.$chomp(),Oe("LF"))):ve("File").$write(it,Ge,Z(["mode"],{mode:Oe("FILE_WRITE_MODE")})),N})}(Pe[0],Pe),function(be,Se){var st=Y(be,"VoidWriter"),De=[st].concat(Se),Oe=t.$r(De);return st.$include(Oe("Writer")),c(st,"$write",z(N))}(Pe[0],Pe)}(Te[0],Te)},Opal.modules["asciidoctor/load"]=function(t){var Y=t.module,U=t.hash2,T=t.truthy,Z=t.neqeq,c=t.not,z=t.eqeqeq,Te=t.send,N=t.to_ary,ve=t.rb_plus,g=t.eqeq,We=t.def,he=[],Pe=t.nil,be=t.$$$;return t.add_stubs("merge,[],start,!=,logger,key?,logger=,new,!,===,dup,tap,each,partition,[]=,split,gsub,+,respond_to?,keys,raise,join,ancestors,class,==,at,to_i,mtime,absolute_path,path,dirname,basename,extname,read,rewind,drop,record,parse,exception,message,set_backtrace,backtrace,stack_trace=,stack_trace,open,load"),function(Se,st){var De=Y(Se,"Asciidoctor"),Oe=[De].concat(st);return function(Be,Ge){var it=[Be].concat(Ge),y=t.$r(it);return We(Be,"$load",function(m,Je){var rt,L,A,Le,se=this,ge=Pe,fe=Pe,W=Pe,ee=Pe,M=Pe,C=Pe,k=Pe,H=Pe,j=Pe,X=Pe;Je==null&&(Je=U([],{}));try{if(Je=Je.$merge(),T(ge=Je["$[]"]("timings"))&&ge.$start("read"),T(Je["$key?"]("logger"))&&Z(fe=Je["$[]"]("logger"),y("LoggerManager").$logger())&&y("LoggerManager")["$logger="](T(W=fe)?W:y("NullLogger").$new()),c(ee=Je["$[]"]("attributes"))?ee=U([],{}):z(be("Hash"),ee)?ee=ee.$merge():T((A=be("::","Java","skip_raise"))&&(L=be(A,"JavaUtil","skip_raise"))&&(rt=be(L,"Map","skip_raise"))?"constant":Pe)&&z(be(be(be("Java"),"JavaUtil"),"Map"),ee)?ee=ee.$dup():z(be("Array"),ee)?ee=Te(U([],{}),"tap",[],function(u){return u==null&&(u=Pe),Te(ee,"each",[],function(l){var b,d,f=Pe,S=Pe,q=Pe;return l==null&&(l=Pe),d=l.$partition("="),b=N(d),f=b[0]==null?Pe:b[0],S=b[1]==null?Pe:b[1],q=b[2]==null?Pe:b[2],b=[f,q],Te(u,"[]=",b),b[b.length-1]})}):z(be("String"),ee)?ee=Te(U([],{}),"tap",[],function(u){return u==null&&(u=Pe),Te(ee.$gsub(y("SpaceDelimiterRx"),ve("\\1",y("NULL"))).$gsub(y("EscapedSpaceRx"),"\\1").$split(y("NULL")),"each",[],function(l){var b,d,f=Pe,S=Pe,q=Pe;return l==null&&(l=Pe),d=l.$partition("="),b=N(d),f=b[0]==null?Pe:b[0],S=b[1]==null?Pe:b[1],q=b[2]==null?Pe:b[2],b=[f,q],Te(u,"[]=",b),b[b.length-1]})}):T(ee["$respond_to?"]("keys"))&&T(ee["$respond_to?"]("[]"))?ee=Te(U([],{}),"tap",[],function(u){return u==null&&(u=Pe),Te(ee.$keys(),"each",[],function(l){var b;return l==null&&(l=Pe),b=[l,ee["$[]"](l)],Te(u,"[]=",b),b[b.length-1]})}):se.$raise(be("ArgumentError"),"illegal type for attributes option: "+ee.$class().$ancestors().$join(" < ")),z(be("File"),m))Je["$[]="]("input_mtime",g(y("RUBY_ENGINE"),"jruby")?be("Time").$at(m.$mtime().$to_i()):m.$mtime()),ee["$[]="]("docfile",M=be("File").$absolute_path(m.$path())),ee["$[]="]("docdir",be("File").$dirname(M)),ee["$[]="]("docname",y("Helpers").$basename(M,(Le=["docfilesuffix",y("Helpers").$extname(M)],Te(ee,"[]=",Le),Le[Le.length-1]))),C=m.$read();else if(T(m["$respond_to?"]("read"))){try{m.$rewind()}catch(R){if(t.rescue(R,[y("StandardError")]))try{}finally{t.pop_exception()}else throw R}C=m.$read()}else z(be("String"),m)?C=m:z(be("Array"),m)?C=m.$drop(0):T(m)&&se.$raise(be("ArgumentError"),"unsupported input type: "+m.$class());return T(ge)&&(ge.$record("read"),ge.$start("parse")),Je["$[]="]("attributes",ee),k=g(Je["$[]"]("parse"),!1)?y("Document").$new(C,Je):y("Document").$new(C,Je).$parse(),T(ge)&&ge.$record("parse"),k}catch(R){if(t.rescue(R,[y("StandardError")])){H=R;try{try{j="asciidoctor: FAILED: "+(T(W=ee["$[]"]("docfile"))?W:"<stdin>")+": Failed to load AsciiDoc document",T(H["$respond_to?"]("exception"))?(X=H.$exception(""+j+" - "+H.$message()),X.$set_backtrace(H.$backtrace())):(X=H.$class().$new(j,H),X["$stack_trace="](H.$stack_trace()))}catch(u){if(t.rescue(u,[y("StandardError")]))try{X=H}finally{t.pop_exception()}else throw u}return se.$raise(X)}finally{t.pop_exception()}}else throw R}},-2),We(Be,"$load_file",function(m,Je){var rt=this;return Je==null&&(Je=U([],{})),Te(be("File"),"open",[m,y("FILE_READ_MODE")],function L(A){var Le=L.$$s==null?this:L.$$s;return A==null&&(A=Pe),Le.$load(A,Je)},{$$s:rt})},-2)}(t.get_singleton_class(De),Oe)}(he[0],he)},Opal.modules["asciidoctor/convert"]=function(t){var Y=t.module,U=t.hash2,T=t.eqeqeq,Z=t.truthy,c=t.eqeq,z=t.rb_ge,Te=t.not,N=t.rb_lt,ve=t.neqeq,g=t.def,We=t.send,he=t.alias,Pe=[],be=t.nil,Se=t.$$$;return t.add_stubs("delete,merge,===,absolute_path,path,load,respond_to?,[]=,key?,fetch,[],dirname,expand_path,join,attributes,outfilesuffix,==,raise,pwd,>=,safe,normalize_system_path,mkdir_p,directory?,!,convert,write,attr,uriish?,basebackend?,attr?,<,include?,syntax_highlighter,write_stylesheet?,write_primary_stylesheet,instance,to_s,read_asset,file?,!=,write_stylesheet,open,convert_file"),function(st,De){var Oe=Y(st,"Asciidoctor"),Be=[Oe].concat(De);return function(Ge,it){var y=[Ge].concat(it),Xe=t.$r(y);return g(Ge,"$convert",function(Je,rt){var L=this,A=be,Le=be,se=be,ge=be,fe=be,W=be,ee=be,M=be,C=be,k=be,H=be,j=be,X=be,R=be,u=be,r=be,l=be,b=be,d=be,f=be,S=be,q=be,J=be,G=be;if(rt==null&&(rt=U([],{})),(rt=rt.$merge()).$delete("parse"),A=rt.$delete("to_dir"),Le=rt.$delete("mkdirs"),T(!0,se=ge=rt.$delete("to_file"))||T(be,se))Z(fe=A)||T(Se("File"),Je)&&(W=Se("File").$absolute_path(Je.$path())),ge=be;else if(T(!1,se))ge=be;else{if(T("/dev/null",se))return L.$load(Je,rt);Z(ee=ge["$respond_to?"]("write"))||rt["$[]="]("to_file",fe=ge)}return Z(rt["$key?"]("standalone"))||(Z(W)||Z(fe)?rt["$[]="]("standalone",rt.$fetch("header_footer",!0)):Z(rt["$key?"]("header_footer"))&&rt["$[]="]("standalone",rt["$[]"]("header_footer"))),Z(W)?rt["$[]="]("to_dir",M=Se("File").$dirname(W)):Z(fe)&&(Z(A)?Z(ge)?rt["$[]="]("to_dir",Se("File").$dirname(Se("File").$expand_path(ge,A))):rt["$[]="]("to_dir",Se("File").$expand_path(A)):Z(ge)&&rt["$[]="]("to_dir",Se("File").$dirname(Se("File").$expand_path(ge)))),C=L.$load(Je,rt),Z(W)?(k=Se("File").$join(M,""+C.$attributes()["$[]"]("docname")+C.$outfilesuffix()),c(k,W)&&L.$raise(Se("IOError"),"input file and output file cannot be the same: "+k)):Z(fe)?(H=Z(rt["$key?"]("base_dir"))?Se("File").$expand_path(rt["$[]"]("base_dir")):Se("Dir").$pwd(),j=Z(z(C.$safe(),Se(Xe("SafeMode"),"SAFE")))?H:be,Z(A)?(M=C.$normalize_system_path(A,H,j,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),Z(ge)?(k=C.$normalize_system_path(ge,M,be,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=Se("File").$dirname(k)):k=Se("File").$join(M,""+C.$attributes()["$[]"]("docname")+C.$outfilesuffix())):Z(ge)&&(k=C.$normalize_system_path(ge,H,j,U(["target_name","recover"],{target_name:"to_dir",recover:!1})),M=Se("File").$dirname(k)),T(Se("File"),Je)&&c(k,Se("File").$absolute_path(Je.$path()))&&L.$raise(Se("IOError"),"input file and output file cannot be the same: "+k),Z(Le)?Xe("Helpers").$mkdir_p(M):Z(Se("File")["$directory?"](M))||L.$raise(Se("IOError"),"target directory does not exist: "+A+" (hint: set :mkdirs option)")):(k=ge,M=be),Z(k)&&Te(ee)?X=C.$convert(U(["outfile","outdir"],{outfile:k,outdir:M})):X=C.$convert(),Z(k)?(C.$write(X,k),Te(ee)&&Z(N(C.$safe(),Se(Xe("SafeMode"),"SECURE")))&&Z(C["$attr?"]("linkcss"))&&Z(C["$attr?"]("copycss"))&&Z(C["$basebackend?"]("html"))&&Te(Z(se=R=C.$attr("stylesdir"))?Xe("Helpers")["$uriish?"](R):se)&&(Z(u=C.$attr("stylesheet"))&&(Z(Xe("DEFAULT_STYLESHEET_KEYS")["$include?"](u))?r=!0:Te(Xe("Helpers")["$uriish?"](u))&&(l=!0)),b=Z(se=d=C.$syntax_highlighter())?d["$write_stylesheet?"](C):se,(Z(r)||Z(l)||Z(b))&&(f=C.$normalize_system_path(R,M,Z(z(C.$safe(),Se(Xe("SafeMode"),"SAFE")))?M:be),Z(Le)?Xe("Helpers").$mkdir_p(f):Z(Se("File")["$directory?"](f))||L.$raise(Se("IOError"),"target stylesheet directory does not exist: "+f+" (hint: set :mkdirs option)"),Z(r)?Xe("Stylesheets").$instance().$write_primary_stylesheet(f):Z(l)&&(c(S=C.$attr("copycss"),"")||c(S,!0)?S=C.$normalize_system_path(u):S=C.$normalize_system_path(S.$to_s()),q=C.$normalize_system_path(u,f,Z(z(C.$safe(),Se(Xe("SafeMode"),"SAFE")))?M:be),ve(S,q)&&Z(J=C.$read_asset(S,U(["warn_on_failure","label"],{warn_on_failure:Se("File")["$file?"](q)["$!"](),label:"stylesheet"})))&&(ve(G=Se("File").$dirname(q),f)&&Te(Se("File")["$directory?"](G))&&(Z(Le)?Xe("Helpers").$mkdir_p(G):L.$raise(Se("IOError"),"target stylesheet directory does not exist: "+G+" (hint: set :mkdirs option)")),Se("File").$write(q,J,U(["mode"],{mode:Xe("FILE_WRITE_MODE")})))),Z(b)&&d.$write_stylesheet(C,f))),C):X},-2),g(Ge,"$convert_file",function(Je,rt){var L=this;return rt==null&&(rt=U([],{})),We(Se("File"),"open",[Je,Xe("FILE_READ_MODE")],function A(Le){var se=A.$$s==null?this:A.$$s;return Le==null&&(Le=be),se.$convert(Le,rt)},{$$s:L})},-2),he(Ge,"render","convert"),he(Ge,"render_file","convert_file")}(t.get_singleton_class(Oe),Be)}(Pe[0],Pe)},Opal.modules["asciidoctor/syntax_highlighter/highlightjs"]=function(t){var Y=t.module,U=t.klass,T=t.slice,Z=t.send2,c=t.find_super,z=t.to_a,Te=t.def,N=t.hash2,ve=t.send,g=t.truthy,We=t.return_val,he=t.eqeq,Pe=[],be=t.nil,Se=t.$$$;return t.add_stubs("register_for,merge,proc,[]=,attr,[],==,attr?,join,map,split,lstrip"),function(st,De){var Oe=Y(st,"Asciidoctor"),Be=[Oe].concat(De),Ge=t.$r(Be);return function(it,y,Xe){var m=U(it,y,"HighlightJsAdapter"),Je=[m].concat(Xe),rt=t.$r(Je);return m.$register_for("highlightjs","highlight.js"),Te(m,"$initialize",function L(A){var Le,se,ge=L.$$p||be,fe=this;return L.$$p=null,Le=T(arguments),se=Le,Z(fe,c(fe,"initialize",L,!1,!0),"initialize",z(se),ge),fe.name=fe.pre_class="highlightjs"},-1),Te(m,"$format",function L(A,Le,se){L.$$p;var ge=this;return L.$$p=null,Z(ge,c(ge,"format",L,!1,!0),"format",[A,Le,se.$merge(N(["transform"],{transform:ve(ge,"proc",[],function(W,ee){var M,C=be;return ee==null&&(ee=be),M=["class","language-"+(g(C=Le)?C:"none")+" hljs"],ve(ee,"[]=",M),M[M.length-1]})}))],null)}),Te(m,"$docinfo?",We(!0)),Te(m,"$docinfo",function(A,Le,se){var ge=be;return ge=Le.$attr("highlightjsdir",""+se["$[]"]("cdn_base_url")+"/highlight.js/"+rt("HIGHLIGHT_JS_VERSION")),he(A,"head")?'<link rel="stylesheet" href="'+ge+"/styles/"+Le.$attr("highlightjs-theme","github")+'.min.css"'+se["$[]"]("self_closing_tag_slash")+">":'<script src="'+ge+`/highlight.min.js"><\/script>
`+(g(Le["$attr?"]("highlightjs-languages"))?ve(Le.$attr("highlightjs-languages").$split(","),"map",[],function(W){return W==null&&(W=be),'<script src="'+ge+"/languages/"+W.$lstrip()+`.min.js"><\/script>
`}).$join():"")+`<script>
if (!hljs.initHighlighting.called) {
  hljs.initHighlighting.called = true
  ;[].slice.call(document.querySelectorAll('pre.highlight > code[data-lang]')).forEach(function (el) { hljs.highlightBlock(el) })
}
<\/script>`})}(Ge("SyntaxHighlighter"),Se(Ge("SyntaxHighlighter"),"Base"),Be)}(Pe[0],Pe)},Opal.modules["asciidoctor/syntax_highlighter"]=function(t){var Y=t.module,U=t.hash2,T=t.def,Z=t.return_val,c=t.defs,z=t.slice,Te=t.send,N=t.to_a,ve=t.truthy,g=t.eqeqeq,We=t.Class,he=t.klass,Pe=t.class_variable_set,be=t.class_variable_get,Se=t.top,st=[],De=t.nil,Oe=t.$$$;return t.add_stubs("attr_reader,raise,class,extend,private_class_method,register,map,to_s,each,[]=,registry,[],for,===,new,name,private,include,delete,join,content"),function(Be,Ge){var it=Y(Be,"Asciidoctor"),y=[it].concat(Ge);return function(Xe,m){var Je=Y(Xe,"SyntaxHighlighter"),rt=[Je].concat(m),L=t.$r(rt);return Je.$attr_reader("name"),T(Je,"$initialize",function(Le,se,ge){var fe=this;return ge==null&&(ge=U([],{})),fe.name=fe.pre_class=Le},-2),T(Je,"$docinfo?",Z(De)),T(Je,"$docinfo",function(Le,se,ge){var fe=this;return fe.$raise(Oe("NotImplementedError"),""+L("SyntaxHighlighter")+" subclass "+fe.$class()+" must implement the #docinfo method since #docinfo? returns true")}),T(Je,"$highlight?",Z(De)),T(Je,"$highlight",function(Le,se,ge,fe){var W=this;return W.$raise(Oe("NotImplementedError"),""+L("SyntaxHighlighter")+" subclass "+W.$class()+" must implement the #highlight method since #highlight? returns true")}),T(Je,"$format",function(Le,se,ge){var fe=this;return fe.$raise(Oe("NotImplementedError"),""+L("SyntaxHighlighter")+" subclass "+fe.$class()+" must implement the #format method")}),T(Je,"$write_stylesheet?",Z(De)),T(Je,"$write_stylesheet",function(Le,se){var ge=this;return ge.$raise(Oe("NotImplementedError"),""+L("SyntaxHighlighter")+" subclass "+ge.$class()+" must implement the #write_stylesheet method since #write_stylesheet? returns true")}),c(Je,"$included",function(Le){return Le.$extend(L("Config"))}),Je.$private_class_method("included"),function(A,Le){var se=Y(A,"Config"),ge=[se].concat(Le),fe=t.$r(ge);return T(se,"$register_for",function(ee){var M,C,k=this;return M=z(arguments),C=M,Te(fe("SyntaxHighlighter"),"register",[k].concat(N(Te(C,"map",[],function(j){return j==null&&(j=De),j.$to_s()}))))},-1)}(rt[0],rt),function(A,Le){var se=Y(A,"Factory"),ge=[se].concat(Le),fe=t.$r(ge);return T(se,"$register",function(ee,M){var C,k,H=this;return C=z(arguments,1),k=C,Te(k,"each",[],function j(X){var R,u=j.$$s==null?this:j.$$s;return X==null&&(X=De),R=[X,ee],Te(u.$registry(),"[]=",R),R[R.length-1]},{$$s:H})},-2),T(se,"$for",function(ee){var M=this;return M.$registry()["$[]"](ee)}),T(se,"$create",function(ee,M,C){var k=this,H=De;return M==null&&(M="html5"),C==null&&(C=U([],{})),ve(H=k.$for(ee))?(g(We,H)&&(H=H.$new(ee,M,C)),ve(H.$name())||k.$raise(Oe("NameError"),""+H.$class()+" must specify a value for `name'"),H):De},-2),se.$private(),T(se,"$registry",function(){var ee=this;return ee.$raise(Oe("NotImplementedError"),""+fe("Factory")+" subclass "+ee.$class()+" must implement the #registry method")})}(rt[0],rt),function(A,Le,se){var ge=he(A,Le,"CustomFactory"),fe=[ge].concat(se),W=t.$r(fe);return ge.$include(W("Factory")),T(ge,"$initialize",function(M){var C=this,k=De;return M==null&&(M=De),C.registry=ve(k=M)?k:U([],{})},-1),ge.$private(),ge.$attr_reader("registry")}(rt[0],null,rt),function(A,Le){var se=Y(A,"DefaultFactory"),ge=[se].concat(Le),fe=t.$r(ge);return se.$include(fe("Factory")),Pe(ge[0],"@@registry",U([],{})),se.$private(),T(se,"$registry",function(){return be(ge[0],"@@registry",!1)}),De}(rt[0],rt),function(A,Le,se){var ge=he(A,Le,"DefaultFactoryProxy"),fe=[ge].concat(se),W=t.$r(fe);return ge.$include(W("DefaultFactory")),De}(rt[0],L("CustomFactory"),rt),function(A,Le,se){var ge=he(A,Le,"Base"),fe=[ge].concat(se),W=t.$r(fe),ee=ge.$$prototype;return ee.pre_class=De,ge.$include(W("SyntaxHighlighter")),T(ge,"$format",function(C,k,H){var j=this,X=De,R=De,u=De,r=De;return X=ve(H["$[]"]("nowrap"))?""+j.pre_class+" highlight nowrap":""+j.pre_class+" highlight",ve(R=H["$[]"]("transform"))?(R["$[]"](u=U(["class"],{class:X}),r=ve(k)?U(["data-lang"],{"data-lang":k}):U([],{})),ve(k=r.$delete("data-lang"))&&r["$[]="]("data-lang",k),"<pre"+Te(u,"map",[],function(b,d){return b==null&&(b=De),d==null&&(d=De)," "+b+'="'+d+'"'}).$join()+"><code"+Te(r,"map",[],function(b,d){return b==null&&(b=De),d==null&&(d=De)," "+b+'="'+d+'"'}).$join()+">"+C.$content()+"</code></pre>"):'<pre class="'+X+'"><code'+(ve(k)?' data-lang="'+k+'"':"")+">"+C.$content()+"</code></pre>"})}(rt[0],null,rt),Je.$extend(L("DefaultFactory"))}(y[0],y)}(st[0],st),Se.$require("asciidoctor/syntax_highlighter.rb/../syntax_highlighter/highlightjs"),De},Opal.modules["asciidoctor/timings"]=function(t){var Y=t.module,U=t.klass,T=t.hash2,Z=t.def,c=t.send,z=t.rb_minus,Te=t.slice,N=t.rb_plus,ve=t.truthy,g=t.rb_gt,We=t.gvars,he=t.eqeq,Pe=t.const_set,be=[],Se=t.nil,st=t.$$$;return t.add_stubs("[]=,now,-,delete,reduce,+,[],>,time,puts,sprintf,to_f,read_parse,convert,read_parse_convert,private,==,const_defined?,clock_gettime"),function(De,Oe){var Be=Y(De,"Asciidoctor"),Ge=[Be].concat(Oe);return function(it,y,Xe){var m=U(it,y,"Timings"),Je,rt,L,A,Le=[m].concat(Xe),se=t.$r(Le),ge=m.$$prototype;return ge.timers=ge.log=Se,Z(m,"$initialize",function(){var W=this;return W.log=T([],{}),W.timers=T([],{})}),Z(m,"$start",function(W){var ee,M=this;return ee=[W,M.$now()],c(M.timers,"[]=",ee),ee[ee.length-1]}),Z(m,"$record",function(W){var ee,M=this;return ee=[W,z(M.$now(),M.timers.$delete(W))],c(M.log,"[]=",ee),ee[ee.length-1]}),Z(m,"$time",function(W){var ee,M,C=this,k=Se;return ee=Te(arguments),M=ee,k=c(M,"reduce",[0],function H(j,X){var R=H.$$s==null?this:H.$$s,u=Se;return R.log==null&&(R.log=Se),j==null&&(j=Se),X==null&&(X=Se),N(j,ve(u=R.log["$[]"](X))?u:0)},{$$s:C}),ve(g(k,0))?k:Se},-1),Z(m,"$read",function(){var W=this;return W.$time("read")}),Z(m,"$parse",function(){var W=this;return W.$time("parse")}),Z(m,"$read_parse",function(){var W=this;return W.$time("read","parse")}),Z(m,"$convert",function(){var W=this;return W.$time("convert")}),Z(m,"$read_parse_convert",function(){var W=this;return W.$time("read","parse","convert")}),Z(m,"$write",function(){var W=this;return W.$time("write")}),Z(m,"$total",function(){var W=this;return W.$time("read","parse","convert","write")}),Z(m,"$print_report",function(W,ee){var M=this;return We.stdout==null&&(We.stdout=Se),W==null&&(W=We.stdout),ee==null&&(ee=Se),ve(ee)&&W.$puts("Input file: "+ee),W.$puts("  Time to read and parse source: "+M.$sprintf("%05.5f",M.$read_parse().$to_f())),W.$puts("  Time to convert document: "+M.$sprintf("%05.5f",M.$convert().$to_f())),W.$puts("  Total time (read, parse and convert): "+M.$sprintf("%05.5f",M.$read_parse_convert().$to_f()))},-1),m.$private(),ve(st("Process")["$const_defined?"]("CLOCK_MONOTONIC",!1))&&he((Je=st("::","Process","skip_raise"))&&(rt=Je,rt)&&(L=rt)&&((A=L.$clock_gettime)&&!A.$$stub||L["$respond_to_missing?"]("clock_gettime"))?"method":Se,"method")?(Pe(Le[0],"CLOCK_ID",st(st("Process"),"CLOCK_MONOTONIC")),Z(m,"$now",function(){return st("Process").$clock_gettime(se("CLOCK_ID"))})):Z(m,"$now",function(){return st("Time").$now()})}(Ge[0],null,Ge)}(be[0],be)},Opal.modules["asciidoctor/converter/html5"]=function(t){var Y=t.module,U=t.klass,T=t.const_set,Z=t.hash2,c=t.regexp,z=t.eqeq,Te=t.def,N=t.send2,ve=t.find_super,g=t.truthy,We=t.send,he=t.rb_gt,Pe=t.rb_plus,be=t.not,Se=t.neqeq,st=t.rb_le,De=t.rb_lt,Oe=t.to_ary,Be=t.rb_times,Ge=t.rb_minus,it=t.gvars,y=t.return_val,Xe=t.alias,m=t.eqeqeq,Je=t.slice,rt=t.to_a,L=[],A=t.nil,Le=t.$$$;return t.add_stubs("register_for,default=,==,[],init_backend_traits,node_name,convert_inline_quoted,convert_paragraph,convert_inline_anchor,convert_section,convert_listing,convert_literal,convert_ulist,convert_olist,convert_dlist,convert_admonition,convert_colist,convert_embedded,convert_example,convert_floating_title,convert_image,convert_inline_break,convert_inline_button,convert_inline_callout,convert_inline_footnote,convert_inline_image,convert_inline_indexterm,convert_inline_kbd,convert_inline_menu,convert_open,convert_page_break,convert_preamble,convert_quote,convert_sidebar,convert_stem,convert_table,convert_thematic_break,convert_verse,convert_video,convert_document,convert_toc,convert_pass,convert_audio,empty?,attr,attr?,<<,include?,sub_replacements,gsub,extname,slice,length,doctitle,normalize_web_path,primary_stylesheet_data,instance,read_contents,syntax_highlighter,size,docinfo,id,sections?,doctype,role?,role,join,noheader,convert,converter,generate_manname_section,header?,notitle,title,header,each,authors,>,name,email,sub_macros,+,downcase,concat,content,!,footnotes?,footnotes,index,text,nofooter,docinfo?,[]=,delete_at,inspect,!=,to_i,attributes,document,sections,level,caption,captioned_title,<=,numbered,<,sectname,sectnum,convert_outline,title?,icon_uri,compact,media_uri,option?,append_boolean_attribute,style,items,blocks?,text?,chomp,safe,read_svg_contents,alt,image_uri,encode_attribute_value,append_link_constraint_attrs,highlight?,to_sym,format,*,-,count,end_with?,start_with?,list_marker_keyword,parent,warn,logger,context,error,content_only,new,columns,to_h,rows,colspan,rowspan,unshift,shift,split,pop,nil_or_empty?,type,===,catalog,get_root_document,xreftext,target,reftext,chop,sub,match,private,upcase,nested?,parent_document,handles?,to_s,send"),function(se,ge){var fe=Y(se,"Asciidoctor"),W=[fe].concat(ge),ee=t.$r(W);return function(M,C,k){var H=U(M,C,"Html5Converter"),j=[H].concat(k),X=t.$r(j),R=H.$$prototype;return R.void_element_slash=R.xml_mode=R.refs=R.resolving_xref=A,H.$register_for("html5"),T(j[0],"QUOTE_TAGS",Z(["monospaced","emphasis","strong","double","single","mark","superscript","subscript","asciimath","latexmath"],{monospaced:["<code>","</code>",!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],double:["&#8220;","&#8221;"],single:["&#8216;","&#8217;"],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}))["$default="](["",""]),T(j[0],"DropAnchorRx",/<(?:a\b[^>]*|\/a)>/),T(j[0],"StemBreakRx",/ *\\\n(?:\\?\n)*|\n\n+/),T(j[0],"SvgPreambleRx",c(["^",X("CC_ALL"),"*?(?=<svg[\\s>])"])),T(j[0],"SvgStartTagRx",/^<svg(?:\s[^>]*)?>/),T(j[0],"DimensionAttributeRx",c([`\\s(?:width|height|style)=(["'])`,X("CC_ANY"),"*?\\1"])),Te(H,"$initialize",function(r,l){var b=this,d=A;return l==null&&(l=Z([],{})),b.backend=r,z(l["$[]"]("htmlsyntax"),"xml")?(d="xml",b.xml_mode=!0,b.void_element_slash="/"):(d="html",b.xml_mode=A,b.void_element_slash=""),b.$init_backend_traits(Z(["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates"],{basebackend:"html",filetype:"html",htmlsyntax:d,outfilesuffix:".html",supports_templates:!0}))},-2),Te(H,"$convert",function u(r,l,b){var d=u.$$p||A,f=this;switch(u.$$p=null,l==null&&(l=r.$node_name()),b==null&&(b=A),l){case"inline_quoted":return f.$convert_inline_quoted(r);case"paragraph":return f.$convert_paragraph(r);case"inline_anchor":return f.$convert_inline_anchor(r);case"section":return f.$convert_section(r);case"listing":return f.$convert_listing(r);case"literal":return f.$convert_literal(r);case"ulist":return f.$convert_ulist(r);case"olist":return f.$convert_olist(r);case"dlist":return f.$convert_dlist(r);case"admonition":return f.$convert_admonition(r);case"colist":return f.$convert_colist(r);case"embedded":return f.$convert_embedded(r);case"example":return f.$convert_example(r);case"floating_title":return f.$convert_floating_title(r);case"image":return f.$convert_image(r);case"inline_break":return f.$convert_inline_break(r);case"inline_button":return f.$convert_inline_button(r);case"inline_callout":return f.$convert_inline_callout(r);case"inline_footnote":return f.$convert_inline_footnote(r);case"inline_image":return f.$convert_inline_image(r);case"inline_indexterm":return f.$convert_inline_indexterm(r);case"inline_kbd":return f.$convert_inline_kbd(r);case"inline_menu":return f.$convert_inline_menu(r);case"open":return f.$convert_open(r);case"page_break":return f.$convert_page_break(r);case"preamble":return f.$convert_preamble(r);case"quote":return f.$convert_quote(r);case"sidebar":return f.$convert_sidebar(r);case"stem":return f.$convert_stem(r);case"table":return f.$convert_table(r);case"thematic_break":return f.$convert_thematic_break(r);case"verse":return f.$convert_verse(r);case"video":return f.$convert_video(r);case"document":return f.$convert_document(r);case"toc":return f.$convert_toc(r);case"pass":return f.$convert_pass(r);case"audio":return f.$convert_audio(r);default:return N(f,ve(f,"convert",u,!1,!0),"convert",[r,l,b],d)}},-2),Te(H,"$convert_document",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A,Ze=A,$t=A,et=A,at=A,ct=A,ft=A,ut=A,ht=A,dt=A,At=A,yt=A,It=A,St=A,wt=A,Et=A;return b="<br"+(d=l.void_element_slash)+">",g((f=r.$attr("asset-uri-scheme","https"))["$empty?"]())||(f=""+f+":"),S=""+f+"//cdnjs.cloudflare.com/ajax/libs",q=r["$attr?"]("linkcss"),J=g(r["$attr?"]("max-width"))?' style="max-width: '+r.$attr("max-width")+';"':"",G=["<!DOCTYPE html>"],$e=g(r["$attr?"]("nolang"))?"":' lang="'+r.$attr("lang","en")+'"',G["$<<"]("<html"+(g(l.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':"")+$e+">"),G["$<<"](`<head>
<meta charset="`+r.$attr("encoding","UTF-8")+'"'+d+`>
<meta http-equiv="X-UA-Compatible" content="IE=edge"`+d+`>
<meta name="viewport" content="width=device-width, initial-scale=1.0"`+d+`>
<meta name="generator" content="Asciidoctor `+r.$attr("asciidoctor-version")+'"'+d+">"),g(r["$attr?"]("app-name"))&&G["$<<"]('<meta name="application-name" content="'+r.$attr("app-name")+'"'+d+">"),g(r["$attr?"]("description"))&&G["$<<"]('<meta name="description" content="'+r.$attr("description")+'"'+d+">"),g(r["$attr?"]("keywords"))&&G["$<<"]('<meta name="keywords" content="'+r.$attr("keywords")+'"'+d+">"),g(r["$attr?"]("authors"))&&G["$<<"]('<meta name="author" content="'+(g((ke=r.$sub_replacements(r.$attr("authors")))["$include?"]("<"))?ke.$gsub(X("XmlSanitizeRx"),""):ke)+'"'+d+">"),g(r["$attr?"]("copyright"))&&G["$<<"]('<meta name="copyright" content="'+r.$attr("copyright")+'"'+d+">"),g(r["$attr?"]("favicon"))&&(g((He=r.$attr("favicon"))["$empty?"]())?(He="favicon.ico",Ze="image/x-icon"):g($t=X("Helpers").$extname(He,A))?Ze=z($t,".ico")?"image/x-icon":"image/"+$t.$slice(1,$t.$length()):Ze="image/x-icon",G["$<<"]('<link rel="icon" type="'+Ze+'" href="'+He+'"'+d+">")),G["$<<"]("<title>"+r.$doctitle(Z(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>"),g(X("DEFAULT_STYLESHEET_KEYS")["$include?"](r.$attr("stylesheet")))?(g(et=r.$attr("webfonts"))&&G["$<<"]('<link rel="stylesheet" href="'+f+"//fonts.googleapis.com/css?family="+(g(et["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":et)+'"'+d+">"),g(q)?G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(X("DEFAULT_STYLESHEET_NAME"),r.$attr("stylesdir",""),!1)+'"'+d+">"):G["$<<"](`<style>
`+X("Stylesheets").$instance().$primary_stylesheet_data()+`
</style>`)):g(r["$attr?"]("stylesheet"))&&(g(q)?G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(r.$attr("stylesheet"),r.$attr("stylesdir",""))+'"'+d+">"):G["$<<"](`<style>
`+r.$read_contents(r.$attr("stylesheet"),Z(["start","warn_on_failure","label"],{start:r.$attr("stylesdir"),warn_on_failure:!0,label:"stylesheet"}))+`
</style>`)),g(r["$attr?"]("icons","font"))&&(g(r["$attr?"]("iconfont-remote"))?G["$<<"]('<link rel="stylesheet" href="'+r.$attr("iconfont-cdn",""+S+"/font-awesome/"+X("FONT_AWESOME_VERSION")+"/css/font-awesome.min.css")+'"'+d+">"):(at=""+r.$attr("iconfont-name","font-awesome")+".css",G["$<<"]('<link rel="stylesheet" href="'+r.$normalize_web_path(at,r.$attr("stylesdir",""),!1)+'"'+d+">"))),g(ct=r.$syntax_highlighter())&&G["$<<"](ft=G.$size()),g((ut=r.$docinfo())["$empty?"]())||G["$<<"](ut),G["$<<"]("</head>"),ht=g(r.$id())?' id="'+r.$id()+'"':"",g(dt=r["$sections?"]())&&g(r["$attr?"]("toc-class"))&&g(r["$attr?"]("toc"))&&g(r["$attr?"]("toc-placement","auto"))?At=[r.$doctype(),r.$attr("toc-class"),"toc-"+r.$attr("toc-position","header")]:At=[r.$doctype()],g(r["$role?"]())&&At["$<<"](r.$role()),G["$<<"]("<body"+ht+' class="'+At.$join(" ")+'">'),g((ut=r.$docinfo("header"))["$empty?"]())||G["$<<"](ut),g(r.$noheader())||(G["$<<"]('<div id="header"'+J+">"),z(r.$doctype(),"manpage")?(G["$<<"]("<h1>"+r.$doctitle()+" Manual Page</h1>"),g(dt)&&g(r["$attr?"]("toc"))&&g(r["$attr?"]("toc-placement","auto"))&&G["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+`">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`),g(r["$attr?"]("manpurpose"))&&G["$<<"](l.$generate_manname_section(r))):(g(r["$header?"]())&&(g(r.$notitle())||G["$<<"]("<h1>"+r.$header().$title()+"</h1>"),yt=[],It=1,We(r.$authors(),"each",[],function(zt){return zt==null&&(zt=A),yt["$<<"]('<span id="author'+(g(he(It,1))?It:"")+'" class="author">'+r.$sub_replacements(zt.$name())+"</span>"+b),g(zt.$email())&&yt["$<<"]('<span id="email'+(g(he(It,1))?It:"")+'" class="email">'+r.$sub_macros(zt.$email())+"</span>"+b),It=Pe(It,1)}),g(r["$attr?"]("revnumber"))&&yt["$<<"]('<span id="revnumber">'+(g(St=r.$attr("version-label"))?St:"").$downcase()+" "+r.$attr("revnumber")+(g(r["$attr?"]("revdate"))?",":"")+"</span>"),g(r["$attr?"]("revdate"))&&yt["$<<"]('<span id="revdate">'+r.$attr("revdate")+"</span>"),g(r["$attr?"]("revremark"))&&yt["$<<"](""+b+'<span id="revremark">'+r.$attr("revremark")+"</span>"),g(yt["$empty?"]())||(G["$<<"]('<div class="details">'),G.$concat(yt),G["$<<"]("</div>"))),g(dt)&&g(r["$attr?"]("toc"))&&g(r["$attr?"]("toc-placement","auto"))&&G["$<<"]('<div id="toc" class="'+r.$attr("toc-class","toc")+`">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`)),G["$<<"]("</div>")),G["$<<"]('<div id="content"'+J+`>
`+r.$content()+`
</div>`),g(r["$footnotes?"]())&&be(r["$attr?"]("nofootnotes"))&&(G["$<<"]('<div id="footnotes"'+J+`>
<hr`+d+">"),We(r.$footnotes(),"each",[],function(zt){return zt==null&&(zt=A),G["$<<"]('<div class="footnote" id="_footnotedef_'+zt.$index()+`">
<a href="#_footnoteref_`+zt.$index()+'">'+zt.$index()+"</a>. "+zt.$text()+`
</div>`)}),G["$<<"]("</div>")),g(r.$nofooter())||(G["$<<"]('<div id="footer"'+J+">"),G["$<<"]('<div id="footer-text">'),g(r["$attr?"]("revnumber"))&&G["$<<"](""+r.$attr("version-label")+" "+r.$attr("revnumber")+b),g(r["$attr?"]("last-update-label"))&&be(r["$attr?"]("reproducible"))&&G["$<<"](""+r.$attr("last-update-label")+" "+r.$attr("docdatetime")),G["$<<"]("</div>"),G["$<<"]("</div>")),g(ct)&&(g(ct["$docinfo?"]("head"))?G["$[]="](ft,ct.$docinfo("head",r,Z(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:S,linkcss:q,self_closing_tag_slash:d}))):G.$delete_at(ft),g(ct["$docinfo?"]("footer"))&&G["$<<"](ct.$docinfo("footer",r,Z(["cdn_base_url","linkcss","self_closing_tag_slash"],{cdn_base_url:S,linkcss:q,self_closing_tag_slash:d})))),g(r["$attr?"]("stem"))&&(wt=r.$attr("eqnums","none"),g(wt["$empty?"]())&&(wt="AMS"),Et=' equationNumbers: { autoNumber: "'+wt+'" } ',G["$<<"](`<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [`+X("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    displayMath: [`+X("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+`],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [`+X("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+`],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: {`+Et+`}
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains("stemblock")) {
      data.math.root.display = "block"
    }
    return data
  })
})
<\/script>
<script src="`+S+"/mathjax/"+X("MATHJAX_VERSION")+'/MathJax.js?config=TeX-MML-AM_HTMLorMML"><\/script>')),g((ut=r.$docinfo("footer"))["$empty?"]())||G["$<<"](ut),G["$<<"]("</body>"),G["$<<"]("</html>"),G.$join(X("LF"))}),Te(H,"$convert_embedded",function(r){var l=this,b=A,d=A,f=A;return b=[],z(r.$doctype(),"manpage")?(g(r.$notitle())||(d=g(r.$id())?' id="'+r.$id()+'"':"",b["$<<"]("<h1"+d+">"+r.$doctitle()+" Manual Page</h1>")),g(r["$attr?"]("manpurpose"))&&b["$<<"](l.$generate_manname_section(r))):g(r["$header?"]())&&be(r.$notitle())&&(d=g(r.$id())?' id="'+r.$id()+'"':"",b["$<<"]("<h1"+d+">"+r.$header().$title()+"</h1>")),g(r["$sections?"]())&&g(r["$attr?"]("toc"))&&Se(f=r.$attr("toc-placement"),"macro")&&Se(f,"preamble")&&b["$<<"](`<div id="toc" class="toc">
<div id="toctitle">`+r.$attr("toc-title")+`</div>
`+r.$converter().$convert(r,"outline")+`
</div>`),b["$<<"](r.$content()),g(r["$footnotes?"]())&&be(r["$attr?"]("nofootnotes"))&&(b["$<<"](`<div id="footnotes">
<hr`+l.void_element_slash+">"),We(r.$footnotes(),"each",[],function(q){return q==null&&(q=A),b["$<<"]('<div class="footnote" id="_footnotedef_'+q.$index()+`">
<a href="#_footnoteref_`+q.$index()+'">'+q.$index()+"</a>. "+q.$text()+`
</div>`)}),b["$<<"]("</div>")),b.$join(X("LF"))}),Te(H,"$convert_outline",function(r,l){var b=this,d=A,f=A,S=A,q=A,J=A,G=A;return l==null&&(l=Z([],{})),g(r["$sections?"]())?(d=g(f=l["$[]"]("sectnumlevels"))?f:(g(S=r.$document().$attributes()["$[]"]("sectnumlevels"))?S:3).$to_i(),q=g(f=l["$[]"]("toclevels"))?f:(g(S=r.$document().$attributes()["$[]"]("toclevels"))?S:2).$to_i(),J=r.$sections(),G=['<ul class="sectlevel'+J["$[]"](0).$level()+'">'],We(J,"each",[],function $e(ke){var He=$e.$$s==null?this:$e.$$s,Ze=A,$t=A,et=A,at=A;if(ke==null&&(ke=A),Ze=ke.$level(),g(ke.$caption()))$t=ke.$captioned_title();else if(g(ke.$numbered())&&g(st(Ze,d)))if(g(De(Ze,2))&&z(r.$document().$doctype(),"book"))switch(ke.$sectname()){case"chapter":$t=(g(et=r.$document().$attributes()["$[]"]("chapter-signifier"))?""+et+" ":"")+ke.$sectnum()+" "+ke.$title();break;case"part":$t=(g(et=r.$document().$attributes()["$[]"]("part-signifier"))?""+et+" ":"")+ke.$sectnum(A,":")+" "+ke.$title();break;default:$t=""+ke.$sectnum()+" "+ke.$title()}else $t=""+ke.$sectnum()+" "+ke.$title();else $t=ke.$title();return g($t["$include?"]("<a"))&&($t=$t.$gsub(X("DropAnchorRx"),"")),g(De(Ze,q))&&g(at=He.$convert_outline(ke,Z(["toclevels","sectnumlevels"],{toclevels:q,sectnumlevels:d})))?(G["$<<"]('<li><a href="#'+ke.$id()+'">'+$t+"</a>"),G["$<<"](at),G["$<<"]("</li>")):G["$<<"]('<li><a href="#'+ke.$id()+'">'+$t+"</a></li>")},{$$s:b}),G["$<<"]("</ul>"),G.$join(X("LF"))):A},-2),Te(H,"$convert_section",function(r){var l=A,b=A,d=A,f=A,S=A,q=A,J=A,G=A;if(l=r.$document().$attributes(),b=r.$level(),g(r.$caption()))d=r.$captioned_title();else if(g(r.$numbered())&&g(st(b,(g(f=l["$[]"]("sectnumlevels"))?f:3).$to_i())))if(g(De(b,2))&&z(r.$document().$doctype(),"book"))switch(r.$sectname()){case"chapter":d=(g(S=l["$[]"]("chapter-signifier"))?""+S+" ":"")+r.$sectnum()+" "+r.$title();break;case"part":d=(g(S=l["$[]"]("part-signifier"))?""+S+" ":"")+r.$sectnum(A,":")+" "+r.$title();break;default:d=""+r.$sectnum()+" "+r.$title()}else d=""+r.$sectnum()+" "+r.$title();else d=r.$title();return g(r.$id())?(q=' id="'+(J=r.$id())+'"',g(l["$[]"]("sectlinks"))&&(d='<a class="link" href="#'+J+'">'+d+"</a>"),g(l["$[]"]("sectanchors"))&&(z(l["$[]"]("sectanchors"),"after")?d=""+d+'<a class="anchor" href="#'+J+'"></a>':d='<a class="anchor" href="#'+J+'"></a>'+d)):q="",z(b,0)?"<h1"+q+' class="sect0'+(g(G=r.$role())?" "+G:"")+'">'+d+`</h1>
`+r.$content():'<div class="sect'+b+(g(G=r.$role())?" "+G:"")+`">
<h`+Pe(b,1)+q+">"+d+"</h"+Pe(b,1)+`>
`+(z(b,1)?`<div class="sectionbody">
`+r.$content()+`
</div>`:r.$content())+`
</div>`}),Te(H,"$convert_admonition",function(r){var l=this,b=A,d=A,f=A,S=A,q=A;return b=g(r.$id())?' id="'+r.$id()+'"':"",d=r.$attr("name"),f=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",g(r.$document()["$attr?"]("icons"))?g(r.$document()["$attr?"]("icons","font"))&&be(r["$attr?"]("icon"))?S='<i class="fa icon-'+d+'" title="'+r.$attr("textlabel")+'"></i>':S='<img src="'+r.$icon_uri(d)+'" alt="'+r.$attr("textlabel")+'"'+l.void_element_slash+">":S='<div class="title">'+r.$attr("textlabel")+"</div>","<div"+b+' class="admonitionblock '+d+(g(q=r.$role())?" "+q:"")+`">
<table>
<tr>
<td class="icon">
`+S+`
</td>
<td class="content">
`+f+r.$content()+`
</td>
</tr>
</table>
</div>`}),Te(H,"$convert_audio",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A;return b=l.xml_mode,d=g(r.$id())?' id="'+r.$id()+'"':"",f=["audioblock",r.$role()].$compact(),S=' class="'+f.$join(" ")+'"',q=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",J=r.$attr("start"),G=r.$attr("end"),$e=g(J)||g(G)?"#t="+(g(ke=J)?ke:"")+(g(G)?","+G:""):"","<div"+d+S+`>
`+q+`<div class="content">
<audio src="`+r.$media_uri(r.$attr("target"))+$e+'"'+(g(r["$option?"]("autoplay"))?l.$append_boolean_attribute("autoplay",b):"")+(g(r["$option?"]("nocontrols"))?"":l.$append_boolean_attribute("controls",b))+(g(r["$option?"]("loop"))?l.$append_boolean_attribute("loop",b):"")+`>
Your browser does not support the audio tag.
</audio>
</div>
</div>`}),Te(H,"$convert_colist",function(r){var l,b=this,d=A,f=A,S=A,q=A,J=A,G=A;return d=[],f=g(r.$id())?' id="'+r.$id()+'"':"",S=["colist",r.$style(),r.$role()].$compact(),q=' class="'+S.$join(" ")+'"',d["$<<"]("<div"+f+q+">"),g(r["$title?"]())&&d["$<<"]('<div class="title">'+r.$title()+"</div>"),g(r.$document()["$attr?"]("icons"))?(d["$<<"]("<table>"),l=[r.$document()["$attr?"]("icons","font"),0],J=l[0],G=l[1],We(r.$items(),"each",[],function $e(ke){var He=$e.$$s==null?this:$e.$$s,Ze=A;return He.void_element_slash==null&&(He.void_element_slash=A),ke==null&&(ke=A),G=Pe(G,1),g(J)?Ze='<i class="conum" data-value="'+G+'"></i><b>'+G+"</b>":Ze='<img src="'+r.$icon_uri("callouts/"+G)+'" alt="'+G+'"'+He.void_element_slash+">",d["$<<"](`<tr>
<td>`+Ze+`</td>
<td>`+ke.$text()+(g(ke["$blocks?"]())?Pe(X("LF"),ke.$content()):"")+`</td>
</tr>`)},{$$s:b}),d["$<<"]("</table>")):(d["$<<"]("<ol>"),We(r.$items(),"each",[],function(ke){return ke==null&&(ke=A),d["$<<"](`<li>
<p>`+ke.$text()+"</p>"+(g(ke["$blocks?"]())?Pe(X("LF"),ke.$content()):"")+`
</li>`)}),d["$<<"]("</ol>")),d["$<<"]("</div>"),d.$join(X("LF"))}),Te(H,"$convert_dlist",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A;switch(b=[],d=g(r.$id())?' id="'+r.$id()+'"':"",r.$style()){case"qanda":f=["qlist","qanda",r.$role()];break;case"horizontal":f=["hdlist",r.$role()];break;default:f=["dlist",r.$style(),r.$role()]}switch(S=' class="'+f.$compact().$join(" ")+'"',b["$<<"]("<div"+d+S+">"),g(r["$title?"]())&&b["$<<"]('<div class="title">'+r.$title()+"</div>"),r.$style()){case"qanda":b["$<<"]("<ol>"),We(r.$items(),"each",[],function(ke,He){return ke==null&&(ke=A),He==null&&(He=A),b["$<<"]("<li>"),We(ke,"each",[],function($t){return $t==null&&($t=A),b["$<<"]("<p><em>"+$t.$text()+"</em></p>")}),g(He)&&(g(He["$text?"]())&&b["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&b["$<<"](He.$content())),b["$<<"]("</li>")}),b["$<<"]("</ol>");break;case"horizontal":q=l.void_element_slash,b["$<<"]("<table>"),(g(r["$attr?"]("labelwidth"))||g(r["$attr?"]("itemwidth")))&&(b["$<<"]("<colgroup>"),J=g(r["$attr?"]("labelwidth"))?' style="width: '+r.$attr("labelwidth").$chomp("%")+'%;"':"",b["$<<"]("<col"+J+q+">"),J=g(r["$attr?"]("itemwidth"))?' style="width: '+r.$attr("itemwidth").$chomp("%")+'%;"':"",b["$<<"]("<col"+J+q+">"),b["$<<"]("</colgroup>")),We(r.$items(),"each",[],function(ke,He){var Ze=A;return ke==null&&(ke=A),He==null&&(He=A),b["$<<"]("<tr>"),b["$<<"]('<td class="hdlist1'+(g(r["$option?"]("strong"))?" strong":"")+'">'),Ze=!0,We(ke,"each",[],function(et){return et==null&&(et=A),g(Ze)||b["$<<"]("<br"+q+">"),b["$<<"](et.$text()),Ze=A}),b["$<<"]("</td>"),b["$<<"]('<td class="hdlist2">'),g(He)&&(g(He["$text?"]())&&b["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&b["$<<"](He.$content())),b["$<<"]("</td>"),b["$<<"]("</tr>")}),b["$<<"]("</table>");break;default:b["$<<"]("<dl>"),G=g(r.$style())?"":' class="hdlist1"',We(r.$items(),"each",[],function(ke,He){return ke==null&&(ke=A),He==null&&(He=A),We(ke,"each",[],function($t){return $t==null&&($t=A),b["$<<"]("<dt"+G+">"+$t.$text()+"</dt>")}),g(He)?(b["$<<"]("<dd>"),g(He["$text?"]())&&b["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&b["$<<"](He.$content()),b["$<<"]("</dd>")):A}),b["$<<"]("</dl>")}return b["$<<"]("</div>"),b.$join(X("LF"))}),Te(H,"$convert_example",function(r){var l=A,b=A,d=A,f=A,S=A;return l=g(r.$id())?' id="'+r.$id()+'"':"",g(r["$option?"]("collapsible"))?(b=g(r.$role())?' class="'+r.$role()+'"':"",d=g(r["$title?"]())?'<summary class="title">'+r.$title()+"</summary>":'<summary class="title">Details</summary>',"<details"+l+b+(g(r["$option?"]("open"))?" open":"")+`>
`+d+`
<div class="content">
`+r.$content()+`
</div>
</details>`):(f=g(r["$title?"]())?'<div class="title">'+r.$captioned_title()+`</div>
`:"","<div"+l+' class="exampleblock'+(g(S=r.$role())?" "+S:"")+`">
`+f+`<div class="content">
`+r.$content()+`
</div>
</div>`)}),Te(H,"$convert_floating_title",function(r){var l=A,b=A,d=A;return l="h"+Pe(r.$level(),1),b=g(r.$id())?' id="'+r.$id()+'"':"",d=[r.$style(),r.$role()].$compact(),"<"+l+b+' class="'+d.$join(" ")+'">'+r.$title()+"</"+l+">"}),Te(H,"$convert_image",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A;return b=r.$attr("target"),d=g(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",f=g(r["$attr?"]("height"))?' height="'+r.$attr("height")+'"':"",(g(r["$attr?"]("format","svg"))||g(b["$include?"](".svg")))&&g(De(r.$document().$safe(),Le(X("SafeMode"),"SECURE")))?g(r["$option?"]("inline"))?S=g(q=l.$read_svg_contents(r,b))?q:'<span class="alt">'+r.$alt()+"</span>":g(r["$option?"]("interactive"))?(J=g(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+d+f+l.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",S='<object type="image/svg+xml" data="'+r.$image_uri(b)+'"'+d+f+">"+J+"</object>"):S='<img src="'+r.$image_uri(b)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+d+f+l.void_element_slash+">":S='<img src="'+r.$image_uri(b)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+d+f+l.void_element_slash+">",g(r["$attr?"]("link"))&&(S='<a class="image" href="'+r.$attr("link")+'"'+l.$append_link_constraint_attrs(r).$join()+">"+S+"</a>"),G=g(r.$id())?' id="'+r.$id()+'"':"",$e=["imageblock"],g(r["$attr?"]("float"))&&$e["$<<"](r.$attr("float")),g(r["$attr?"]("align"))&&$e["$<<"]("text-"+r.$attr("align")),g(r.$role())&&$e["$<<"](r.$role()),ke=' class="'+$e.$join(" ")+'"',He=g(r["$title?"]())?`
<div class="title">`+r.$captioned_title()+"</div>":"","<div"+G+ke+`>
<div class="content">
`+S+`
</div>`+He+`
</div>`}),Te(H,"$convert_listing",function(r){var l=A,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A;return l=g(b=r["$option?"]("nowrap"))?b:r.$document()["$attr?"]("prewrap")["$!"](),z(r.$style(),"source")?(d=r.$attr("language"),g(f=r.$document().$syntax_highlighter())?(S=g(f["$highlight?"]())?Z(["css_mode","style"],{css_mode:(g(b=(q=r.$document().$attributes())["$[]"](""+f.$name()+"-css"))?b:"class").$to_sym(),style:q["$[]"](""+f.$name()+"-style")}):Z([],{}),S["$[]="]("nowrap",l)):(J='<pre class="highlight'+(g(l)?" nowrap":"")+'"><code'+(g(d)?' class="language-'+d+'" data-lang="'+d+'"':"")+">",G="</code></pre>")):(J="<pre"+(g(l)?' class="nowrap"':"")+">",G="</pre>"),$e=g(r.$id())?' id="'+r.$id()+'"':"",ke=g(r["$title?"]())?'<div class="title">'+r.$captioned_title()+`</div>
`:"","<div"+$e+' class="listingblock'+(g(He=r.$role())?" "+He:"")+`">
`+ke+`<div class="content">
`+(g(f)?f.$format(r,d,S):Pe(Pe(J,r.$content()),G))+`
</div>
</div>`}),Te(H,"$convert_literal",function(r){var l=A,b=A,d=A,f=A,S=A;return l=g(r.$id())?' id="'+r.$id()+'"':"",b=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",d=g(f=r.$document()["$attr?"]("prewrap")["$!"]())?f:r["$option?"]("nowrap"),"<div"+l+' class="literalblock'+(g(S=r.$role())?" "+S:"")+`">
`+b+`<div class="content">
<pre`+(g(d)?' class="nowrap"':"")+">"+r.$content()+`</pre>
</div>
</div>`}),Te(H,"$convert_stem",function(r){var l,b,d=this,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A;return f=g(r.$id())?' id="'+r.$id()+'"':"",S=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"",b=X("BLOCK_MATH_DELIMITERS")["$[]"](q=r.$style().$to_sym()),l=Oe(b),J=l[0]==null?A:l[0],G=l[1]==null?A:l[1],g($e=r.$content())?(z(q,"asciimath")&&g($e["$include?"](X("LF")))&&(ke=""+X("LF")+"<br"+d.void_element_slash+">",$e=We($e,"gsub",[X("StemBreakRx")],function(){var $t;return""+G+Be(ke,Ge((($t=it["~"])===A?A:$t["$[]"](0)).$count(X("LF")),1))+X("LF")+J})),g($e["$start_with?"](J))&&g($e["$end_with?"](G))||($e=""+J+$e+G)):$e="","<div"+f+' class="stemblock'+(g(He=r.$role())?" "+He:"")+`">
`+S+`<div class="content">
`+$e+`
</div>
</div>`}),Te(H,"$convert_olist",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A;return b=[],d=g(r.$id())?' id="'+r.$id()+'"':"",f=["olist",r.$style(),r.$role()].$compact(),S=' class="'+f.$join(" ")+'"',b["$<<"]("<div"+d+S+">"),g(r["$title?"]())&&b["$<<"]('<div class="title">'+r.$title()+"</div>"),q=g(J=r.$list_marker_keyword())?' type="'+J+'"':"",G=g(r["$attr?"]("start"))?' start="'+r.$attr("start")+'"':"",$e=g(r["$option?"]("reversed"))?l.$append_boolean_attribute("reversed",l.xml_mode):"",b["$<<"]('<ol class="'+r.$style()+'"'+q+G+$e+">"),We(r.$items(),"each",[],function(He){return He==null&&(He=A),g(He.$id())?b["$<<"]('<li id="'+He.$id()+'"'+(g(He.$role())?' class="'+He.$role()+'"':"")+">"):g(He.$role())?b["$<<"]('<li class="'+He.$role()+'">'):b["$<<"]("<li>"),b["$<<"]("<p>"+He.$text()+"</p>"),g(He["$blocks?"]())&&b["$<<"](He.$content()),b["$<<"]("</li>")}),b["$<<"]("</ol>"),b["$<<"]("</div>"),b.$join(X("LF"))}),Te(H,"$convert_open",function(r){var l=this,b=A,d=A,f=A,S=A;return z(b=r.$style(),"abstract")?z(r.$parent(),r.$document())&&z(r.$document().$doctype(),"book")?(l.$logger().$warn("abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(d=g(r.$id())?' id="'+r.$id()+'"':"",f=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+d+' class="quoteblock abstract'+(g(S=r.$role())?" "+S:"")+`">
`+f+`<blockquote>
`+r.$content()+`
</blockquote>
</div>`):z(b,"partintro")&&(g(he(r.$level(),0))||Se(r.$parent().$context(),"section")||Se(r.$document().$doctype(),"book"))?(l.$logger().$error("partintro block can only be used when doctype is book and must be a child of a book part. Excluding block content."),""):(d=g(r.$id())?' id="'+r.$id()+'"':"",f=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+d+' class="openblock'+(g(b)&&Se(b,"open")?" "+b:"")+(g(S=r.$role())?" "+S:"")+`">
`+f+`<div class="content">
`+r.$content()+`
</div>
</div>`)}),Te(H,"$convert_page_break",y('<div style="page-break-after: always;"></div>')),Te(H,"$convert_paragraph",function(r){var l=A;return g(r.$role())?l=(g(r.$id())?' id="'+r.$id()+'"':"")+' class="paragraph '+r.$role()+'"':g(r.$id())?l=' id="'+r.$id()+'" class="paragraph"':l=' class="paragraph"',g(r["$title?"]())?"<div"+l+`>
<div class="title">`+r.$title()+`</div>
<p>`+r.$content()+`</p>
</div>`:"<div"+l+`>
<p>`+r.$content()+`</p>
</div>`}),Xe(H,"convert_pass","content_only"),Te(H,"$convert_preamble",function(r){var l=A,b=A;return g((l=r.$document())["$attr?"]("toc-placement","preamble"))&&g(l["$sections?"]())&&g(l["$attr?"]("toc"))?b=`
<div id="toc" class="`+l.$attr("toc-class","toc")+`">
<div id="toctitle">`+l.$attr("toc-title")+`</div>
`+l.$converter().$convert(l,"outline")+`
</div>`:b="",`<div id="preamble">
<div class="sectionbody">
`+r.$content()+`
</div>`+b+`
</div>`}),Te(H,"$convert_quote",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A;return b=g(r.$id())?' id="'+r.$id()+'"':"",d=["quoteblock",r.$role()].$compact(),f=' class="'+d.$join(" ")+'"',S=g(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",q=g(r["$attr?"]("attribution"))?r.$attr("attribution"):A,J=g(r["$attr?"]("citetitle"))?r.$attr("citetitle"):A,g(q)||g(J)?(G=g(J)?"<cite>"+J+"</cite>":"",$e=g(q)?"&#8212; "+q+(g(J)?"<br"+l.void_element_slash+`>
`:""):"",ke=`
<div class="attribution">
`+$e+G+`
</div>`):ke="","<div"+b+f+">"+S+`
<blockquote>
`+r.$content()+`
</blockquote>`+ke+`
</div>`}),Te(H,"$convert_thematic_break",function(r){var l=this;return"<hr"+l.void_element_slash+">"}),Te(H,"$convert_sidebar",function(r){var l=A,b=A,d=A;return l=g(r.$id())?' id="'+r.$id()+'"':"",b=g(r["$title?"]())?'<div class="title">'+r.$title()+`</div>
`:"","<div"+l+' class="sidebarblock'+(g(d=r.$role())?" "+d:"")+`">
<div class="content">
`+b+r.$content()+`
</div>
</div>`}),Te(H,"$convert_table",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A,Ze=A;return b=[],d=g(r.$id())?' id="'+r.$id()+'"':"",z(f=r.$attr("frame","all","table-frame"),"topbot")&&(f="ends"),S=["tableblock","frame-"+f,"grid-"+r.$attr("grid","all","table-grid")],g(q=r.$attr("stripes",A,"table-stripes"))&&S["$<<"]("stripes-"+q),J="",g(G=r["$option?"]("autowidth"))&&be(r["$attr?"]("width"))?S["$<<"]("fit-content"):z($e=r.$attr("tablepcwidth"),100)?S["$<<"]("stretch"):J=' style="width: '+$e+'%;"',g(r["$attr?"]("float"))&&S["$<<"](r.$attr("float")),g(ke=r.$role())&&S["$<<"](ke),He=' class="'+S.$join(" ")+'"',b["$<<"]("<table"+d+He+J+">"),g(r["$title?"]())&&b["$<<"]('<caption class="title">'+r.$captioned_title()+"</caption>"),g(he(r.$attr("rowcount"),0))&&(Ze=l.void_element_slash,b["$<<"]("<colgroup>"),g(G)?b=Pe(b,X("Array").$new(r.$columns().$size(),"<col"+Ze+">")):We(r.$columns(),"each",[],function(et){return et==null&&(et=A),b["$<<"](g(et["$option?"]("autowidth"))?"<col"+Ze+">":'<col style="width: '+et.$attr("colpcwidth")+'%;"'+Ze+">")}),b["$<<"]("</colgroup>"),We(r.$rows().$to_h(),"each",[],function(et,at){return et==null&&(et=A),at==null&&(at=A),g(at["$empty?"]())?A:(b["$<<"]("<t"+et+">"),We(at,"each",[],function(ft){return ft==null&&(ft=A),b["$<<"]("<tr>"),We(ft,"each",[],function(ht){var dt=A,At=A,yt=A,It=A,St=A,wt=A;if(ht==null&&(ht=A),z(et,"head"))dt=ht.$text();else switch(ht.$style()){case"asciidoc":dt='<div class="content">'+ht.$content()+"</div>";break;case"literal":dt='<div class="literal"><pre>'+ht.$text()+"</pre></div>";break;default:dt=g((dt=ht.$content())["$empty?"]())?"":'<p class="tableblock">'+dt.$join(`</p>
<p class="tableblock">`)+"</p>"}return At=z(et,"head")||z(ht.$style(),"header")?"th":"td",yt=' class="tableblock halign-'+ht.$attr("halign")+" valign-"+ht.$attr("valign")+'"',It=g(ht.$colspan())?' colspan="'+ht.$colspan()+'"':"",St=g(ht.$rowspan())?' rowspan="'+ht.$rowspan()+'"':"",wt=g(r.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+r.$document().$attr("cellbgcolor")+';"':"",b["$<<"]("<"+At+yt+It+St+wt+">"+dt+"</"+At+">")}),b["$<<"]("</tr>")}),b["$<<"]("</t"+et+">"))})),b["$<<"]("</table>"),b.$join(X("LF"))}),Te(H,"$convert_toc",function(r){var l=A,b=A,d=A,f=A,S=A,q=A;return g((l=r.$document())["$attr?"]("toc-placement","macro"))&&g(l["$sections?"]())&&g(l["$attr?"]("toc"))?(g(r.$id())?(b=' id="'+r.$id()+'"',d=' id="'+r.$id()+'title"'):(b=' id="toc"',d=' id="toctitle"'),f=g(r["$title?"]())?r.$title():l.$attr("toc-title"),S=g(r["$attr?"]("levels"))?r.$attr("levels").$to_i():A,q=g(r["$role?"]())?r.$role():l.$attr("toc-class","toc"),"<div"+b+' class="'+q+`">
<div`+d+' class="title">'+f+`</div>
`+l.$converter().$convert(l,"outline",Z(["toclevels"],{toclevels:S}))+`
</div>`):"<!-- toc disabled -->"}),Te(H,"$convert_ulist",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A;return b=[],d=g(r.$id())?' id="'+r.$id()+'"':"",f=["ulist",r.$style(),r.$role()].$compact(),S=q="",g(J=r["$option?"]("checklist"))?(f.$unshift(f.$shift(),"checklist"),G=' class="checklist"',g(r["$option?"]("interactive"))?g(l.xml_mode)?(S='<input type="checkbox" data-item-complete="1" checked="checked"/> ',q='<input type="checkbox" data-item-complete="0"/> '):(S='<input type="checkbox" data-item-complete="1" checked> ',q='<input type="checkbox" data-item-complete="0"> '):g(r.$document()["$attr?"]("icons","font"))?(S='<i class="fa fa-check-square-o"></i> ',q='<i class="fa fa-square-o"></i> '):(S="&#10003; ",q="&#10063; ")):G=g(r.$style())?' class="'+r.$style()+'"':"",b["$<<"]("<div"+d+' class="'+f.$join(" ")+'">'),g(r["$title?"]())&&b["$<<"]('<div class="title">'+r.$title()+"</div>"),b["$<<"]("<ul"+G+">"),We(r.$items(),"each",[],function(ke){return ke==null&&(ke=A),g(ke.$id())?b["$<<"]('<li id="'+ke.$id()+'"'+(g(ke.$role())?' class="'+ke.$role()+'"':"")+">"):g(ke.$role())?b["$<<"]('<li class="'+ke.$role()+'">'):b["$<<"]("<li>"),g(J)&&g(ke["$attr?"]("checkbox"))?b["$<<"]("<p>"+(g(ke["$attr?"]("checked"))?S:q)+ke.$text()+"</p>"):b["$<<"]("<p>"+ke.$text()+"</p>"),g(ke["$blocks?"]())&&b["$<<"](ke.$content()),b["$<<"]("</li>")}),b["$<<"]("</ul>"),b["$<<"]("</div>"),b.$join(X("LF"))}),Te(H,"$convert_verse",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A;return b=g(r.$id())?' id="'+r.$id()+'"':"",d=["verseblock",r.$role()].$compact(),f=' class="'+d.$join(" ")+'"',S=g(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",q=g(r["$attr?"]("attribution"))?r.$attr("attribution"):A,J=g(r["$attr?"]("citetitle"))?r.$attr("citetitle"):A,g(q)||g(J)?(G=g(J)?"<cite>"+J+"</cite>":"",$e=g(q)?"&#8212; "+q+(g(J)?"<br"+l.void_element_slash+`>
`:""):"",ke=`
<div class="attribution">
`+$e+G+`
</div>`):ke="","<div"+b+f+">"+S+`
<pre class="content">`+r.$content()+"</pre>"+ke+`
</div>`}),Te(H,"$convert_video",function(r){var l,b,d=this,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A,Ze=A,$t=A,et=A,at=A,ct=A,ft=A,ut=A,ht=A,dt=A,At=A,yt=A,It=A,St=A,wt=A,Et=A,Ct=A,zt=A,Ot=A,Yt=A,Rt=A,xt=A,qt=A,Bt=A,kt=A,Dt=A,Vt=A,Pt=A,Mt=A,Xt=A;switch(f=d.xml_mode,S=g(r.$id())?' id="'+r.$id()+'"':"",q=["videoblock"],g(r["$attr?"]("float"))&&q["$<<"](r.$attr("float")),g(r["$attr?"]("align"))&&q["$<<"]("text-"+r.$attr("align")),g(r.$role())&&q["$<<"](r.$role()),J=' class="'+q.$join(" ")+'"',G=g(r["$title?"]())?`
<div class="title">`+r.$title()+"</div>":"",$e=g(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",ke=g(r["$attr?"]("height"))?' height="'+r.$attr("height")+'"':"",r.$attr("poster")){case"vimeo":return g((He=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(He=""+He+":"),Ze=g(r["$attr?"]("start"))?"#at="+r.$attr("start"):"",$t=["?"],b=r.$attr("target").$split("/",2),l=Oe(b),et=l[0]==null?A:l[0],at=l[1]==null?A:l[1],ct=g(at=g(ft=at)?ft:r.$attr("hash"))?""+(g(ft=$t.$pop())?ft:"&amp;")+"h="+at:"",ut=g(r["$option?"]("autoplay"))?""+(g(ft=$t.$pop())?ft:"&amp;")+"autoplay=1":"",ht=g(r["$option?"]("loop"))?""+(g(ft=$t.$pop())?ft:"&amp;")+"loop=1":"",dt=g(r["$option?"]("muted"))?""+(g(ft=$t.$pop())?ft:"&amp;")+"muted=1":"","<div"+S+J+">"+G+`
<div class="content">
<iframe`+$e+ke+' src="'+He+"//player.vimeo.com/video/"+et+ct+ut+ht+dt+Ze+'" frameborder="0"'+(g(r["$option?"]("nofullscreen"))?"":d.$append_boolean_attribute("allowfullscreen",f))+`></iframe>
</div>
</div>`;case"youtube":return g((He=r.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||(He=""+He+":"),At=g(r["$option?"]("related"))?1:0,yt=g(r["$attr?"]("start"))?"&amp;start="+r.$attr("start"):"",It=g(r["$attr?"]("end"))?"&amp;end="+r.$attr("end"):"",ut=g(r["$option?"]("autoplay"))?"&amp;autoplay=1":"",ht=g(St=r["$option?"]("loop"))?"&amp;loop=1":"",wt=g(r["$option?"]("muted"))?"&amp;mute=1":"",Et=g(r["$option?"]("nocontrols"))?"&amp;controls=0":"",g(r["$option?"]("nofullscreen"))?(Ct="&amp;fs=0",zt=""):(Ct="",zt=d.$append_boolean_attribute("allowfullscreen",f)),Ot=g(r["$option?"]("modest"))?"&amp;modestbranding=1":"",Yt=g(r["$attr?"]("theme"))?"&amp;theme="+r.$attr("theme"):"",Rt=g(r["$attr?"]("lang"))?"&amp;hl="+r.$attr("lang"):"",b=r.$attr("target").$split("/",2),l=Oe(b),et=l[0]==null?A:l[0],xt=l[1]==null?A:l[1],g(xt=g(ft=xt)?ft:r.$attr("list"))?qt="&amp;list="+xt:(b=et.$split(",",2),l=Oe(b),et=l[0]==null?A:l[0],Bt=l[1]==null?A:l[1],g(Bt=g(ft=Bt)?ft:r.$attr("playlist"))?qt="&amp;playlist="+et+","+Bt:qt=g(St)?"&amp;playlist="+et:""),"<div"+S+J+">"+G+`
<div class="content">
<iframe`+$e+ke+' src="'+He+"//www.youtube.com/embed/"+et+"?rel="+At+yt+It+ut+ht+wt+Et+qt+Ct+Ot+Yt+Rt+'" frameborder="0"'+zt+`></iframe>
</div>
</div>`;default:return kt=g((Dt=r.$attr("poster"))["$nil_or_empty?"]())?"":' poster="'+r.$media_uri(Dt)+'"',Vt=g((Dt=r.$attr("preload"))["$nil_or_empty?"]())?"":' preload="'+Dt+'"',Pt=r.$attr("start"),Mt=r.$attr("end"),Xt=g(Pt)||g(Mt)?"#t="+(g(ft=Pt)?ft:"")+(g(Mt)?","+Mt:""):"","<div"+S+J+">"+G+`
<div class="content">
<video src="`+r.$media_uri(r.$attr("target"))+Xt+'"'+$e+ke+kt+(g(r["$option?"]("autoplay"))?d.$append_boolean_attribute("autoplay",f):"")+(g(r["$option?"]("muted"))?d.$append_boolean_attribute("muted",f):"")+(g(r["$option?"]("nocontrols"))?"":d.$append_boolean_attribute("controls",f))+(g(r["$option?"]("loop"))?d.$append_boolean_attribute("loop",f):"")+Vt+`>
Your browser does not support the video tag.
</video>
</div>
</div>`}}),Te(H,"$convert_inline_anchor",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A;switch(r.$type()){case"xref":return g(b=r.$attributes()["$[]"]("path"))?(d=l.$append_link_constraint_attrs(r,g(r.$role())?[' class="'+r.$role()+'"']:[]).$join(),f=g(S=r.$text())?S:b):(d=g(r.$role())?' class="'+r.$role()+'"':"",g(f=r.$text())||(m(X("AbstractNode"),q=g(S=(l.refs=g(J=l.refs)?J:r.$document().$catalog()["$[]"]("refs"))["$[]"](G=r.$attributes()["$[]"]("refid")))?S:g(G["$nil_or_empty?"]())?$e=l.$get_root_document(r):A)?g(l.resolving_xref=g(S=l.resolving_xref)?S:ke=!0)&&g(ke)?(g(f=q.$xreftext(r.$attr("xrefstyle",A,!0)))?g(f["$include?"]("<a"))&&(f=f.$gsub(X("DropAnchorRx"),"")):f=g($e)?"[^top]":"["+G+"]",l.resolving_xref=A):f=g($e)?"[^top]":"["+G+"]":f="["+G+"]")),'<a href="'+r.$target()+'"'+d+">"+f+"</a>";case"ref":return'<a id="'+r.$id()+'"></a>';case"link":return d=g(r.$id())?[' id="'+r.$id()+'"']:[],g(r.$role())&&d["$<<"](' class="'+r.$role()+'"'),g(r["$attr?"]("title"))&&d["$<<"](' title="'+r.$attr("title")+'"'),'<a href="'+r.$target()+'"'+l.$append_link_constraint_attrs(r,d).$join()+">"+r.$text()+"</a>";case"bibref":return'<a id="'+r.$id()+'"></a>['+(g(S=r.$reftext())?S:r.$id())+"]";default:return l.$logger().$warn("unknown anchor type: "+r.$type().$inspect()),A}}),Te(H,"$convert_inline_break",function(r){var l=this;return""+r.$text()+"<br"+l.void_element_slash+">"}),Te(H,"$convert_inline_button",function(r){return'<b class="button">'+r.$text()+"</b>"}),Te(H,"$convert_inline_callout",function(r){var l=this,b=A,d=A;return g(r.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+r.$text()+'"></i><b>('+r.$text()+")</b>":g(r.$document()["$attr?"]("icons"))?(b=r.$icon_uri("callouts/"+r.$text()),'<img src="'+b+'" alt="'+r.$text()+'"'+l.void_element_slash+">"):m(Le("Array"),d=r.$attributes()["$[]"]("guard"))?'&lt;!--<b class="conum">('+r.$text()+")</b>--&gt;":""+d+'<b class="conum">('+r.$text()+")</b>"}),Te(H,"$convert_inline_footnote",function(r){var l=A,b=A;return g(l=r.$attr("index"))?z(r.$type(),"xref")?'<sup class="footnoteref">[<a class="footnote" href="#_footnotedef_'+l+'" title="View footnote.">'+l+"</a>]</sup>":(b=g(r.$id())?' id="_footnote_'+r.$id()+'"':"",'<sup class="footnote"'+b+'>[<a id="_footnoteref_'+l+'" class="footnote" href="#_footnotedef_'+l+'" title="View footnote.">'+l+"</a>]</sup>"):z(r.$type(),"xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+r.$text()+"]</sup>":A}),Te(H,"$convert_inline_image",function(r){var l=this,b=A,d=A,f=A,S=A,q=A,J=A,G=A,$e=A,ke=A,He=A;return b=r.$target(),z(d=g(f=r.$type())?f:"image","icon")?z(S=r.$document().$attr("icons"),"font")?(q="fa fa-"+b,g(r["$attr?"]("size"))&&(q=""+q+" fa-"+r.$attr("size")),g(r["$attr?"]("flip"))?q=""+q+" fa-flip-"+r.$attr("flip"):g(r["$attr?"]("rotate"))&&(q=""+q+" fa-rotate-"+r.$attr("rotate")),J=g(r["$attr?"]("title"))?' title="'+r.$attr("title")+'"':"",G='<i class="'+q+'"'+J+"></i>"):g(S)?(J=g(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",g(r["$attr?"]("height"))&&(J=""+J+' height="'+r.$attr("height")+'"'),g(r["$attr?"]("title"))&&(J=""+J+' title="'+r.$attr("title")+'"'),G='<img src="'+r.$icon_uri(b)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+J+l.void_element_slash+">"):G="["+r.$alt()+"&#93;":(J=g(r["$attr?"]("width"))?' width="'+r.$attr("width")+'"':"",g(r["$attr?"]("height"))&&(J=""+J+' height="'+r.$attr("height")+'"'),g(r["$attr?"]("title"))&&(J=""+J+' title="'+r.$attr("title")+'"'),(g(r["$attr?"]("format","svg"))||g(b["$include?"](".svg")))&&g(De(r.$document().$safe(),Le(X("SafeMode"),"SECURE")))?g(r["$option?"]("inline"))?G=g(f=l.$read_svg_contents(r,b))?f:'<span class="alt">'+r.$alt()+"</span>":g(r["$option?"]("interactive"))?($e=g(r["$attr?"]("fallback"))?'<img src="'+r.$image_uri(r.$attr("fallback"))+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+J+l.void_element_slash+">":'<span class="alt">'+r.$alt()+"</span>",G='<object type="image/svg+xml" data="'+r.$image_uri(b)+'"'+J+">"+$e+"</object>"):G='<img src="'+r.$image_uri(b)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+J+l.void_element_slash+">":G='<img src="'+r.$image_uri(b)+'" alt="'+l.$encode_attribute_value(r.$alt())+'"'+J+l.void_element_slash+">"),g(r["$attr?"]("link"))&&(G='<a class="image" href="'+r.$attr("link")+'"'+l.$append_link_constraint_attrs(r).$join()+">"+G+"</a>"),ke=d,g(He=r.$role())?ke=g(r["$attr?"]("float"))?""+ke+" "+r.$attr("float")+" "+He:""+ke+" "+He:g(r["$attr?"]("float"))&&(ke=""+ke+" "+r.$attr("float")),'<span class="'+ke+'">'+G+"</span>"}),Te(H,"$convert_inline_indexterm",function(r){return z(r.$type(),"visible")?r.$text():""}),Te(H,"$convert_inline_kbd",function(r){var l=A;return z((l=r.$attr("keys")).$size(),1)?"<kbd>"+l["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+l.$join("</kbd>+<kbd>")+"</kbd></span>"}),Te(H,"$convert_inline_menu",function(r){var l=A,b=A,d=A,f=A,S=A;return l=g(r.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',b="</b>"+l+'<b class="submenu">',d=r.$attr("menu"),g((f=r.$attr("submenus"))["$empty?"]())?g(S=r.$attr("menuitem"))?'<span class="menuseq"><b class="menu">'+d+"</b>"+l+'<b class="menuitem">'+S+"</b></span>":'<b class="menuref">'+d+"</b>":'<span class="menuseq"><b class="menu">'+d+"</b>"+l+'<b class="submenu">'+f.$join(b)+"</b>"+l+'<b class="menuitem">'+r.$attr("menuitem")+"</b></span>"}),Te(H,"$convert_inline_quoted",function(r){var l,b,d=A,f=A,S=A,q=A;return b=X("QUOTE_TAGS")["$[]"](r.$type()),l=Oe(b),d=l[0]==null?A:l[0],f=l[1]==null?A:l[1],S=l[2]==null?A:l[2],g(r.$id())?(q=g(r.$role())?' class="'+r.$role()+'"':"",g(S)?""+d.$chop()+' id="'+r.$id()+'"'+q+">"+r.$text()+f:'<span id="'+r.$id()+'"'+q+">"+d+r.$text()+f+"</span>"):g(r.$role())?g(S)?""+d.$chop()+' class="'+r.$role()+'">'+r.$text()+f:'<span class="'+r.$role()+'">'+d+r.$text()+f+"</span>":""+d+r.$text()+f}),Te(H,"$read_svg_contents",function(r,l){var b=A,d=A,f=A,S=A;if(g(b=r.$read_contents(l,Z(["start","normalize","label","warn_if_empty"],{start:r.$document().$attr("imagesdir"),normalize:!0,label:"SVG",warn_if_empty:!0})))){if(g(b["$empty?"]()))return A;g(b["$start_with?"]("<svg"))||(b=b.$sub(X("SvgPreambleRx"),"")),d=f=S=A,We(["width","height"],"each",[],function(J){var G=A,$e=A;if(J==null&&(J=A),!g(r["$attr?"](J)))return A;if(!g(f)){if(z(S=g(G=S)?G:g($e=b.$match(X("SvgStartTagRx")))?$e:"no_match","no_match"))return A;f=(d=S["$[]"](0)).$gsub(X("DimensionAttributeRx"),"")}return f=""+f.$chop()+" "+J+'="'+r.$attr(J)+'">'}),g(f)&&(b=""+f+b["$[]"](t.Range.$new(d.$length(),-1,!1)))}return b}),H.$private(),Te(H,"$append_boolean_attribute",function(r,l){return g(l)?" "+r+'="'+r+'"':" "+r}),Te(H,"$append_link_constraint_attrs",function(r,l){var b=A,d=A;return l==null&&(l=[]),g(r["$option?"]("nofollow"))&&(b="nofollow"),g(d=r.$attributes()["$[]"]("window"))?(l["$<<"](' target="'+d+'"'),(z(d,"_blank")||g(r["$option?"]("noopener")))&&l["$<<"](g(b)?' rel="'+b+' noopener"':' rel="noopener"')):g(b)&&l["$<<"](' rel="'+b+'"'),l},-2),Te(H,"$encode_attribute_value",function(r){return g(r["$include?"]('"'))?r.$gsub('"',"&quot;"):r}),Te(H,"$generate_manname_section",function(r){var l=A,b=A,d=A,f=A,S=A;return l=r.$attr("manname-title","Name"),g(d=r.$sections()["$[]"](0))&&z(b=d.$title(),b.$upcase())&&(l=l.$upcase()),f=g(S=r.$attr("manname-id"))?' id="'+S+'"':"","<h2"+f+">"+l+`</h2>
<div class="sectionbody">
<p>`+r.$attr("mannames").$join(", ")+" - "+r.$attr("manpurpose")+`</p>
</div>`}),Te(H,"$get_root_document",function(r){for(;g((r=r.$document())["$nested?"]());)r=r.$parent_document();return r}),Te(H,"$method_missing",function u(r,l){var b,d,f=u.$$p||A,S=this,q=A;return u.$$p=null,b=Je(arguments,1),d=b,be((q=r.$to_s())["$start_with?"]("convert_"))&&g(S["$handles?"](q))?We(S,"send",["convert_"+q].concat(rt(d))):N(S,ve(S,"method_missing",u,!1,!0),"method_missing",[r].concat(rt(d)),f)},-2),Te(H,"$respond_to_missing?",function(r,l){var b=this,d=A,f=A;return Je(arguments,1),g(d=(f=r.$to_s())["$start_with?"]("convert_")["$!"]())?b["$handles?"](f):d},-2)}(ee("Converter"),Le(ee("Converter"),"Base"),W)}(L[0],L)},Opal.modules["asciidoctor/extensions"]=function(t){var Y=t.module,U=t.klass,T=t.truthy,Z=t.hash2,c=t.def,z=t.send,Te=t.alias,N=t.slice,ve=t.rb_plus,g=t.eqeq,We=t.rb_gt,he=t.not,Pe=t.eqeqeq,be=t.to_a,Se=t.to_ary,st=t.const_set,De=t.return_val,Oe=t.send2,Be=t.find_super,Ge=t.NilClass,it=t.class_variable_set,y=t.class_variable_get,Xe=t.regexp,m=t.Class,Je=t.return_ivar,rt=t.rb_lt,L=t.rb_minus,A=t.hash,Le=[],se=t.nil,ge=t.$$$;return t.add_stubs("[]=,config,const_defined?,singleton_class?,include,const_get,extend,enable_dsl,attr_reader,merge,class,update,raise,document,==,doctype,[],+,level,delete,>,casecmp,new,title=,sectname=,special=,fetch,numbered=,attr?,!,key?,special,numbered,id=,generate_id,title,update_attributes,tr,basename,create_block,assign_caption,===,parse_blocks,empty?,include?,sub_attributes,parse,each,define_method,unshift,shift,send,size,receiver,binding,define_singleton_method,instance_exec,to_proc,call,option,content_model,flatten,positional_attributes,default_attributes,respond_to?,to_s,partition,to_i,<<,compact,inspect,resolve_attributes,attr_accessor,to_set,contexts,match?,resolve_regexp,format,method,register,reset,values,groups,arity,activate,add_document_processor,tree_processor,tree_processors?,tree_processors,any?,select,add_syntax_processor,to_sym,instance_variable_get,kind,private,join,map,split,capitalize,instance_variable_set,resolve_args,singleton_class,process_block_given?,source_location,freeze,resolve_class,<,update_config,as_symbol,name,name=,pop,-,-@,next_auto_id,generate_name,each_with_object"),function(fe,W){var ee=Y(fe,"Asciidoctor"),M=[ee].concat(W);return function(C,k){var H=Y(C,"Extensions"),j=[H].concat(k),X=t.$r(j);return function(R,u,r){var l=U(R,u,"Processor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.config=se,function(S,q){return c(S,"$config",function(){var G=this,$e=se;return G.config==null&&(G.config=se),G.config=T($e=G.config)?$e:Z([],{})}),c(S,"$option",function(G,$e){var ke,He=this;return ke=[G,$e],z(He.$config(),"[]=",ke),ke[ke.length-1]}),c(S,"$enable_dsl",function(){var G=this;return T(G["$const_defined?"]("DSL"))?T(G["$singleton_class?"]())?G.$include(G.$const_get("DSL")):G.$extend(G.$const_get("DSL")):se}),Te(S,"use_dsl","enable_dsl")}(t.get_singleton_class(l)),l.$attr_reader("config"),c(l,"$initialize",function(q){var J=this;return q==null&&(q=Z([],{})),J.config=J.$class().$config().$merge(q)},-1),c(l,"$update_config",function(q){var J=this;return J.config.$update(q)}),c(l,"$process",function(q){var J=this;return N(arguments),J.$raise(ge("NotImplementedError"),""+d("Processor")+" subclass "+J.$class()+" must implement the #process method")},-1),c(l,"$create_section",function(q,J,G,$e){var ke,He,Ze=se,$t=se,et=se,at=se,ct=se,ft=se,ut=se,ht=se,dt=se,At=se;return $e==null&&($e=Z([],{})),Ze=q.$document(),$t=(et=Ze.$doctype())["$=="]("book"),at=T(ct=$e["$[]"]("level"))?ct:ve(q.$level(),1),T(ft=G.$delete("style"))?T($t)&&g(ft,"abstract")?(ke=["chapter",1],ut=ke[0],at=ke[1]):(ke=[ft,!0],ut=ke[0],ht=ke[1],g(at,0)&&(at=1)):T($t)?ut=g(at,0)?"part":T(We(at,1))?"section":"chapter":g(et,"manpage")&&g(J.$casecmp("synopsis"),0)?(ke=["synopsis",!0],ut=ke[0],ht=ke[1]):ut="section",dt=d("Section").$new(q,at),ke=[J,ut],He=[ke[0]],z(dt,"title=",He),He[He.length-1],He=[ke[1]],z(dt,"sectname=",He),He[He.length-1],T(ht)?(dt["$special="](!0),T($e.$fetch("numbered",ft["$=="]("appendix")))?dt["$numbered="](!0):he($e["$key?"]("numbered"))&&T(Ze["$attr?"]("sectnums","all"))&&dt["$numbered="](T($t)&&g(at,1)?"chapter":!0)):T(We(at,0))?T($e.$fetch("numbered",Ze["$attr?"]("sectnums")))&&dt["$numbered="](T(dt.$special())?T(ct=q.$numbered())||ct:!0):T($e.$fetch("numbered",T(ct=$t)?Ze["$attr?"]("partnums"):ct))&&dt["$numbered="](!0),g(At=G["$[]"]("id"),!1)?G.$delete("id"):dt["$id="]((ke=["id",T(ct=At)?ct:T(Ze["$attr?"]("sectids"))?d("Section").$generate_id(dt.$title(),Ze):se],z(G,"[]=",ke),ke[ke.length-1])),dt.$update_attributes(G),dt},-4),c(l,"$create_block",function(q,J,G,$e,ke){return ke==null&&(ke=Z([],{})),d("Block").$new(q,J,Z(["source","attributes"],{source:G,attributes:$e}).$merge(ke))},-5),c(l,"$create_list",function(q,J,G){var $e=se;return G==null&&(G=se),$e=d("List").$new(q,J),T(G)&&$e.$update_attributes(G),$e},-3),c(l,"$create_list_item",function(q,J){return J==null&&(J=se),d("ListItem").$new(q,J)},-2),c(l,"$create_image_block",function(q,J,G){var $e,ke=this,He=se,Ze=se,$t=se;return G==null&&(G=Z([],{})),T(He=J["$[]"]("target"))||ke.$raise(ge("ArgumentError"),"Unable to create an image block, target attribute is required"),T(J["$[]"]("alt"))||J["$[]="]("alt",($e=["default-alt",d("Helpers").$basename(He,!0).$tr("_-"," ")],z(J,"[]=",$e),$e[$e.length-1])),Ze=T(J["$key?"]("title"))?J.$delete("title"):se,$t=ke.$create_block(q,"image",se,J,G),T(Ze)&&($t["$title="](Ze),$t.$assign_caption(J.$delete("caption"),"figure")),$t},-3),c(l,"$create_inline",function(q,J,G,$e){return $e==null&&($e=Z([],{})),d("Inline").$new(q,J,G,g(J,"quoted")?Z(["type"],{type:"unquoted"}).$merge($e):$e)},-4),c(l,"$parse_content",function(q,J,G){var $e=se;return G==null&&(G=se),$e=Pe(d("Reader"),J)?J:d("Reader").$new(J),d("Parser").$parse_blocks($e,q,G),q},-3),c(l,"$parse_attributes",function(q,J,G){var $e=se;return G==null&&(G=Z([],{})),T(T(J)?J["$empty?"]():!0)?Z([],{}):(T(G["$[]"]("sub_attributes"))&&T(J["$include?"](d("ATTR_REF_HEAD")))&&(J=q.$sub_attributes(J)),d("AttributeList").$new(J).$parse(T($e=G["$[]"]("positional_attributes"))?$e:[]))},-3),z([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"],["create_inline_pass","create_inline","quoted"]],"each",[],function S(q,J,G){var $e=S.$$s==null?this:S.$$s;return q==null&&(q=se),J==null&&(J=se),G==null&&(G=se),z($e,"define_method",[q],function ke(He){var Ze,$t,et=ke.$$s==null?this:ke.$$s;return Ze=N(arguments),$t=Ze,$t.$unshift($t.$shift(),G),z(et,"send",[J].concat(be($t)))},{$$arity:-1,$$s:$e})},{$$s:l})}(j[0],null,j),function(R){var u=Y(R,"ProcessorDsl");return c(u,"$option",function(l,b){var d,f=this;return d=[l,b],z(f.$config(),"[]=",d),d[d.length-1]}),c(u,"$process",function r(l){var b=r.$$p||se,d,f,S,q=this,J=se;return q.process_block==null&&(q.process_block=se),r.$$p=null,d=N(arguments),f=d,b!==se?(T(f["$empty?"]())||q.$raise(ge("ArgumentError"),"wrong number of arguments (given "+f.$size()+", expected 0)"),T(b.$binding())&&g(q,b.$binding().$receiver())||(J=q,z(b,"define_singleton_method",["call"],function($e){var ke,He;return ke=N(arguments),He=ke,z(J,"instance_exec",be(He),b.$to_proc())},-1)),q.process_block=b):T((S=q.process_block,S!=null&&S!==se?"instance-variable":se))?z(q.process_block,"call",be(f)):q.$raise(ge("NotImplementedError"),""+q.$class()+" #process method called before being registered")},-1),c(u,"$process_block_given?",function(){var l,b=this;return l=b.process_block,l!=null&&l!==se?"instance-variable":se})}(j[0]),function(R,u){var r=Y(R,"DocumentProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("ProcessorDsl")),c(r,"$prefer",function(){var f=this;return f.$option("position",">>")})}(j[0],j),function(R,u){var r=Y(R,"SyntaxProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("ProcessorDsl")),c(r,"$named",function(f){var S=this;return Pe(b("Processor"),S)?S.name=f:S.$option("name",f)}),c(r,"$content_model",function(f){var S=this;return S.$option("content_model",f)}),Te(r,"parse_content_as","content_model"),c(r,"$positional_attributes",function(f){var S,q,J=this;return S=N(arguments),q=S,J.$option("positional_attrs",q.$flatten())},-1),Te(r,"name_positional_attributes","positional_attributes"),Te(r,"positional_attrs","positional_attributes"),c(r,"$default_attributes",function(f){var S=this;return S.$option("default_attrs",f)}),Te(r,"default_attrs","default_attributes"),c(r,"$resolve_attributes",function(f){var S,q,J,G=this,$e=se,ke=se,He=se;return S=N(arguments),q=S,T(We(q.$size(),1))||T((q=q.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(q=[q]),Pe(!0,$e=q)?(G.$option("positional_attrs",[]),G.$option("default_attrs",Z([],{}))):Pe(ge("Array"),$e)?(J=[[],Z([],{})],ke=J[0],He=J[1],z(q,"each",[],function($t){var et,at,ct=se,ft=se,ut=se;return $t==null&&($t=se),T(($t=$t.$to_s())["$include?"]("="))?(at=$t.$partition("="),et=Se(at),ct=et[0]==null?se:et[0],et[1]==null||et[1],ft=et[2]==null?se:et[2],T(ct["$include?"](":"))&&(at=ct.$partition(":"),et=Se(at),ut=et[0]==null?se:et[0],et[1]==null||et[1],ct=et[2]==null?se:et[2],ut=g(ut,"@")?ke.$size():ut.$to_i(),ke["$[]="](ut,ct)),et=[ct,ft],z(He,"[]=",et),et[et.length-1]):T($t["$include?"](":"))?(at=$t.$partition(":"),et=Se(at),ut=et[0]==null?se:et[0],et[1]==null||et[1],ct=et[2]==null?se:et[2],ut=g(ut,"@")?ke.$size():ut.$to_i(),et=[ut,ct],z(ke,"[]=",et),et[et.length-1]):ke["$<<"]($t)}),G.$option("positional_attrs",ke.$compact()),G.$option("default_attrs",He)):Pe(ge("Hash"),$e)?(J=[[],Z([],{})],ke=J[0],He=J[1],z(q,"each",[],function($t,et){var at,ct,ft=se,ut=se;return $t==null&&($t=se),et==null&&(et=se),T((ft=$t.$to_s())["$include?"](":"))&&(ct=ft.$partition(":"),at=Se(ct),ut=at[0]==null?se:at[0],at[1]==null||at[1],ft=at[2]==null?se:at[2],ut=g(ut,"@")?ke.$size():ut.$to_i(),ke["$[]="](ut,ft)),T(et)?(at=[ft,et],z(He,"[]=",at),at[at.length-1]):se}),G.$option("positional_attrs",ke.$compact()),G.$option("default_attrs",He)):G.$raise(ge("ArgumentError"),"unsupported attributes specification for macro: "+q.$inspect())},-1),Te(r,"resolves_attributes","resolve_attributes")}(j[0],j),function(R,u,r){var l=U(R,u,"Preprocessor"),b=[l].concat(r),d=t.$r(b);return c(l,"$process",function(S,q){var J=this;return J.$raise(ge("NotImplementedError"),""+d("Preprocessor")+" subclass "+J.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),st(X("Preprocessor"),"DSL",X("DocumentProcessorDsl")),function(R,u,r){var l=U(R,u,"TreeProcessor"),b=[l].concat(r),d=t.$r(b);return c(l,"$process",function(S){var q=this;return q.$raise(ge("NotImplementedError"),""+d("TreeProcessor")+" subclass "+q.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),st(X("TreeProcessor"),"DSL",X("DocumentProcessorDsl")),st(j[0],"Treeprocessor",X("TreeProcessor")),function(R,u,r){var l=U(R,u,"Postprocessor"),b=[l].concat(r),d=t.$r(b);return c(l,"$process",function(S,q){var J=this;return J.$raise(ge("NotImplementedError"),""+d("Postprocessor")+" subclass "+J.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),st(X("Postprocessor"),"DSL",X("DocumentProcessorDsl")),function(R,u,r){var l=U(R,u,"IncludeProcessor"),b=[l].concat(r),d=t.$r(b);return c(l,"$process",function(S,q,J,G){var $e=this;return $e.$raise(ge("NotImplementedError"),""+d("IncludeProcessor")+" subclass "+$e.$class()+" must implement the #process method")}),c(l,"$handles?",De(!0))}(j[0],X("Processor"),j),function(R,u){var r=Y(R,"IncludeProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("DocumentProcessorDsl")),c(r,"$handles?",function d(f){var S=d.$$p||se,q,J,G,$e=this;return $e.handles_block==null&&($e.handles_block=se),d.$$p=null,q=N(arguments),J=q,S!==se?(T(J["$empty?"]())||$e.$raise(ge("ArgumentError"),"wrong number of arguments (given "+J.$size()+", expected 0)"),$e.handles_block=S):T((G=$e.handles_block,G!=null&&G!==se?"instance-variable":se))?$e.handles_block.$call(J["$[]"](0)):!0},-1)}(j[0],j),st(X("IncludeProcessor"),"DSL",X("IncludeProcessorDsl")),function(R,u,r){var l=U(R,u,"DocinfoProcessor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.config=se,c(l,"$initialize",function S(q){var J;S.$$p;var G=this,$e=se;return S.$$p=null,q==null&&(q=Z([],{})),Oe(G,Be(G,"initialize",S,!1,!0),"initialize",[q],null),T($e=G.config["$[]"]("location"))?$e:(J=["location","head"],z(G.config,"[]=",J),J[J.length-1])},-1),c(l,"$process",function(q){var J=this;return J.$raise(ge("NotImplementedError"),""+d("DocinfoProcessor")+" subclass "+J.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),function(R,u){var r=Y(R,"DocinfoProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("DocumentProcessorDsl")),c(r,"$at_location",function(f){var S=this;return S.$option("location",f)})}(j[0],j),st(X("DocinfoProcessor"),"DSL",X("DocinfoProcessorDsl")),function(R,u,r){var l=U(R,u,"BlockProcessor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.config=se,l.$attr_accessor("name"),c(l,"$initialize",function S(q,J){var G;S.$$p;var $e=this,ke=se;return S.$$p=null,q==null&&(q=se),J==null&&(J=Z([],{})),Oe($e,Be($e,"initialize",S,!1,!0),"initialize",[J],null),$e.name=T(ke=q)?ke:$e.config["$[]"]("name"),Pe(Ge,ke=$e.config["$[]"]("contexts"))?T($e.config["$[]"]("contexts"))||$e.config["$[]="]("contexts",["open","paragraph"].$to_set()):Pe(ge("Symbol"),ke)?$e.config["$[]="]("contexts",[$e.config["$[]"]("contexts")].$to_set()):$e.config["$[]="]("contexts",$e.config["$[]"]("contexts").$to_set()),T(ke=$e.config["$[]"]("content_model"))?ke:(G=["content_model","compound"],z($e.config,"[]=",G),G[G.length-1])},-1),c(l,"$process",function(q,J,G){var $e=this;return $e.$raise(ge("NotImplementedError"),""+d("BlockProcessor")+" subclass "+$e.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),function(R,u){var r=Y(R,"BlockProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("SyntaxProcessorDsl")),c(r,"$contexts",function(f){var S,q,J=this;return S=N(arguments),q=S,J.$option("contexts",q.$flatten().$to_set())},-1),Te(r,"on_contexts","contexts"),Te(r,"on_context","contexts"),Te(r,"bind_to","contexts")}(j[0],j),st(X("BlockProcessor"),"DSL",X("BlockProcessorDsl")),function(R,u,r){var l=U(R,u,"MacroProcessor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.config=se,l.$attr_accessor("name"),c(l,"$initialize",function S(q,J){var G;S.$$p;var $e=this,ke=se;return S.$$p=null,q==null&&(q=se),J==null&&(J=Z([],{})),Oe($e,Be($e,"initialize",S,!1,!0),"initialize",[J],null),$e.name=T(ke=q)?ke:$e.config["$[]"]("name"),T(ke=$e.config["$[]"]("content_model"))?ke:(G=["content_model","attributes"],z($e.config,"[]=",G),G[G.length-1])},-1),c(l,"$process",function(q,J,G){var $e=this;return $e.$raise(ge("NotImplementedError"),""+d("MacroProcessor")+" subclass "+$e.$class()+" must implement the #process method")})}(j[0],X("Processor"),j),function(R,u){var r=Y(R,"MacroProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("SyntaxProcessorDsl")),c(r,"$resolve_attributes",function d(f){var S,q,J=d.$$p||se,G=this;return d.$$p=null,S=N(arguments),q=S,g(q.$size(),1)&&he(q["$[]"](0))?G.$option("content_model","text"):(Oe(G,Be(G,"resolve_attributes",d,!1,!0),"resolve_attributes",be(q),J),G.$option("content_model","attributes"))},-1),Te(r,"resolves_attributes","resolve_attributes")}(j[0],j),function(R,u,r){var l=U(R,u,"BlockMacroProcessor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.name=se,c(l,"$name",function(){var q=this;return T(d("MacroNameRx")["$match?"](q.name.$to_s()))||q.$raise(ge("ArgumentError"),"invalid name for block macro: "+q.name),q.name})}(j[0],X("MacroProcessor"),j),st(X("BlockMacroProcessor"),"DSL",X("MacroProcessorDsl")),function(R,u,r){var l=U(R,u,"InlineMacroProcessor"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.config=f.name=se,it(b[0],"@@rx_cache",Z([],{})),c(l,"$regexp",function(){var q,J=this,G=se;return T(G=J.config["$[]"]("regexp"))?G:(q=["regexp",J.$resolve_regexp(J.name.$to_s(),J.config["$[]"]("format"))],z(J.config,"[]=",q),q[q.length-1])}),c(l,"$resolve_regexp",function(q,J){var G,$e=this,ke=se;return T(d("MacroNameRx")["$match?"](q))||$e.$raise(ge("ArgumentError"),"invalid name for inline macro: "+q),T(ke=y(b[0],"@@rx_cache",!1)["$[]"]([q,J]))?ke:(G=[[q,J],Xe(["\\\\?",q,":",g(J,"short")?"(){0}":"(\\S+?)","\\[(|",d("CC_ANY"),"*?[^\\\\])\\]"])],z(y(b[0],"@@rx_cache",!1),"[]=",G),G[G.length-1])})}(j[0],X("MacroProcessor"),j),function(R,u){var r=Y(R,"InlineMacroProcessorDsl"),l=[r].concat(u),b=t.$r(l);return r.$include(b("MacroProcessorDsl")),c(r,"$format",function(f){var S=this;return S.$option("format",f)}),Te(r,"match_format","format"),Te(r,"using_format","format"),c(r,"$match",function(f){var S=this;return S.$option("regexp",f)})}(j[0],j),st(X("InlineMacroProcessor"),"DSL",X("InlineMacroProcessorDsl")),function(R,u){var r=U(R,u,"Extension");return r.$attr_reader("kind"),r.$attr_reader("config"),r.$attr_reader("instance"),c(r,"$initialize",function(b,d,f){var S=this;return S.kind=b,S.instance=d,S.config=f})}(j[0],null),function(R,u){var r=U(R,u,"ProcessorExtension");return r.$attr_reader("process_method"),c(r,"$initialize",function l(b,d,f){l.$$p;var S=this,q=se;return l.$$p=null,f==null&&(f=se),Oe(S,Be(S,"initialize",l,!1,!0),"initialize",[b,d,d.$config()],null),S.process_method=T(q=f)?q:d.$method("process")},-3)}(j[0],X("Extension")),function(R,u,r){var l=U(R,u,"Group"),b=[l].concat(r);return function(d,f){var S=[d].concat(f),q=t.$r(S);return c(d,"$register",function(G){var $e=this;return G==null&&(G=se),q("Extensions").$register(G,$e)},-1)}(t.get_singleton_class(l),b),c(l,"$activate",function(f){var S=this;return S.$raise(ge("NotImplementedError"))})}(j[0],null,j),function(R,u,r){var l=U(R,u,"Registry"),b=[l].concat(r),d=t.$r(b),f=l.$$prototype;return f.document=f.groups=f.preprocessor_extensions=f.tree_processor_extensions=f.postprocessor_extensions=f.include_processor_extensions=f.docinfo_processor_extensions=f.block_extensions=f.block_macro_extensions=f.inline_macro_extensions=se,l.$attr_reader("document"),l.$attr_reader("groups"),c(l,"$initialize",function(q){var J=this;return q==null&&(q=Z([],{})),J.groups=q,J.$reset(),J.preprocessor_extensions=J.tree_processor_extensions=J.postprocessor_extensions=J.include_processor_extensions=J.docinfo_processor_extensions=J.block_extensions=J.block_macro_extensions=J.inline_macro_extensions=se,J.document=se},-1),c(l,"$activate",function(q){var J=this,G=se;return T(J.document)&&J.$reset(),J.document=q,T((G=ve(d("Extensions").$groups().$values(),J.groups.$values()))["$empty?"]())||z(G,"each",[],function $e(ke){var He=$e.$$s==null?this:$e.$$s,Ze=se;if(ke==null&&(ke=se),Pe(ge("Proc"),Ze=ke))switch(ke.$arity()){case 0:case-1:return z(He,"instance_exec",[],ke.$to_proc());case 1:return ke.$call(He);default:return se}else return Pe(m,Ze)?ke.$new().$activate(He):ke.$activate(He)},{$$s:J}),J}),c(l,"$preprocessor",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_document_processor",["preprocessor",$e],J.$to_proc())},-1),c(l,"$preprocessors?",function(){var q=this;return q.preprocessor_extensions["$!"]()["$!"]()}),c(l,"$preprocessors",Je("preprocessor_extensions")),c(l,"$tree_processor",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_document_processor",["tree_processor",$e],J.$to_proc())},-1),c(l,"$tree_processors?",function(){var q=this;return q.tree_processor_extensions["$!"]()["$!"]()}),c(l,"$tree_processors",Je("tree_processor_extensions")),Te(l,"treeprocessor","tree_processor"),Te(l,"treeprocessors?","tree_processors?"),Te(l,"treeprocessors","tree_processors"),c(l,"$postprocessor",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_document_processor",["postprocessor",$e],J.$to_proc())},-1),c(l,"$postprocessors?",function(){var q=this;return q.postprocessor_extensions["$!"]()["$!"]()}),c(l,"$postprocessors",Je("postprocessor_extensions")),c(l,"$include_processor",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_document_processor",["include_processor",$e],J.$to_proc())},-1),c(l,"$include_processors?",function(){var q=this;return q.include_processor_extensions["$!"]()["$!"]()}),c(l,"$include_processors",Je("include_processor_extensions")),c(l,"$docinfo_processor",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_document_processor",["docinfo_processor",$e],J.$to_proc())},-1),c(l,"$docinfo_processors?",function(q){var J=this;return q==null&&(q=se),T(J.docinfo_processor_extensions)?T(q)?z(J.docinfo_processor_extensions,"any?",[],function($e){return $e==null&&($e=se),$e.$config()["$[]"]("location")["$=="](q)}):!0:!1},-1),c(l,"$docinfo_processors",function(q){var J=this;return q==null&&(q=se),T(J.docinfo_processor_extensions)?T(q)?z(J.docinfo_processor_extensions,"select",[],function($e){return $e==null&&($e=se),$e.$config()["$[]"]("location")["$=="](q)}):J.docinfo_processor_extensions:se},-1),c(l,"$block",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_syntax_processor",["block",$e],J.$to_proc())},-1),c(l,"$blocks?",function(){var q=this;return q.block_extensions["$!"]()["$!"]()}),c(l,"$registered_for_block?",function(q,J){var G=this,$e=se;return T($e=G.block_extensions["$[]"](q.$to_sym()))&&T($e.$config()["$[]"]("contexts")["$include?"](J))?$e:!1}),c(l,"$find_block_extension",function(q){var J=this;return J.block_extensions["$[]"](q.$to_sym())}),c(l,"$block_macro",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_syntax_processor",["block_macro",$e],J.$to_proc())},-1),c(l,"$block_macros?",function(){var q=this;return q.block_macro_extensions["$!"]()["$!"]()}),c(l,"$registered_for_block_macro?",function(q){var J=this,G=se;return T(G=J.block_macro_extensions["$[]"](q.$to_sym()))?G:!1}),c(l,"$find_block_macro_extension",function(q){var J=this;return J.block_macro_extensions["$[]"](q.$to_sym())}),c(l,"$inline_macro",function S(q){var J=S.$$p||se,G,$e,ke=this;return S.$$p=null,G=N(arguments),$e=G,z(ke,"add_syntax_processor",["inline_macro",$e],J.$to_proc())},-1),c(l,"$inline_macros?",function(){var q=this;return q.inline_macro_extensions["$!"]()["$!"]()}),c(l,"$registered_for_inline_macro?",function(q){var J=this,G=se;return T(G=J.inline_macro_extensions["$[]"](q.$to_sym()))?G:!1}),c(l,"$find_inline_macro_extension",function(q){var J=this;return J.inline_macro_extensions["$[]"](q.$to_sym())}),c(l,"$inline_macros",function(){var q=this;return q.inline_macro_extensions.$values()}),c(l,"$prefer",function S(q){var J=S.$$p||se,G,$e,ke=this,He=se,Ze=se,$t=se;return S.$$p=null,G=N(arguments),$e=G,He=Pe(d("ProcessorExtension"),Ze=$e.$shift())?Ze:z(ke,"send",[Ze].concat(be($e)),J.$to_proc()),$t=ke.$instance_variable_get(("@"+He.$kind()+"_extensions").$to_sym()),$t.$unshift($t.$delete(He)),He},-1),l.$private(),c(l,"$add_document_processor",function S(q,J){var G=S.$$p||se,$e,ke,He=this,Ze=se,$t=se,et=se,at=se,ct=se,ft=se,ut=se,ht=se,dt=se,At=se,yt=se;return S.$$p=null,Ze=q.$to_s().$tr("_"," "),$t=z(Ze.$split(),"map",[],function(St){return St==null&&(St=se),St.$capitalize()}).$join().$to_sym(),et=d("Extensions").$const_get($t,!1),at=T(ge("::","AsciidoctorJ","skip_raise")?"constant":se)?ge(ge("AsciidoctorJ"),"Extensions").$const_get($t,!1):se,ct=T(ft=He.$instance_variable_get(("@"+q+"_extensions").$to_sym()))?ft:He.$instance_variable_set(("@"+q+"_extensions").$to_sym(),[]),G!==se?(ut=He.$resolve_args(J,1),(ht=et.$new(ut)).$singleton_class().$enable_dsl(),g(G.$arity(),0)?z(ht,"instance_exec",[],G.$to_proc()):t.yield1(G,ht),T(ht["$process_block_given?"]())||He.$raise(ge("NoMethodError"),"No block specified to process "+Ze+" extension at "+G.$source_location().$join(":")),ht.$freeze(),dt=d("ProcessorExtension").$new(q,ht)):(ke=He.$resolve_args(J,2),$e=Se(ke),ht=$e[0]==null?se:$e[0],ut=$e[1]==null?se:$e[1],T(At=d("Helpers").$resolve_class(ht))?(T(rt(At,et))||T(at)&&T(rt(At,at))||He.$raise(ge("ArgumentError"),"Invalid type for "+Ze+" extension: "+ht),yt=At.$new(ut),yt.$freeze(),dt=d("ProcessorExtension").$new(q,yt)):Pe(et,ht)||T(at)&&Pe(at,ht)?(ht.$update_config(ut),ht.$freeze(),dt=d("ProcessorExtension").$new(q,ht)):He.$raise(ge("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+J)),g(dt.$config()["$[]"]("position"),">>")?ct.$unshift(dt):ct["$<<"](dt),dt}),c(l,"$add_syntax_processor",function S(q,J){var G=S.$$p||se,$e,ke,He=this,Ze=se,$t=se,et=se,at=se,ct=se,ft=se,ut=se,ht=se,dt=se,At=se,yt=se;return S.$$p=null,Ze=q.$to_s().$tr("_"," "),$t=z(Ze.$split(),"map",[],function(St){return St==null&&(St=se),St.$capitalize()})["$<<"]("Processor").$join().$to_sym(),et=d("Extensions").$const_get($t,!1),at=T(ge("::","AsciidoctorJ","skip_raise")?"constant":se)?ge(ge("AsciidoctorJ"),"Extensions").$const_get($t,!1):se,ct=T(ft=He.$instance_variable_get(("@"+q+"_extensions").$to_sym()))?ft:He.$instance_variable_set(("@"+q+"_extensions").$to_sym(),Z([],{})),G!==se?(ke=He.$resolve_args(J,2),$e=Se(ke),ut=$e[0]==null?se:$e[0],ht=$e[1]==null?se:$e[1],(dt=et.$new(He.$as_symbol(ut),ht)).$singleton_class().$enable_dsl(),g(G.$arity(),0)?z(dt,"instance_exec",[],G.$to_proc()):t.yield1(G,dt),T(ut=He.$as_symbol(dt.$name()))||He.$raise(ge("ArgumentError"),"No name specified for "+Ze+" extension at "+G.$source_location().$join(":")),T(dt["$process_block_given?"]())||He.$raise(ge("NoMethodError"),"No block specified to process "+Ze+" extension at "+G.$source_location().$join(":")),dt.$freeze(),$e=[ut,d("ProcessorExtension").$new(q,dt)],z(ct,"[]=",$e),$e[$e.length-1]):(ke=He.$resolve_args(J,3),$e=Se(ke),dt=$e[0]==null?se:$e[0],ut=$e[1]==null?se:$e[1],ht=$e[2]==null?se:$e[2],T(At=d("Helpers").$resolve_class(dt))?(T(rt(At,et))||T(at)&&T(rt(At,at))||He.$raise(ge("ArgumentError"),"Class specified for "+Ze+" extension does not inherit from "+et+": "+dt),yt=At.$new(He.$as_symbol(ut),ht),T(ut=He.$as_symbol(yt.$name()))||He.$raise(ge("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),yt.$freeze(),$e=[ut,d("ProcessorExtension").$new(q,yt)],z(ct,"[]=",$e),$e[$e.length-1]):Pe(et,dt)||T(at)&&Pe(at,dt)?(dt.$update_config(ht),T(ut=T(ut)?($e=[He.$as_symbol(ut)],z(dt,"name=",$e),$e[$e.length-1]):He.$as_symbol(dt.$name()))||He.$raise(ge("ArgumentError"),"No name specified for "+Ze+" extension: "+dt),dt.$freeze(),$e=[ut,d("ProcessorExtension").$new(q,dt)],z(ct,"[]=",$e),$e[$e.length-1]):He.$raise(ge("ArgumentError"),"Invalid arguments specified for registering "+Ze+" extension: "+J))}),c(l,"$reset",function(){var q=this;return q.preprocessor_extensions=q.tree_processor_extensions=q.postprocessor_extensions=q.include_processor_extensions=q.docinfo_processor_extensions=q.block_extensions=q.block_macro_extensions=q.inline_macro_extensions=se,q.document=se}),c(l,"$resolve_args",function(q,J){var G=se,$e=se;return G=Pe(ge("Hash"),q["$[]"](-1))?q.$pop():Z([],{}),g(J,1)?G:(T(We($e=L(L(J,1),q.$size()),0))?q=ve(q,ge("Array").$new($e)):T(rt($e,0))&&q.$pop($e["$-@"]()),q["$<<"](G),q)}),c(l,"$as_symbol",function(q){return T(q)?q.$to_sym():se})}(j[0],null,j),function(R,u){var r=[R].concat(u),l=t.$r(r);return c(R,"$generate_name",function(){var d=this;return"extgrp"+d.$next_auto_id()}),c(R,"$next_auto_id",function(){var d=this,f=se;return d.auto_id==null&&(d.auto_id=se),d.auto_id=T(f=d.auto_id)?f:-1,d.auto_id=ve(d.auto_id,1)}),c(R,"$groups",function(){var d=this,f=se;return d.groups==null&&(d.groups=se),d.groups=T(f=d.groups)?f:Z([],{})}),c(R,"$create",function b(d){var f=b.$$p||se,S=this,q=se;return b.$$p=null,d==null&&(d=se),f!==se?l("Registry").$new(A(T(q=d)?q:S.$generate_name(),f)):l("Registry").$new()},-1),c(R,"$register",function b(d){var f=b.$$p||se,S,q,J,G=this,$e=se,ke=se,He=se,Ze=se,$t=se;return b.$$p=null,S=N(arguments),q=S,$e=q.$size(),f!==se?ke=f:T(He=q.$pop())?ke=T(Ze=l("Helpers").$resolve_class(He))?Ze:He:G.$raise(ge("ArgumentError"),"Extension group to register not specified"),$t=T(Ze=q.$pop())?Ze:G.$generate_name(),T(q["$empty?"]())||G.$raise(ge("ArgumentError"),"Wrong number of arguments ("+$e+" for 1..2)"),J=[$t.$to_sym(),ke],z(G.$groups(),"[]=",J),J[J.length-1]},-1),c(R,"$unregister_all",function(){var d=this;return d.groups=Z([],{}),se}),c(R,"$unregister",function(d){var f,S,q=this;return f=N(arguments),S=f,z(S,"each_with_object",[q.$groups()],function(G,$e){return G==null&&(G=se),$e==null&&($e=se),$e.$delete(G.$to_sym())}),se},-1)}(t.get_singleton_class(H),j)}(M[0],M)}(Le[0],Le)},Opal.modules["asciidoctor/js/asciidoctor_ext/stylesheet"]=function(t){var Y=t.module,U=t.klass,T=t.truthy,Z=t.def,c=[],z=t.nil,Te=t.$$$;return t.add_stubs("rstrip,read,join"),function(N,ve){var g=Y(N,"Asciidoctor"),We=[g].concat(ve);return function(he,Pe){var be=U(he,Pe,"Stylesheets"),Se=be.$$prototype;return Se.primary_stylesheet_data=z,Z(be,"$primary_stylesheet_data",function(){var De=this,Oe=z;return De.primary_stylesheet_data=T(Oe=De.primary_stylesheet_data)?Oe:Te("IO").$read(Te("File").$join("css","asciidoctor.css")).$rstrip()})}(We[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/document"]=function(t){var Y=t.module,U=t.klass,T=t.def,Z=[];return t.nil,function(c,z){var Te=Y(c,"Asciidoctor"),N=[Te].concat(z),ve=t.$r(N);return function(g,We){var he=U(g,We,"Document");return T(he,"$fill_datetime_attributes",function(be,Se){var st=t.truthy,De=t.falsy,Oe=t.nil,Be,Ge,it,y,Xe,m,Je,rt,L=function(b,d){return d===0?b.getUTCFullYear():b.getFullYear()},A=function(b,d){return d===0?b.getUTCMonth():b.getMonth()},Le=function(b,d){return d===0?b.getUTCDate():b.getDate()},se=function(b,d){return d===0?b.getUTCHours():b.getHours()},ge=new Date;if(t.const_get_qualified("::","ENV")["$key?"]("SOURCE_DATE_EPOCH")?(ge.setTime(parseInt(t.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))*1e3),Ge=ge,Be=0):Be=-ge.getTimezoneOffset()/60,st(it=be["$[]"]("localdate")))De(y=be["$[]"]("localyear"))&&(y=it.indexOf("-")===4?it.substring(0,4):Oe,be["$[]="]("localyear",y));else{var fe=L(ge,Be).toString(),W=("0"+(A(ge,Be)+1)).slice(-2),ee=("0"+Le(ge,Be)).slice(-2);it=fe+"-"+W+"-"+ee,be["$[]="]("localdate",it),y=fe,be["$[]="]("localyear",fe)}if(De(Xe=be["$[]"]("localtime"))){var M=("0"+se(ge,Be)).slice(-2),C=("0"+ge.getMinutes()).slice(-2),k=("0"+ge.getSeconds()).slice(-2),H;Be===0?H="UTC":Be>0?H=("+0"+Be*100).slice(-5):H=("-0"+-Be*100).slice(-5),Xe=M+":"+C+":"+k+" "+H,be["$[]="]("localtime",Xe)}if(De(m=be["$[]"]("localdatetime"))&&(m=it+" "+Xe,be["$[]="]("localdatetime",m)),st(Ge)?Se=Ge:st(Se)?Be=-Se.getTimezoneOffset()/60:Se=ge,st(Je=be["$[]"]("docdate")))be["$[]="]("docyear",Je.indexOf("-")===4?Je.substring(0,4):Oe);else{var j=L(Se,Be).toString(),X=("0"+(A(Se,Be)+1)).slice(-2),R=("0"+Le(Se,Be)).slice(-2);Je=j+"-"+X+"-"+R,be["$[]="]("docdate",Je),De(be["$[]"]("docyear"))&&be["$[]="]("docyear",j)}if(De(rt=be["$[]"]("doctime"))){var u=("0"+se(Se,Be)).slice(-2),r=("0"+Se.getMinutes()).slice(-2),l=("0"+Se.getSeconds()).slice(-2),H;Be===0?H="UTC":Be>0?H=("+0"+Be*100).slice(-5):H=("-0"+-Be*100).slice(-5),rt=u+":"+r+":"+l+" "+H,be["$[]="]("doctime",rt)}return De(be["$[]"]("docdatetime"))&&be["$[]="]("docdatetime",Je+" "+rt),Oe})}(N[0],ve("AbstractBlock"))}(Z[0],Z)},Opal.modules["asciidoctor/js/asciidoctor_ext/substitutors"]=function(t){var Y=t.module,U=t.def,T=[];return t.nil,function(Z,c){var z=Y(Z,"Asciidoctor"),Te=[z].concat(c);return function(N){var ve=Y(N,"Substitutors");return U(ve,"$sub_placeholder",function(We,he){return We.replace("%s",he)})}(Te[0])}(T[0],T)},Opal.modules["asciidoctor/js/asciidoctor_ext/parser"]=function(t){var Y=t.module,U=t.klass,T=t.truthy,Z=t.defs,c=[];return t.nil,function(z,Te){var N=Y(z,"Asciidoctor"),ve=[N].concat(Te);return function(g,We){var he=U(g,We,"Parser");return T(String.prototype.repeat)?Z(he,"$uniform?",function(be,Se,st){return Se.repeat(st)===be}):Z(he,"$uniform?",function(be,Se,st){return Array.apply(null,{length:st}).map(function(){return Se}).join("")===be})}(ve[0],null)}(c[0],c)},Opal.modules["asciidoctor/js/asciidoctor_ext/syntax_highlighter"]=function(t){var Y=t.module,U=t.truthy,T=t.def,Z=[],c=t.nil;return t.add_stubs("key?,registry,[],include?,include,empty?,debug,logger,join,keys"),function(z,Te){var N=Y(z,"Asciidoctor"),ve=[N].concat(Te);return function(g,We){var he=Y(g,"SyntaxHighlighter"),Pe=[he].concat(We);return function(be,Se){var st=Y(be,"Factory"),De=[st].concat(Se),Oe=t.$r(De);return T(st,"$for",function(Ge){var it=this;return U(it.$registry()["$key?"](Ge))?it.$registry()["$[]"](Ge):(U(it["$include?"](Oe("Logging")))||it.$include(Oe("Logging")),U(it.$registry()["$empty?"]())?it.$logger().$debug("no syntax highlighter available, functionality disabled."):it.$logger().$debug("syntax highlighter named '"+Ge+"' is not available, must be one of: '"+it.$registry().$keys().$join("', '")+"'."),c)})}(Pe[0],Pe)}(ve[0],ve)}(Z[0],Z)},Opal.modules["asciidoctor/js/asciidoctor_ext"]=function(t){var Y=t.top;t.nil,t.add_stubs("require"),Y.$require("asciidoctor/js/asciidoctor_ext/stylesheet"),Y.$require("asciidoctor/js/asciidoctor_ext/document"),Y.$require("asciidoctor/js/asciidoctor_ext/substitutors"),Y.$require("asciidoctor/js/asciidoctor_ext/parser"),Y.$require("asciidoctor/js/asciidoctor_ext/syntax_highlighter"),Y.$require("asciidoctor/js/asciidoctor_ext/browser")},Opal.modules["asciidoctor/js/opal_ext/logger"]=function(t){var Y=t.klass,U=t.def,T=t.truthy,Z=t.rb_lt,c=[],z=t.nil;return t.add_stubs("chr,rjust,message_as_string,<,write,call,[]"),function(Te,N,ve){var g=Y(Te,N,"Logger"),We=[g].concat(ve),he=t.$r(We),Pe=g.$$prototype;return Pe.level=Pe.progname=Pe.pipe=Pe.formatter=z,function(be,Se){var st=Y(be,Se,"Formatter");return U(st,"$call",function(Oe,Be,Ge,it){var y=this,Xe=z;return Xe=Be.getFullYear()+"-"+("0"+(Be.getMonth()+1)).slice(-2)+"-"+("0"+Be.getDate()).slice(-2)+"T"+("0"+Be.getHours()).slice(-2)+":"+("0"+Be.getMinutes()).slice(-2)+":"+("0"+Be.getSeconds()).slice(-2)+"."+("00"+new Date().getMilliseconds()*1e3).slice(-6),""+Oe.$chr()+", ["+Xe+"] "+Oe.$rjust(5)+" -- "+Ge+": "+y.$message_as_string(it)})}(We[0],null),U(g,"$add",function be(Se,st,De){var Oe=be.$$p||z,Be=this,Ge=z;return be.$$p=null,st==null&&(st=z),De==null&&(De=z),T(Z(Se=T(Ge=Se)?Ge:he("UNKNOWN"),Be.level))||(De=T(Ge=De)?Ge:Be.progname,T(st)||(Oe!==z?st=t.yieldX(Oe,[]):(st=De,De=Be.progname)),Be.pipe.$write(Be.formatter.$call(T(Ge=he("SEVERITY_LABELS")["$[]"](Se))?Ge:"ANY",new Date,De,st))),!0},-2)}(c[0],null,c)},Opal.modules["asciidoctor/js/postscript"]=function(t){var Y=t.top;return t.nil,t.add_stubs("require"),Y.$require("asciidoctor/converter/composite"),Y.$require("asciidoctor/converter/html5"),Y.$require("asciidoctor/extensions"),Y.$require("asciidoctor/js/asciidoctor_ext"),Y.$require("asciidoctor/js/opal_ext/logger")},Opal.queue(function(t){var Y=t.module,U=t.const_set,T=t.send,Z=t.to_ary,c=t.defs,z=t.def,Te=t.truthy,N=t.hash2,ve=t.eqeq,g=t.rb_minus,We=t.regexp,he=t.top,Pe=[],be=t.nil,Se=t.$$$;return t.add_stubs("require,==,to_h,sort,map,constants,const_get,downcase,to_s,<=>,upcase,[],values,new,attr_reader,instance_variable_set,send,singleton_class,<<,define,dirname,absolute_path,join,home,pwd,to_set,tap,each,chr,each_key,[]=,slice,length,-,merge,default=,drop,insert"),he.$require("set"),he.$require("asciidoctor/js"),function(st,De){var Oe=Y(st,"Asciidoctor"),Be=[Oe].concat(De),Ge=t.$r(Be),it=be;return U(Be[0],"RUBY_ENGINE_OPAL",U(Be[0],"RUBY_ENGINE",Se("RUBY_ENGINE"))["$=="]("opal")),function(y,Xe){var m=Y(y,"SafeMode"),Je=[m].concat(Xe);return U(Je[0],"UNSAFE",0),U(Je[0],"SAFE",1),U(Je[0],"SERVER",10),U(Je[0],"SECURE",20),m.names_by_value=T(T(m.$constants(!1),"map",[],function rt(L){var A=rt.$$s==null?this:rt.$$s;return L==null&&(L=be),[A.$const_get(L),L.$to_s().$downcase()]},{$$s:m}),"sort",[],function(L,A){var Le,se,ge=be,fe=be;return L==null&&(L=be),A==null&&(A=be),se=L,Le=Z(se),ge=Le[0]==null?be:Le[0],se=A,Le=Z(se),fe=Le[0]==null?be:Le[0],ge["$<=>"](fe)},{$$has_top_level_mlhs_arg:!0}).$to_h(),c(m,"$value_for_name",function(L){var A=this;return A.$const_get(L.$upcase(),!1)}),c(m,"$name_for_value",function(L){var A=this;return A.names_by_value==null&&(A.names_by_value=be),A.names_by_value["$[]"](L)}),c(m,"$names",function(){var L=this;return L.names_by_value==null&&(L.names_by_value=be),L.names_by_value.$values()})}(Be[0],Be),function(y,Xe){var m=Y(y,"Compliance");return m.keys=Se("Set").$new(),function(Je,rt){return Je.$attr_reader("keys"),z(Je,"$define",function(A,Le){var se=this;return se.keys==null&&(se.keys=be),se.$instance_variable_set("@"+A,Le),se.$singleton_class().$send("attr_accessor",A),se.keys["$<<"](A),be})}(t.get_singleton_class(m)),m.$define("block_terminates_paragraph",!0),m.$define("strict_verbatim_paragraphs",!0),m.$define("underline_style_section_titles",!0),m.$define("unwrap_standalone_preamble",!0),m.$define("attribute_missing","skip"),m.$define("attribute_undefined","drop-line"),m.$define("shorthand_property_syntax",!0),m.$define("natural_xrefs",!0),m.$define("unique_id_start_index",2),m.$define("markdown_syntax",!0)}(Be[0]),Te(Ge("ROOT_DIR","skip_raise")?"constant":be)||U(Be[0],"ROOT_DIR",Se("File").$dirname(Se("File").$absolute_path("."))),U(Be[0],"LIB_DIR",Se("File").$join(Ge("ROOT_DIR"),"lib")),U(Be[0],"DATA_DIR",Se("File").$join(Ge("ROOT_DIR"),"data")),U(Be[0],"USER_HOME",function(){try{return Se("Dir").$home()}catch(y){if(t.rescue(y,[Ge("StandardError")]))try{return Te(it=Se("ENV")["$[]"]("HOME"))?it:Se("Dir").$pwd()}finally{t.pop_exception()}else throw y}}()),U(Be[0],"LF",`
`),U(Be[0],"NULL","\0"),U(Be[0],"TAB","	"),U(Be[0],"MAX_INT",9007199254740991),U(Be[0],"UTF_8",Se(Se("Encoding"),"UTF_8")),U(Be[0],"BOM_BYTES_UTF_8",[239,187,191]),U(Be[0],"BOM_BYTES_UTF_16LE",[255,254]),U(Be[0],"BOM_BYTES_UTF_16BE",[254,255]),U(Be[0],"FILE_READ_MODE",Te(Ge("RUBY_ENGINE_OPAL"))?"r":"rb:utf-8:utf-8"),U(Be[0],"URI_READ_MODE",Ge("FILE_READ_MODE")),U(Be[0],"FILE_WRITE_MODE",Te(Ge("RUBY_ENGINE_OPAL"))?"w":"w:utf-8"),U(Be[0],"DEFAULT_DOCTYPE","article"),U(Be[0],"DEFAULT_BACKEND","html5"),U(Be[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),U(Be[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),U(Be[0],"BACKEND_ALIASES",N(["html","docbook"],{html:"html5",docbook:"docbook5"})),U(Be[0],"DEFAULT_PAGE_WIDTHS",N(["docbook"],{docbook:425})),U(Be[0],"DEFAULT_EXTENSIONS",N(["html","docbook","pdf","epub","manpage","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"})),U(Be[0],"ASCIIDOC_EXTENSIONS",N([".adoc",".asciidoc",".asc",".ad",".txt"],{".adoc":!0,".asciidoc":!0,".asc":!0,".ad":!0,".txt":!0})),U(Be[0],"SETEXT_SECTION_LEVELS",N(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),U(Be[0],"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),U(Be[0],"ADMONITION_STYLE_HEADS",T(Se("Set").$new(),"tap",[],function(Xe){return Xe==null&&(Xe=be),T(Ge("ADMONITION_STYLES"),"each",[],function(Je){return Je==null&&(Je=be),Xe["$<<"](Je.$chr())})})),U(Be[0],"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","open","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),U(Be[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),U(Be[0],"DELIMITED_BLOCKS",N(["--","----","....","====","****","____","++++","|===",",===",":===","!===","////","```"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",Se("Set").$new()],____:["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",Se("Set").$new()],",===":["table",Se("Set").$new()],":===":["table",Se("Set").$new()],"!===":["table",Se("Set").$new()],"////":["comment",Se("Set").$new()],"```":["fenced_code",Se("Set").$new()]})),U(Be[0],"DELIMITED_BLOCK_HEADS",T(N([],{}),"tap",[],function(Xe){return Xe==null&&(Xe=be),T(Ge("DELIMITED_BLOCKS"),"each_key",[],function(Je){var rt;return Je==null&&(Je=be),rt=[Je.$slice(0,2),!0],T(Xe,"[]=",rt),rt[rt.length-1]})})),U(Be[0],"DELIMITED_BLOCK_TAILS",T(N([],{}),"tap",[],function(Xe){return Xe==null&&(Xe=be),T(Ge("DELIMITED_BLOCKS"),"each_key",[],function(Je){var rt;return Je==null&&(Je=be),ve(Je.$length(),4)?(rt=[Je,Je["$[]"](g(Je.$length(),1))],T(Xe,"[]=",rt),rt[rt.length-1]):be})})),U(Be[0],"CAPTION_ATTRIBUTE_NAMES",N(["example","figure","listing","table"],{example:"example-caption",figure:"figure-caption",listing:"listing-caption",table:"table-caption"})),U(Be[0],"LAYOUT_BREAK_CHARS",N(["'","<"],{"'":"thematic_break","<":"page_break"})),U(Be[0],"MARKDOWN_THEMATIC_BREAK_CHARS",N(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"})),U(Be[0],"HYBRID_LAYOUT_BREAK_CHARS",Ge("LAYOUT_BREAK_CHARS").$merge(Ge("MARKDOWN_THEMATIC_BREAK_CHARS"))),U(Be[0],"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),U(Be[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),U(Be[0],"ORDERED_LIST_KEYWORDS",N(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),U(Be[0],"ATTR_REF_HEAD","{"),U(Be[0],"LIST_CONTINUATION","+"),U(Be[0],"HARD_LINE_BREAK"," +"),U(Be[0],"LINE_CONTINUATION"," \\"),U(Be[0],"LINE_CONTINUATION_LEGACY"," +"),U(Be[0],"BLOCK_MATH_DELIMITERS",N(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),U(Be[0],"INLINE_MATH_DELIMITERS",N(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),U(Be[0],"STEM_TYPE_ALIASES",N(["latexmath","latex","tex"],{latexmath:"latexmath",latex:"latexmath",tex:"latexmath"}))["$default="]("asciimath"),U(Be[0],"FONT_AWESOME_VERSION","4.7.0"),U(Be[0],"HIGHLIGHT_JS_VERSION","9.18.3"),U(Be[0],"MATHJAX_VERSION","2.7.9"),U(Be[0],"DEFAULT_ATTRIBUTES",N(["appendix-caption","appendix-refsig","caution-caption","chapter-refsig","example-caption","figure-caption","important-caption","last-update-label","note-caption","part-refsig","prewrap","sectids","section-refsig","table-caption","tip-caption","toc-placement","toc-title","untitled-label","version-label","warning-caption"],{"appendix-caption":"Appendix","appendix-refsig":"Appendix","caution-caption":"Caution","chapter-refsig":"Chapter","example-caption":"Example","figure-caption":"Figure","important-caption":"Important","last-update-label":"Last updated","note-caption":"Note","part-refsig":"Part",prewrap:"",sectids:"","section-refsig":"Section","table-caption":"Table","tip-caption":"Tip","toc-placement":"auto","toc-title":"Table of Contents","untitled-label":"Untitled","version-label":"Version","warning-caption":"Warning"})),U(Be[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]),U(Be[0],"INTRINSIC_ATTRIBUTES",N(["startsb","endsb","vbar","caret","asterisk","tilde","plus","backslash","backtick","blank","empty","sp","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","pp","cpp","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",pp:"&#43;&#43;",cpp:"C&#43;&#43;",amp:"&",lt:"<",gt:">"})),U(Be[0],"QUOTE_SUBS",T(N([],{}),"tap",[],function(Xe){var m=be,Je=be;return Xe==null&&(Xe=be),Xe["$[]="](!1,m=[["strong","unconstrained",We(["\\\\?(?:\\[([^\\]]+)\\])?\\*\\*(",Ge("CC_ALL"),"+?)\\*\\*"],"m")],["strong","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\*(\\S|\\S",Ge("CC_ALL"),"*?\\S)\\*(?!",Ge("CG_WORD"),")"],"m")],["double","constrained",We(["(^|[^",Ge("CC_WORD"),';:}])(?:\\[([^\\]]+)\\])?"`(\\S|\\S',Ge("CC_ALL"),'*?\\S)`"(?!',Ge("CG_WORD"),")"],"m")],["single","constrained",We(["(^|[^",Ge("CC_WORD"),";:`}])(?:\\[([^\\]]+)\\])?'`(\\S|\\S",Ge("CC_ALL"),"*?\\S)`'(?!",Ge("CG_WORD"),")"],"m")],["monospaced","unconstrained",We(["\\\\?(?:\\[([^\\]]+)\\])?``(",Ge("CC_ALL"),"+?)``"],"m")],["monospaced","constrained",We(["(^|[^",Ge("CC_WORD"),";:\"'`}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ge("CC_ALL"),"*?\\S)`(?![",Ge("CC_WORD"),"\"'`])"],"m")],["emphasis","unconstrained",We(["\\\\?(?:\\[([^\\]]+)\\])?__(",Ge("CC_ALL"),"+?)__"],"m")],["emphasis","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?_(\\S|\\S",Ge("CC_ALL"),"*?\\S)_(?!",Ge("CG_WORD"),")"],"m")],["mark","unconstrained",We(["\\\\?(?:\\[([^\\]]+)\\])?##(",Ge("CC_ALL"),"+?)##"],"m")],["mark","constrained",We(["(^|[^",Ge("CC_WORD"),"&;:}])(?:\\[([^\\]]+)\\])?#(\\S|\\S",Ge("CC_ALL"),"*?\\S)#(?!",Ge("CG_WORD"),")"],"m")],["superscript","unconstrained",/\\?(?:\[([^\]]+)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+)\])?~(\S+?)~/]]),Xe["$[]="](!0,Je=m.$drop(0)),Je["$[]="](2,["double","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?``(\\S|\\S",Ge("CC_ALL"),"*?\\S)''(?!",Ge("CG_WORD"),")"],"m")]),Je["$[]="](3,["single","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?`(\\S|\\S",Ge("CC_ALL"),"*?\\S)'(?!",Ge("CG_WORD"),")"],"m")]),Je["$[]="](4,["monospaced","unconstrained",We(["\\\\?(?:\\[([^\\]]+)\\])?\\+\\+(",Ge("CC_ALL"),"+?)\\+\\+"],"m")]),Je["$[]="](5,["monospaced","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?\\+(\\S|\\S",Ge("CC_ALL"),"*?\\S)\\+(?!",Ge("CG_WORD"),")"],"m")]),Je.$insert(3,["emphasis","constrained",We(["(^|[^",Ge("CC_WORD"),";:}])(?:\\[([^\\]]+)\\])?'(\\S|\\S",Ge("CC_ALL"),"*?\\S)'(?!",Ge("CG_WORD"),")"],"m")])})),U(Be[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(?: |\n|^|\\)--(?: |\n|$)/,"&#8201;&#8212;&#8201;","none"],[We(["(",Ge("CG_WORD"),")\\\\?--(?=",Ge("CG_WORD"),")"]),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","none"],[/\\?`'/,"&#8217;","none"],[We(["(",Ge("CG_ALNUM"),")\\\\?'(?=",Ge("CG_ALPHA"),")"]),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,"","bounding"]]),be}(Pe[0],Pe),he.$require("asciidoctor.rb/../asciidoctor/core_ext"),he.$require("asciidoctor.rb/../asciidoctor/helpers"),he.$require("asciidoctor.rb/../asciidoctor/logging"),he.$require("asciidoctor.rb/../asciidoctor/rx"),he.$require("asciidoctor.rb/../asciidoctor/substitutors"),he.$require("asciidoctor.rb/../asciidoctor/version"),he.$require("asciidoctor.rb/../asciidoctor/abstract_node"),he.$require("asciidoctor.rb/../asciidoctor/abstract_block"),he.$require("asciidoctor.rb/../asciidoctor/attribute_list"),he.$require("asciidoctor.rb/../asciidoctor/block"),he.$require("asciidoctor.rb/../asciidoctor/callouts"),he.$require("asciidoctor.rb/../asciidoctor/converter"),he.$require("asciidoctor.rb/../asciidoctor/document"),he.$require("asciidoctor.rb/../asciidoctor/inline"),he.$require("asciidoctor.rb/../asciidoctor/list"),he.$require("asciidoctor.rb/../asciidoctor/parser"),he.$require("asciidoctor.rb/../asciidoctor/path_resolver"),he.$require("asciidoctor.rb/../asciidoctor/reader"),he.$require("asciidoctor.rb/../asciidoctor/section"),he.$require("asciidoctor.rb/../asciidoctor/stylesheets"),he.$require("asciidoctor.rb/../asciidoctor/table"),he.$require("asciidoctor.rb/../asciidoctor/writer"),he.$require("asciidoctor.rb/../asciidoctor/load"),he.$require("asciidoctor.rb/../asciidoctor/convert"),he.$require("asciidoctor.rb/../asciidoctor/syntax_highlighter"),he.$require("asciidoctor.rb/../asciidoctor/timings"),he.$require("asciidoctor/js/postscript")});const a=function(t){return t&&!t.$$is_hash?Opal.hash2(Object.keys(t),t):t},E=function(t){const Y={};if(t){const U=t.$$smap;for(const Z in U){const c=U[Z];Y[Z]=c===Opal.nil?void 0:c}const T=t.$$map;if(T){const Z=[];for(const c in T){const z=T[c],Te=z.value,N=z.key-1;Z[N]=Te===Opal.nil?void 0:Te}Z.length>0&&(Y.$positional=Z)}}return Y},V=function(t){const Y={};if(t){const U=t.$$keys;for(const T in U){const Z=U[T].value;Y[T.toString()]=Z===Opal.nil?void 0:Z}}return Y},I=function(t){if(t=a(t),t){const Y=t["$[]"]("converter");Y&&Y!==Opal.nil&&t["$[]="]("converter",_e(Y));const U=t["$[]"]("attributes");U&&typeof U=="object"&&U.constructor.name==="Object"&&(t=t.$dup(),t["$[]="]("attributes",a(U)))}return t},_e=function(t){const Y=function(ve){return Object.assign({},ve.basebackend?{basebackend:ve.basebackend}:{},ve.outfilesuffix?{outfilesuffix:ve.outfilesuffix}:{},ve.filetype?{filetype:ve.filetype}:{},ve.htmlsyntax?{htmlsyntax:ve.htmlsyntax}:{},ve.supports_templates?{supports_templates:ve.supports_templates}:{})},U=function(ve,g){ve.backend_traits?g.backend_traits=a(ve.backend_traits):ve.backendTraits?g.backend_traits=a(ve.backendTraits):(ve.basebackend||ve.outfilesuffix||ve.filetype||ve.htmlsyntax||ve.supports_templates)&&(g.backend_traits=a(Y(ve)))},T=function(ve,g){Te(ve,g,"$handles?","handles",function(){return!0})},Z=function(ve,g){Te(ve,g,"$composed","composed")},c=function(ve,g){Te(ve,g,"$==","==",function(We){return g===We})},z=function(ve,g){Te(ve,g,"$send","send",function(We){const[,...he]=Array.from(arguments),Pe=g["$"+We];if(Pe)return Pe.apply(g,he);throw new Error(`undefined method \`${We}\` for \`${g.toString()}\``)})},Te=function(ve,g,We,he,Pe){typeof ve[We]>"u"&&(typeof ve[he]=="function"?g[We]=ve[he]:Pe&&(g[We]=Pe))},N=function(ve){typeof ve["$respond_to?"]!="function"&&(ve["$respond_to?"]=function(g){return typeof this[g]=="function"})};if(typeof t=="function"){const ve=ne(ot,t.constructor.name,{initialize:function(g,We){const he=this,Pe=new t(g,We);Object.assign(this,Pe),U(Pe,he);const be=Object.getOwnPropertyNames(t.prototype);for(let Se=0;Se<be.length;Se++){const st=be[Se];st!=="constructor"&&(he[st]=Pe[st])}typeof Pe.$convert>"u"&&typeof Pe.convert=="function"&&(he.$convert=Pe.convert),T(Pe,he),Z(Pe,he),N(he),he.super(g,We)}});return ve.$extend(lt),ve}if(typeof t=="object"){if(typeof t.$convert>"u"&&typeof t.convert=="function"&&(t.$convert=t.convert),U(t,t),t.backend_traits){const ve=["basebackend","filetype","htmlsyntax","outfilesuffix","supports_templates","supports_templates?","init_backend_traits","backend_traits"];for(const g of ve)t["$"+g]=lt.prototype["$"+g];t.$$meta=lt}return T(t,t),Z(t,t),c(t,t),z(t,t),N(t),t}return t};function ne(t,Y,U,T,Z){const c=Opal.klass(Opal.Object,t,Y,function(){});let z,Te,N;const ve={};for(const he in U)Object.prototype.hasOwnProperty.call(U,he)&&function(Pe){const be=U[Pe];if(Pe==="postConstruct")z=be;else if(Pe==="initialize")Te=be;else if(Pe==="constructor")N=be;else{T&&Object.prototype.hasOwnProperty.call(T,Pe)&&(ve[Pe]=!0);let Se;Opal.def(c,"$"+Pe,Se=function(){let st;Z&&Object.prototype.hasOwnProperty.call(Z,Pe)?st=Z[Pe](arguments):st=arguments;const De=Se.$$p;return De&&(st[st.length]=function(){return Opal.yield1(De)},st.length+=1,Se.$$p=null),be.apply(this,st)})}}(he);let g;typeof N=="function"?g=function(){const he=Array.from(arguments);for(let be=0;be<he.length;be++)typeof he[be]=="object"&&"$$smap"in he[be]&&(he[be]=E(he[be]));he.unshift(null);const Pe=new(Function.prototype.bind.apply(N,he));Object.assign(this,Pe),typeof z=="function"&&z.bind(this)()}:typeof Te=="function"?g=function(){const he=Array.from(arguments);for(let Pe=0;Pe<he.length;Pe++)typeof he[Pe]=="object"&&"$$smap"in he[Pe]&&(he[Pe]=E(he[Pe]));Te.apply(this,he),typeof z=="function"&&z.bind(this)()}:g=function(){Opal.send(this,Opal.find_super_dispatcher(this,"initialize",g)),typeof z=="function"&&z.bind(this)()},Opal.def(c,"$initialize",g);let We;Opal.def(c,"super",We=function(he){if(typeof he=="function")Opal.send(this,Opal.find_super_dispatcher(this,he.name,he));else{const Pe=Array.from(arguments);for(let be=0;be<Pe.length;be++)typeof Pe[be]=="object"&&(Pe[be]=a(Pe[be]));Opal.send(this,Opal.find_super_dispatcher(this,"initialize",g),Pe)}});for(const he in U)We[he]=function(){const Pe=Array.from(arguments);for(let Se=0;Se<Pe.length;Se++)typeof Pe[Se]=="object"&&typeof Pe[Se].constructor=="function"&&Pe[Se].constructor.name==="Object"&&(Pe[Se]=a(Pe[Se]));const be=c.$$prototype;return Opal.send(be,Opal.find_super_dispatcher(be,he,be[`$${he}`]),Pe)};if(T)for(const he in T)Object.prototype.hasOwnProperty.call(T,he)&&!Object.prototype.hasOwnProperty.call(ve,he)&&function(Pe){const be=T[Pe];Opal.def(c,"$"+Pe,function(){return be.apply(this,arguments)})}(he);return c}const ae=Opal.Asciidoctor.$$class;ae.prototype.getCoreVersion=function(){return this.$$const.VERSION},ae.prototype.getRuntime=function(){return{ioModule:Opal.const_get_qualified("::","JAVASCRIPT_IO_MODULE"),platform:Opal.const_get_qualified("::","JAVASCRIPT_PLATFORM"),engine:Opal.const_get_qualified("::","JAVASCRIPT_ENGINE"),framework:Opal.const_get_qualified("::","JAVASCRIPT_FRAMEWORK")}},ae.prototype.convert=function(t,Y){typeof t=="object"&&t.constructor.name==="Buffer"&&(t=t.toString("utf8"));const U=Y&&Y.to_file;typeof U=="object"&&U.constructor.name==="Writable"&&typeof U.write=="function"&&(U["$respond_to?"]=c=>c==="write",U.$object_id=()=>"",U.$write=function(c){this.write(c)});const T=I(Y),Z=this.$convert(t,T);return typeof U=="object"&&U.constructor.name==="Writable"&&typeof U.end=="function"&&U.end(),Z===Opal.nil?"":Z},ae.prototype.convertFile=function(t,Y){return this.$convert_file(t,I(Y))},ae.prototype.load=function(t,Y){return typeof t=="object"&&t.constructor.name==="Buffer"&&(t=t.toString("utf8")),this.$load(t,I(Y))},ae.prototype.loadFile=function(t,Y){return this.$load_file(t,I(Y))};const ue=Opal.Asciidoctor.AbstractBlock;ue.prototype.getContentModel=function(){const t=this.content_model;return t===Opal.nil?void 0:t},ue.prototype.setContentModel=function(t){this.content_model=t},ue.prototype.append=function(t){return this.$append(t),this},ue.prototype.getTitle=function(){const t=this.$title();return t===Opal.nil?void 0:t},ue.prototype.setTitle=function(t){return t=typeof t>"u"?Opal.nil:t,this["$title="](t)},ue.prototype.assignCaption=function(t,Y){t=typeof t>"u"?Opal.nil:t,Y=typeof Y>"u"?null:Y,this.$assign_caption(t,Y)},ue.prototype.getCaptionedTitle=function(){return this.$captioned_title()},ue.prototype.getStyle=function(){const t=this.style;return t===Opal.nil?void 0:t},ue.prototype.setStyle=function(t){this.style=t},ue.prototype.getSourceLocation=function(){const t=this.source_location;if(t!==Opal.nil)return t.getFile=function(){const Y=this.file;return Y===Opal.nil?void 0:Y},t.getDirectory=function(){const Y=this.dir;return Y===Opal.nil?void 0:Y},t.getPath=function(){const Y=this.path;return Y===Opal.nil?void 0:Y},t.getLineNumber=function(){const Y=this.lineno;return Y===Opal.nil?void 0:Y},t},ue.prototype.getCaption=function(){const t=this.$caption();return t===Opal.nil?void 0:t},ue.prototype.setCaption=function(t){this.caption=typeof t>"u"?Opal.nil:t},ue.prototype.getLevel=function(){const t=this.level;return t===Opal.nil?void 0:t},ue.prototype.getSubstitutions=function(){return this.subs},ue.prototype.hasSubstitution=function(t){return this["$sub?"](t)},ue.prototype.removeSubstitution=function(t){this.$remove_sub(t)},ue.prototype.hasBlocks=function(){return this.blocks.length>0},ue.prototype.getBlocks=function(){return this.blocks},ue.prototype.getContent=function(){const t=this.$content();return t===Opal.nil?void 0:t},ue.prototype.convert=function(){return this.$convert()},ue.prototype.findBy=function(t,Y){return typeof Y>"u"&&typeof t=="function"?Opal.send(this,"find_by",null,t):typeof Y=="function"?Opal.send(this,"find_by",[a(t)],Y):this.$find_by(a(t))},ue.prototype.getLineNumber=function(){const t=this.$lineno();return t===Opal.nil?void 0:t},ue.prototype.hasSections=function(){return this.next_section_index!==Opal.nil&&this.next_section_index>0},ue.prototype.getSections=function(){return this.$sections()},ue.prototype.getNumeral=function(){const t=this.$numeral();return t===Opal.nil?void 0:t},ue.prototype.setNumeral=function(t){this["$numeral="](t)},ue.prototype.hasTitle=function(){return this["$title?"]()},ue.prototype.getAlt=function(){return this.$alt()};const B=Opal.Asciidoctor.Section;B.create=function(t,Y,U,T){return T&&T.attributes&&(T.attributes=a(T.attributes)),this.$new(t,Y,U,a(T))},B.prototype.setLevel=function(t){this.level=t},B.prototype.getIndex=function(){return this.index},B.prototype.setIndex=function(t){this.index=t},B.prototype.getSectionName=function(){const t=this.sectname;return t===Opal.nil?void 0:t},B.prototype.setSectionName=function(t){this.sectname=t},B.prototype.getSectionNumeral=function(){return this.$sectnum()},B.prototype.getSectionNumber=B.prototype.getSectionNumeral,B.prototype.isSpecial=function(){return this.special},B.prototype.setSpecial=function(t){this.special=t},B.prototype.isNumbered=function(){return this.numbered},B.prototype.getCaption=function(){const t=this.caption;return t===Opal.nil?void 0:t},B.prototype.getName=function(){return this.getTitle()};const Ae=Opal.Asciidoctor.Block;Ae.create=function(t,Y,U){return U&&U.attributes&&(U.attributes=a(U.attributes)),this.$new(t,Y,a(U))},Ae.prototype.getSource=function(){return this.$source()},Ae.prototype.getSourceLines=function(){return this.lines};const ze=Opal.Asciidoctor.AbstractNode;ze.prototype.applySubstitutions=function(t,Y){return this.$apply_subs(t,Y)},ze.prototype.resolveSubstitutions=function(t,Y,U,T){typeof Y>"u"&&(Y="block"),typeof U>"u"&&(U=Opal.nil),typeof T>"u"&&(T=Opal.nil);const Z=this.$resolve_subs(t,Y,U,T);return Z===Opal.nil?void 0:Z},ze.prototype.resolveBlockSubstitutions=function(t,Y,U){return this.resolveSubstitutions(t,"block",Y,U)},ze.prototype.resolvePassSubstitutions=function(t){return this.resolveSubstitutions(t,"inline",void 0,"passthrough macro")},ze.prototype.getNodeName=function(){return this.node_name},ze.prototype.getAttributes=function(){return E(this.attributes)},ze.prototype.getAttribute=function(t,Y,U){const T=this.$attr(t,Y,U);return T===Opal.nil?void 0:T},ze.prototype.hasAttribute=function(t){return t in this.attributes.$$smap},ze.prototype.isAttribute=function(t,Y,U){return this["$attr?"](t,Y,U)},ze.prototype.setAttribute=function(t,Y,U){return typeof U>"u"&&(U=!0),this.$set_attr(t,Y,U)},ze.prototype.removeAttribute=function(t){const Y=this.$remove_attr(t);return Y===Opal.nil?void 0:Y},ze.prototype.getDocument=function(){return this.document},ze.prototype.getParent=function(){const t=this.parent;return t===Opal.nil?void 0:t},ze.prototype.isInline=function(){return this["$inline?"]()},ze.prototype.isBlock=function(){return this["$block?"]()},ze.prototype.isRole=function(t){return this["$role?"](t)},ze.prototype.getRole=function(){const t=this.$role();return t===Opal.nil?void 0:t},ze.prototype.setRole=function(t){return Array.isArray(t)||typeof t=="string"&&arguments.length===1?this["$role="](t):this["$role="](Array.from(arguments))},ze.prototype.hasRole=function(t){return this["$has_role?"](t)},ze.prototype.getRoles=function(){return this.$roles()},ze.prototype.addRole=function(t){return this.$add_role(t)},ze.prototype.removeRole=function(t){return this.$remove_role(t)},ze.prototype.isReftext=function(){return this["$reftext?"]()},ze.prototype.getReftext=function(){const t=this.$reftext();return t===Opal.nil?void 0:t},ze.prototype.getContext=function(){const t=this.context;return typeof t=="string"?t:t.toString()},ze.prototype.getId=function(){const t=this.id;return t===Opal.nil?void 0:t},ze.prototype.setId=function(t){this.id=t},ze.prototype.isOption=function(t){return this["$option?"](t)},ze.prototype.setOption=function(t){return this.$set_option(t)},ze.prototype.getIconUri=function(t){return this.$icon_uri(t)},ze.prototype.getMediaUri=function(t,Y){return this.$media_uri(t,Y)},ze.prototype.getImageUri=function(t,Y){return this.$image_uri(t,Y)},ze.prototype.getConverter=function(){return this.$converter()},ze.prototype.readContents=function(t,Y){return this.$read_contents(t,a(Y))},ze.prototype.readAsset=function(t,Y){const U=this.$read_asset(t,a(Y));return U===Opal.nil?void 0:U},ze.prototype.normalizeWebPath=function(t,Y,U){return this.$normalize_web_path(t,Y,U)},ze.prototype.normalizeSystemPath=function(t,Y,U,T){return this.$normalize_system_path(t,Y,U,a(T))},ze.prototype.normalizeAssetPath=function(t,Y,U){return this.$normalize_asset_path(t,Y,U)};const xe=Opal.Asciidoctor.Document;xe.prototype.append=function(t){return this["$<<"](t),this},xe.prototype.getSyntaxHighlighter=function(){const t=this.syntax_highlighter,Y=t.__proto__;return Y&&(typeof Y["$highlight?"]=="function"&&(Y.handlesHighlighting=function(){const U=Y["$highlight?"]();return U===Opal.nil?!1:U}),typeof Y["$docinfo?"]=="function"&&(Y.hasDocinfo=Y["$docinfo?"]),typeof Y.$format=="function"&&(Y.format=function(U,T,Z){return this.$format(U,T,a(Z))}),typeof Y.$docinfo=="function"&&(Y.docinfo=function(U,T,Z){return this.$docinfo(U,T,a(Z))})),t},xe.prototype.getRefs=function(){return E(this.catalog.$$smap.refs)},xe.prototype.getImages=function(){return this.catalog.$$smap.images},xe.prototype.getLinks=function(){return this.catalog.$$smap.links},xe.prototype.hasFootnotes=function(){return this["$footnotes?"]()},xe.prototype.getFootnotes=function(){return this.$footnotes()},xe.prototype.getHeader=function(){return this.header},xe.prototype.setAttribute=function(t,Y){return this.$set_attribute(t,Y)},xe.prototype.removeAttribute=function(t){this.attributes.$delete(t),this.attribute_overrides.$delete(t)},xe.prototype.convert=function(t){const Y=this.$convert(a(t));return Y===Opal.nil?"":Y},xe.prototype.write=function(t,Y){return this.$write(t,Y)},xe.prototype.getAuthor=function(){return this.$author()},xe.prototype.getSource=function(){return this.$source()},xe.prototype.getSourceLines=function(){return this.$source_lines()},xe.prototype.isNested=function(){return this["$nested?"]()},xe.prototype.isEmbedded=function(){return this["$embedded?"]()},xe.prototype.hasExtensions=function(){return this["$extensions?"]()},xe.prototype.getDoctype=function(){return this.doctype},xe.prototype.getBackend=function(){return this.backend},xe.prototype.isBasebackend=function(t){return this["$basebackend?"](t)},xe.prototype.getTitle=function(){const t=this.$title();return t===Opal.nil?void 0:t},xe.prototype.setTitle=function(t){return this["$title="](t)},xe.prototype.getDocumentTitle=function(t){const Y=this.$doctitle(a(t));return Y===Opal.nil?void 0:Y},xe.prototype.getDoctitle=xe.prototype.getDocumentTitle,xe.prototype.getCatalog=function(){return E(this.catalog)},xe.prototype.getReferences=xe.prototype.getCatalog,xe.prototype.getRevisionDate=function(){return this.getAttribute("revdate")},xe.prototype.getRevdate=function(){return this.getRevisionDate()},xe.prototype.getRevisionNumber=function(){return this.getAttribute("revnumber")},xe.prototype.getRevisionRemark=function(){return this.getAttribute("revremark")},xe.prototype.setHeaderAttribute=function(t,Y,U){return typeof U>"u"&&(U=!0),typeof Y>"u"&&(Y=""),this.$set_header_attribute(t,Y,U)},xe.prototype.getAuthors=function(){return this.$authors()};const Ue=xe.Footnote;Ue.prototype.getIndex=function(){const t=this.$$data.index;return t===Opal.nil?void 0:t},Ue.prototype.getId=function(){const t=this.$$data.id;return t===Opal.nil?void 0:t},Ue.prototype.getText=function(){const t=this.$$data.text;return t===Opal.nil?void 0:t};const Ke=xe.ImageReference;Ke.prototype.getTarget=function(){return this.$$data.target},Ke.prototype.getImagesDirectory=function(){const t=this.$$data.imagesdir;return t===Opal.nil?void 0:t};const qe=xe.Author;qe.prototype.getName=function(){const t=this.$$data.name;return t===Opal.nil?void 0:t},qe.prototype.getFirstName=function(){const t=this.$$data.firstname;return t===Opal.nil?void 0:t},qe.prototype.getMiddleName=function(){const t=this.$$data.middlename;return t===Opal.nil?void 0:t},qe.prototype.getLastName=function(){const t=this.$$data.lastname;return t===Opal.nil?void 0:t},qe.prototype.getInitials=function(){const t=this.$$data.initials;return t===Opal.nil?void 0:t},qe.prototype.getEmail=function(){const t=this.$$data.email;return t===Opal.nil?void 0:t},xe.RevisionInfo=function(t,Y,U){this.date=t,this.number=Y,this.remark=U};const re=xe.RevisionInfo;re.prototype.getDate=function(){return this.date},re.prototype.getNumber=function(){return this.number},re.prototype.getRemark=function(){return this.remark},re.prototype.isEmpty=function(){return this.date===void 0&&this.number===void 0&&this.remark===void 0};const Fe=Opal.Asciidoctor.SafeMode;Fe.getValueForName=function(t){return this.$value_for_name(t)},Fe.getNameForValue=function(t){const Y=this.$name_for_value(t);return Y===Opal.nil?void 0:Y},Fe.getNames=function(){return this.$names()};const Ve=Opal.Asciidoctor.Callouts;Ve.create=function(){return this.$new()},Ve.prototype.register=function(t){return this.$register(t)},Ve.prototype.readNextId=function(){return this.$read_next_id()},Ve.prototype.getCalloutIds=function(t){return this.$callout_ids(t)},Ve.prototype.getLists=function(){const t=this.lists;if(t&&t.length>0)for(let Y=0;Y<t.length;Y++){const U=t[Y];if(U&&U.length>0)for(let T=0;T<U.length;T++)typeof U[T]=="object"&&"$$smap"in U[T]&&(U[T]=E(U[T]))}return t},Ve.prototype.getListIndex=function(){return this.list_index},Ve.prototype.getCurrentList=function(){const t=this.$current_list();if(t&&t.length>0)for(let Y=0;Y<t.length;Y++)typeof t[Y]=="object"&&"$$smap"in t[Y]&&(t[Y]=E(t[Y]));return t},Ve.prototype.nextList=function(){return this.$nextList()},Ve.prototype.rewind=function(){return this.$rewind()},xe.prototype.getRevisionInfo=function(){return new xe.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())},xe.prototype.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()},xe.prototype.getNotitle=function(){return this.$notitle()},xe.prototype.getNoheader=function(){return this.$noheader()},xe.prototype.getNofooter=function(){return this.$nofooter()},xe.prototype.hasHeader=function(){return this["$header?"]()},xe.prototype.playbackAttributes=function(t){if(t=a(t),t){const Y=t["$[]"]("attribute_entries");if(Y&&Array.isArray(Y)){const U=[];for(let T=0;T<Y.length;T++){const Z=Y[T];Z&&typeof Z=="object"&&Z.constructor.name==="Object"&&(Z.$name=function(){return this.name},Z.$value=function(){return this.value},Z.$negate=function(){return this.negate}),U.push(Z)}t["$[]="]("attribute_entries",U)}}this.$playback_attributes(t)},xe.prototype.deleteAttribute=function(t){return this.$delete_attribute(t)},xe.prototype.isAttributeLocked=function(t){return this["$attribute_locked?"](t)},xe.prototype.restoreAttributes=function(){return this.$restore_attributes()},xe.prototype.parse=function(t){return this.$parse(t)},xe.prototype.getDocinfo=function(t,Y){return this.$docinfo(t,Y)},xe.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},xe.prototype.incrementAndStoreCounter=function(t,Y){return this.$increment_and_store_counter(t,Y)},xe.prototype.counterIncrement=xe.prototype.incrementAndStoreCounter,xe.prototype.counter=function(t,Y){return this.$counter(t,Y)},xe.prototype.getSafe=function(){return this.safe},xe.prototype.getCompatMode=function(){return this.compat_mode},xe.prototype.getSourcemap=function(){const t=this.sourcemap;return t===Opal.nil?!1:t},xe.prototype.setSourcemap=function(t){this.sourcemap=t},xe.prototype.getCounters=function(){return E(this.counters)},xe.prototype.getCallouts=function(){return this.$callouts()},xe.prototype.getBaseDir=function(){return this.base_dir},xe.prototype.getOptions=function(){return E(this.options)},xe.prototype.getOutfilesuffix=function(){return this.outfilesuffix},xe.prototype.getParentDocument=function(){const t=this.parent_document;return t===Opal.nil?void 0:t},xe.prototype.getReader=function(){return this.reader},xe.prototype.getConverter=function(){return this.converter},xe.prototype.getExtensions=function(){const t=this.extensions;return t===Opal.nil?void 0:t};const Me=xe.Title;Me.prototype.getMain=function(){return this.main},Me.prototype.getCombined=function(){return this.combined},Me.prototype.getSubtitle=function(){const t=this.subtitle;return t===Opal.nil?void 0:t},Me.prototype.isSanitized=function(){const t=this["$sanitized?"]();return t===Opal.nil?!1:t},Me.prototype.hasSubtitle=function(){return this["$subtitle?"]()};const Ie=Opal.Asciidoctor.Inline;Ie.create=function(t,Y,U,T){return this.$new(t,Y,U,I(T))},Ie.prototype.convert=function(){return this.$convert()},Ie.prototype.getText=function(){const t=this.$text();return t===Opal.nil?void 0:t},Ie.prototype.getType=function(){return this.$type()},Ie.prototype.getTarget=function(){const t=this.$target();return t===Opal.nil?void 0:t},Ie.prototype.getAlt=function(){return this.$alt()};const ce=Opal.Asciidoctor.List;ce.prototype.hasItems=function(){return this["$items?"]()},ce.prototype.getItems=function(){return this.blocks};const ye=Opal.Asciidoctor.ListItem;ye.prototype.getText=function(){return this.$text()},ye.prototype.setText=function(t){return this["$text="](t)},ye.prototype.hasText=function(){return this["$text?"]()},ye.prototype.getMarker=function(){return this.marker},ye.prototype.setMarker=function(t){this.marker=t},ye.prototype.getList=function(){return this.$list()},ye.prototype.getParent=ye.prototype.getList;const le=Opal.Asciidoctor.Reader;le.prototype.pushInclude=function(t,Y,U,T,Z){return this.$push_include(t,Y,U,T,a(Z))},le.prototype.getCursor=function(){return this.$cursor()},le.prototype.getLines=function(){return this.$lines()},le.prototype.getString=function(){return this.$string()},le.prototype.hasMoreLines=function(){return this["$has_more_lines?"]()},le.prototype.isEmpty=function(){return this["$empty?"]()},le.prototype.peekLine=function(t){t=t||!1;const Y=this.$peek_line(t);return Y===Opal.nil?void 0:Y},le.prototype.readLine=function(){const t=this.$read_line();return t===Opal.nil?void 0:t},le.prototype.readLines=function(){return this.$read_lines()},le.prototype.read=function(){return this.$read()},le.prototype.advance=function(){return this.$advance()};const Re=Opal.Asciidoctor.Reader.Cursor;Re.prototype.getFile=function(){const t=this.file;return t===Opal.nil?void 0:t},Re.prototype.getDirectory=function(){const t=this.dir;return t===Opal.nil?void 0:t},Re.prototype.getPath=function(){const t=this.path;return t===Opal.nil?void 0:t},Re.prototype.getLineNumber=function(){return this.lineno};function ie(t,Y){const U=Opal.const_get_qualified(Opal.Logger,"Formatter");return ne(U,t,Y,{},{call:function(T){for(let Z=0;Z<T.length;Z++)typeof T[Z]=="object"&&"$$smap"in T[Z]&&(T[Z]=E(T[Z]));return T}})}function pe(t,Y){const U=Opal.const_get_qualified(Opal.Asciidoctor,"Logger");return ne(U,t,Y,{},{add:function(T){if(T.length>=2&&typeof T[2]=="object"&&"$$smap"in T[2]){const Z=T[2],c=E(Z);c.getText=function(){return this.text},c.getSourceLocation=function(){return this.source_location},c.$inspect=function(){const z=this.getSourceLocation();return z?z.getPath()+": line "+z.getLineNumber()+": "+this.getText():this.getText()},T[2]=c}return T.length>=1&&(T[1]=T[1]===Opal.nil?void 0:T[1]),T}})}const Q=Opal.const_get_qualified(Opal.Asciidoctor,"LoggerManager",!0);Opal.Asciidoctor.LoggerManager=Q,Q.getLogger=function(){return this.$logger()},Q.setLogger=function(t){this["$logger="](t)},Q.newLogger=function(t,Y){return pe(t,Y).$new()},Q.newFormatter=function(t,Y){return ie(t,Y).$new()};const p=Opal.const_get_qualified(Opal.Logger,"Severity",!0);Opal.Asciidoctor.LoggerSeverity=p,p.get=function(t){return p.$constants()[t]};const de=Opal.const_get_qualified(Opal.Logger,"Formatter",!0);Opal.Asciidoctor.LoggerFormatter=de,de.prototype.call=function(t,Y,U,T){return this.$call(p.get(t),Y,U,T)};const F=Opal.const_get_qualified(Opal.Asciidoctor,"MemoryLogger",!0);Opal.Asciidoctor.MemoryLogger=F,F.create=function(){return this.$new()},F.prototype.getMessages=function(){const t=this.messages,Y=[];for(let U=0;U<t.length;U++){const T=t[U],Z=E(T);typeof Z.message=="string"?Z.getText=function(){return this.message}:(Z.message=E(Z.message),Z.getText=function(){return this.message.text}),Z.getSeverity=function(){return this.severity.toString()},Z.getSourceLocation=function(){return this.message.source_location},Y.push(Z)}return Y};const O=Opal.const_get_qualified(Opal.Asciidoctor,"Logging",!0);Opal.Asciidoctor.Logging=O,O.getLogger=function(){return Q.$logger()},O.createLogMessage=function(t,Y){return O.prototype.$message_with_context(t,a(Y))},le.prototype.getLogger=O.getLogger,le.prototype.createLogMessage=O.createLogMessage,ze.prototype.getLogger=O.getLogger,ze.prototype.createLogMessage=O.createLogMessage;const D=Opal.const_get_qualified(Opal.Asciidoctor,"Logger",!0);Opal.Asciidoctor.Logger=D,D.prototype.getMaxSeverity=function(){const t=this.max_severity;return t===Opal.nil?void 0:t},D.prototype.getFormatter=function(){return this.formatter},D.prototype.setFormatter=function(t){this.formatter=t},D.prototype.getLevel=function(){return this.level},D.prototype.setLevel=function(t){this.level=t},D.prototype.getProgramName=function(){return this.progname},D.prototype.setProgramName=function(t){this.progname=t};const Ne=Opal.const_get_qualified("::","Logger"),oe=function(t,Y,U){t["$"+Y](U)};Ne.prototype.add=function(t,Y,U){const T=typeof t=="string"?p[t.toUpperCase()]:t;this.$add(T,Y,U)},Ne.prototype.log=Ne.prototype.add,Ne.prototype.debug=function(t){oe(this,"debug",t)},Ne.prototype.info=function(t){oe(this,"info",t)},Ne.prototype.warn=function(t){oe(this,"warn",t)},Ne.prototype.error=function(t){oe(this,"error",t)},Ne.prototype.fatal=function(t){oe(this,"fatal",t)},Ne.prototype.isDebugEnabled=function(){return this["$debug?"]()},Ne.prototype.isInfoEnabled=function(){return this["$info?"]()},Ne.prototype.isWarnEnabled=function(){return this["$warn?"]()},Ne.prototype.isErrorEnabled=function(){return this["$error?"]()},Ne.prototype.isFatalEnabled=function(){return this["$fatal?"]()};const P=Opal.const_get_qualified(Opal.Asciidoctor,"NullLogger",!0);Opal.Asciidoctor.NullLogger=P,P.create=function(){return this.$new()},P.prototype.getMaxSeverity=function(){return this.max_severity},Opal.Asciidoctor.StopIteration=Opal.StopIteration;const h=Opal.const_get_qualified(Opal.Asciidoctor,"Timings",!0);Opal.Asciidoctor.Timings=h,h.create=function(){return this.$new()},h.prototype.printReport=function(t,Y){let U;if(t)if(typeof t.$add=="function")U=function(T){t.$add(1,T)};else if(typeof t.log=="function")U=t.log;else if(typeof t.write=="function")U=function(T){t.write(T,"utf-8")};else throw new Error("The output should be a Stream (with a write function), an object with a log function or a Ruby Logger (with a add function)");else U=function(T){Opal.gvars.stdout.$write(T)};Y&&U("Input file: "+Y),U(" Time to read and parse source: "+this.$read_parse().toFixed(2)),U(" Time to convert document: "+this.$convert().toFixed(2)),U(" Total time (read, parse and convert): "+this.$read_parse_convert().toFixed(2))};const s=Opal.const_get_qualified(Opal.Asciidoctor,"SyntaxHighlighter",!0);Opal.Asciidoctor.SyntaxHighlighter=s,s.register=function(t,Y){const U=typeof t=="string"?t:t[0];if(typeof Y=="function"){const c=Y.prototype,z=Object.getOwnPropertyNames(c);Y={};for(const Te in z){const N=z[Te];Y[N]=c[N]}}const T=ne(n,U,Y,{},{format:function(Z){return Z.length>=2&&typeof Z[2]=="object"&&"$$smap"in Z[2]&&(Z[2]=E(Z[2])),Z.length>=1&&(Z[1]=Z[1]===Opal.nil?void 0:Z[1]),Z},highlight:function(Z){if(Z.length>=3&&typeof Z[3]=="object"&&"$$smap"in Z[3]){let c=Z[3];c=E(c);for(const z in c){const Te=c[z];if(z==="callouts"){const N=V(Te);for(const ve in N){const g=N[ve];for(let We=0;We<g.length;We++){const he=g[We];for(let Pe=0;Pe<he.length;Pe++)he[Pe]=he[Pe]===Opal.nil?void 0:he[Pe]}}c[z]=N}else c[z]=Te===Opal.nil?void 0:Te}Z[3]=c}return Z.length>=2&&(Z[2]=Z[2]===Opal.nil?void 0:Z[2]),Z}});for(const Z in Y)Object.prototype.hasOwnProperty.call(Y,Z)&&function(c){const z=Y[c];c==="handlesHighlighting"?Opal.def(T,"$highlight?",function(){return z.call()}):c==="hasDocinfo"&&Opal.def(T,"$docinfo?",function(Te){return z.apply(this,[Te])})}(Z);return Opal.def(T,"$name",function(){return U}),s.$register(T,t),T},s.get=function(t){const Y=s.$for(t);return Y===Opal.nil?void 0:Y},s.for=s.get;const n=Opal.const_get_qualified(s,"Base",!0);Opal.Asciidoctor.SyntaxHighlighterBase=n,n.prototype.registerFor=function(t){s.$register(this,t)};const i=Opal.Asciidoctor.Table;i.create=function(t,Y){return this.$new(t,a(Y))},i.prototype.getCaption=function(){return this.caption},i.prototype.getRows=function(){return this.rows},i.prototype.getColumns=function(){return this.columns},i.prototype.getHeadRows=function(){return this.rows.head},i.prototype.hasHeadRows=function(){return this.rows!==Opal.nil&&this.rows.head.length>0},i.prototype.getBodyRows=function(){return this.rows.body},i.prototype.hasBodyRows=function(){return this.rows!==Opal.nil&&this.rows.body.length>0},i.prototype.getFootRows=function(){return this.rows.foot},i.prototype.hasFootRows=function(){return this.rows!==Opal.nil&&this.rows.foot.length>0},i.prototype.hasHeaderOption=function(){return this.has_header_option},i.prototype.hasFooterOption=function(){return this.isOption("footer")},i.prototype.hasAutowidthOption=function(){return this.isOption("autowidth")},i.prototype.getRowCount=function(){return this.getAttribute("rowcount")},i.prototype.setRowCount=function(t){this.setAttribute("rowcount",t)},i.prototype.getColumnCount=function(){return this.getAttribute("colcount")},i.prototype.setColumnCount=function(t){this.setAttribute("colcount",t)};const $=Opal.Asciidoctor.Table.Rows;$.create=function(t,Y,U){return this.$new(t,Y,U)},$.prototype.getHead=function(){return this.head},$.prototype.getFoot=function(){return this.foot},$.prototype.getBody=function(){return this.body},$.prototype.bySection=function(){return[["head",this.head],["body",this.body],["foot",this.foot]]};const o=Opal.Asciidoctor.Table.Column;o.create=function(t,Y,U){return this.$new(t,Y,a(U))},o.prototype.getColumnNumber=function(){return this.getAttribute("colnumber")},o.prototype.getWidth=function(){return this.getAttribute("width")},o.prototype.getHorizontalAlign=function(){return this.getAttribute("halign")},o.prototype.getVerticalAlign=function(){return this.getAttribute("valign")},o.prototype.getStyle=function(){const t=this.style;return t===Opal.nil?void 0:t};const v=Opal.Asciidoctor.Table.Cell;v.create=function(t,Y,U,T){return this.$new(t,Y,a(U),a(T))},v.prototype.getColumnSpan=function(){const t=this.colspan;return t===Opal.nil?void 0:t},v.prototype.setColumnSpan=function(t){return this["$colspan="](t)},v.prototype.getRowSpan=function(){const t=this.rowspan;return t===Opal.nil?void 0:t},v.prototype.setRowSpan=function(t){return this["$rowspan="](t)},v.prototype.getContent=function(){return this.$content()},v.prototype.getText=function(){return this.$text()},v.prototype.getSource=function(){return this.$source()},v.prototype.getLines=function(){return this.$lines()},v.prototype.getLineNumber=function(){const t=this.$lineno();return t===Opal.nil?void 0:t},v.prototype.getFile=function(){const t=this.$file();return t===Opal.nil?void 0:t},v.prototype.getStyle=function(){const t=this.$style();return t===Opal.nil?void 0:t},v.prototype.getColumn=function(){const t=this.$column();return t===Opal.nil?void 0:t},v.prototype.getWidth=function(){return this.getAttribute("width")},v.prototype.getColumnPercentageWidth=function(){return this.getAttribute("colpcwidth")},v.prototype.getInnerDocument=function(){const t=this.inner_document;return t===Opal.nil?void 0:t};const w=Opal.Asciidoctor.Converter.TemplateConverter;if(w){Opal.Asciidoctor.TemplateConverter=w,w.create=function(Y,U,T){T&&T.template_cache&&(T.template_cache=a(T.template_cache)),this.$new(Y,U,a(T))},w.getCache=function(){const Y=E(this.caches);if(Y){if(Y.scans){Y.scans=E(Y.scans);for(const U in Y.scans)Y.scans[U]=E(Y.scans[U])}Y.templates&&(Y.templates=E(Y.templates))}return Y},w.clearCache=function(){this.$clear_caches()},w.prototype.convert=function(Y,U,T){return this.$convert(Y,U,a(T))},w.prototype.handles=function(Y){return this["$handles?"](Y)},w.prototype.getContentOnly=function(Y){return this.$content_only(Y)},w.prototype.skip=function(Y){this.$skip(Y)},w.prototype.getTemplates=function(){return E(this.$templates())},w.prototype.register=function(Y,U){return this.$register(Y,U)};const t={};t.registry={},Opal.Asciidoctor.TemplateEngine=t,t.register=function(Y,U){if(typeof Y=="string")this.registry[Y]=U;else for(let T=0;T<Y.length;T++){const Z=Y[T];this.registry[Z]=U}}}const K=Opal.Asciidoctor.Converter.CompositeConverter;K&&(Opal.Asciidoctor.CompositeConverter=K,K.prototype.convert=function(t,Y,U){return this.$convert(t,Y,a(U))},K.prototype.getContentOnly=function(t){return this.$content_only(t)},K.prototype.skip=function(t){this.$skip(t)},K.prototype.getConverters=function(){return this.converters},K.prototype.getConverter=function(t){const Y=this.$converter_for(t);return Y===Opal.nil?void 0:Y},K.prototype.findConverter=function(t){return this.$find_converter(t)});const Ce=Opal.const_get_qualified(Opal.Asciidoctor,"Converter");Opal.Asciidoctor.Converter=Ce,Ce.prototype.convert=function(t,Y,U){return this.$convert(t,Y,a(U))},Ce.create=function(t,Y){return this.$create(t,a(Y))};const tt=Opal.Asciidoctor.Converter.Factory,ot=Opal.Asciidoctor.Converter.Base;Opal.Asciidoctor.ConverterFactory=tt;const lt=Opal.Asciidoctor.Converter.BackendTraits;Opal.Asciidoctor.ConverterBackendTraits=lt,tt.register=function(t,Y){const U=[_e(t)].concat(Y);return Ce.$register.apply(Ce,U)},tt.getDefault=function(t){return this.$default(t)},tt.prototype.create=function(t,Y){return this.$create(t,a(Y))},tt.getRegistry=function(){return E(Ce.$registry())},tt.for=function(t){const Y=Ce.$for(t);return Y===Opal.nil?void 0:Y},tt.unregisterAll=function(){const t=Ce.DefaultFactory.$$cvars["@@registry"];Ce.DefaultFactory.$$cvars["@@registry"]=a({html5:t["$[]"]("html5")})};const vt=Opal.Asciidoctor.Converter.Html5Converter;Opal.Asciidoctor.Html5Converter=vt,vt.create=function(){return this.$new()},vt.prototype.convert=function(t,Y,U){return this.$convert(t,Y,U)};const _t=function(t){return t.$$arity=t.length,t},bt=function(t,Y,U,T){return typeof U=="object"||U.$$is_class?t["$"+Y](U,T):Opal.send(t,Y,T&&[T],_t(U))},pt=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=pt,pt.create=function(t,Y){return typeof t=="function"&&typeof Y>"u"?Opal.send(this,"create",null,_t(t)):typeof Y=="function"?Opal.send(this,"create",[t],_t(Y)):this.$create()},pt.register=function(t,Y){return typeof t=="function"&&typeof Y>"u"?Opal.send(this,"register",null,_t(t)):Opal.send(this,"register",[t],_t(Y))},pt.getGroups=function(){return E(this.$groups())},pt.unregisterAll=function(){this.$unregister_all()},pt.unregister=function(){const t=Array.prototype.concat.apply([],arguments),Y=this.$groups(),U={};let T=0;const Z=Y.$$keys;for(;T<Z.length;T++){const c=Z[T];U[c.toString()]=c}for(let c=0;c<t.length;c++){const z=t[c];z in U&&Opal.hash_delete(Y,U[z])}};const gt=pt.Registry;gt.prototype.getGroups=pt.getGroups,gt.prototype.unregisterAll=function(){this.groups=Opal.hash()},gt.prototype.unregister=pt.unregister,gt.prototype.prefer=function(t,Y){return arguments.length===1&&(Y=t,t=null),typeof Y=="object"||Y.$$is_class?this.$prefer(t,Y):Opal.send(this,"prefer",t&&[t],_t(Y))},gt.prototype.block=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"block",Y,t)},gt.prototype.inlineMacro=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"inline_macro",Y,t)},gt.prototype.includeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"include_processor",Y,t)},gt.prototype.blockMacro=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"block_macro",Y,t)},gt.prototype.treeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"tree_processor",Y,t)},gt.prototype.postprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"postprocessor",Y,t)},gt.prototype.preprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"preprocessor",Y,t)},gt.prototype.docinfoProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),bt(this,"docinfo_processor",Y,t)},gt.prototype.hasPreprocessors=function(){return this["$preprocessors?"]()},gt.prototype.hasTreeProcessors=function(){return this["$tree_processors?"]()},gt.prototype.hasIncludeProcessors=function(){return this["$include_processors?"]()},gt.prototype.hasPostprocessors=function(){return this["$postprocessors?"]()},gt.prototype.hasDocinfoProcessors=function(t){return this["$docinfo_processors?"](t)},gt.prototype.hasBlocks=function(){return this["$blocks?"]()},gt.prototype.hasBlockMacros=function(){return this["$block_macros?"]()},gt.prototype.hasInlineMacros=function(){return this["$inline_macros?"]()},gt.prototype.getPreprocessors=function(){return this.$preprocessors()},gt.prototype.getTreeProcessors=function(){return this.$tree_processors()},gt.prototype.getIncludeProcessors=function(){return this.$include_processors()},gt.prototype.getPostprocessors=function(){return this.$postprocessors()},gt.prototype.getDocinfoProcessors=function(t){return this.$docinfo_processors(t)},gt.prototype.getBlocks=function(){return this.block_extensions.$values()},gt.prototype.getBlockMacros=function(){return this.block_macro_extensions.$values()},gt.prototype.getInlineMacros=function(){return this.$inline_macros()},gt.prototype.getInlineMacroFor=function(t){const Y=this["$registered_for_inline_macro?"](t);return Y===!1?void 0:Y},gt.prototype.getBlockFor=function(t,Y){if(typeof Y>"u"){const T=this.$find_block_extension(t);return T===Opal.nil?void 0:T}const U=this["$registered_for_block?"](t,Y);return U===!1?void 0:U},gt.prototype.getBlockMacroFor=function(t){const Y=this["$registered_for_block_macro?"](t);return Y===!1?void 0:Y};const mt=pt.Processor;mt.prototype.prepend=function(){this.$option("position",">>")},mt.prototype.process=function(t){const Y={apply:function(T,Z,c){for(let z=0;z<c.length;z++)typeof c[z]=="object"&&"$$smap"in c[z]&&(c[z]=E(c[z]));return T.apply(Z,c)}},U=new Proxy(t,Y);return Opal.send(this,"process",null,_t(U))},mt.prototype.named=function(t){return this.$named(t)},mt.prototype.createBlock=function(t,Y,U,T,Z){return this.$create_block(t,Y,U,a(T),a(Z))},mt.prototype.createList=function(t,Y,U){return this.$create_list(t,Y,a(U))},mt.prototype.createListItem=function(t,Y){return this.$create_list_item(t,Y)},mt.prototype.createImageBlock=function(t,Y,U){return this.$create_image_block(t,a(Y),a(U))},mt.prototype.createParagraph=function(t,Y,U,T){return this.$create_paragraph(t,Y,a(U),a(T))},mt.prototype.createOpenBlock=function(t,Y,U,T){return this.$create_open_block(t,Y,a(U),a(T))},mt.prototype.createExampleBlock=function(t,Y,U,T){return this.$create_example_block(t,Y,a(U),a(T))},mt.prototype.createPassBlock=function(t,Y,U,T){return this.$create_pass_block(t,Y,a(U),a(T))},mt.prototype.createListingBlock=function(t,Y,U,T){return this.$create_listing_block(t,Y,a(U),a(T))},mt.prototype.createLiteralBlock=function(t,Y,U,T){return this.$create_literal_block(t,Y,a(U),a(T))},mt.prototype.createAnchor=function(t,Y,U){return U&&U.attributes&&(U.attributes=a(U.attributes)),this.$create_anchor(t,Y,a(U))},mt.prototype.createInlinePass=function(t,Y,U){return U&&U.attributes&&(U.attributes=a(U.attributes)),this.$create_inline_pass(t,Y,a(U))},mt.prototype.createInline=function(t,Y,U,T){return T&&T.attributes&&(T.attributes=a(T.attributes)),this.$create_inline(t,Y,U,a(T))},mt.prototype.parseContent=function(t,Y,U){return this.$parse_content(t,Y,a(U))},mt.prototype.parseAttributes=function(t,Y,U){return U&&U.attributes&&(U.attributes=a(U.attributes)),E(this.$parse_attributes(t,Y,a(U)))},mt.prototype.positionalAttributes=function(t){return this.$positional_attrs(t)},mt.prototype.resolveAttributes=function(t){return typeof t=="object"&&!Array.isArray(t)?this.$resolves_attributes(a(t)):arguments.length>1?this.$resolves_attributes(Array.prototype.slice.call(arguments)):typeof t>"u"?this.$resolves_attributes(Opal.nil):this.$resolves_attributes(t)},mt.prototype.resolvesAttributes=mt.prototype.resolveAttributes,mt.prototype.getConfig=function(){return E(this.config)},mt.prototype.option=function(t,Y){this.$option(t,Y)};const Qe=pt.BlockProcessor;Qe.prototype.defaultAttributes=function(t){this.$default_attributes(a(t))},Qe.prototype.onContext=function(t){return this.$on_context(t)},Qe.prototype.onContexts=function(t){return this.$on_contexts(Array.prototype.slice.call(arguments))},Qe.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},Qe.prototype.parseContentAs=function(t){this.$parse_content_as(t)};const me=pt.BlockMacroProcessor;me.prototype.defaultAttributes=function(t){this.$default_attributes(a(t))},me.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},me.prototype.parseContentAs=function(t){this.$parse_content_as(t)};const Ee=pt.InlineMacroProcessor;Ee.prototype.defaultAttributes=function(t){this.$default_attributes(a(t))},Ee.prototype.getName=function(){const t=this.name;return t===Opal.nil?void 0:t},Ee.prototype.parseContentAs=function(t){this.$parse_content_as(t)},Ee.prototype.matchFormat=function(t){this.$match_format(t)},Ee.prototype.match=function(t){this.$match(t)};const je=pt.IncludeProcessor;je.prototype.handles=function(t){return Opal.send(this,"handles?",null,_t(t))},je.prototype.prefer=function(){this.$prefer()};const _=pt.TreeProcessor;_.prototype.prefer=function(){this.$prefer()};const x=pt.Postprocessor;x.prototype.prefer=function(){this.$prefer()};const te=pt.Preprocessor;te.prototype.prefer=function(){this.$prefer()};const we=pt.DocinfoProcessor;we.prototype.prefer=function(){this.$prefer()},we.prototype.atLocation=function(t){this.$at_location(t)};function Ye(t,Y,U){const T=Opal.const_get_qualified(pt,t);return ne(T,Y,U,{"handles?":function(){return!0}})}pt.createPostprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("Postprocessor",t,Y)},pt.newPostprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createPostprocessor(t,Y).$new()},pt.createPreprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("Preprocessor",t,Y)},pt.newPreprocessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createPreprocessor(t,Y).$new()},pt.createTreeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("TreeProcessor",t,Y)},pt.newTreeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createTreeProcessor(t,Y).$new()},pt.createIncludeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("IncludeProcessor",t,Y)},pt.newIncludeProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createIncludeProcessor(t,Y).$new()},pt.createDocinfoProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("DocinfoProcessor",t,Y)},pt.newDocinfoProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createDocinfoProcessor(t,Y).$new()},pt.createBlockProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("BlockProcessor",t,Y)},pt.newBlockProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createBlockProcessor(t,Y).$new()},pt.createInlineMacroProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("InlineMacroProcessor",t,Y)},pt.newInlineMacroProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createInlineMacroProcessor(t,Y).$new()},pt.createBlockMacroProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),Ye("BlockMacroProcessor",t,Y)},pt.newBlockMacroProcessor=function(t,Y){return arguments.length===1&&(Y=t,t=null),this.createBlockMacroProcessor(t,Y).$new()};var nt="3.0.2";return Opal.Asciidoctor.prototype.getVersion=function(){return nt},Opal.Asciidoctor}const e$=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"})),t$=Qs(e$);var r$=t$;const n$=Zs(r$);function _i(e,a){e.indexOf(a)===-1&&e.push(a)}function i$(e,a){const E=e.indexOf(a);E>-1&&e.splice(E,1)}const di=(e,a,E)=>Math.min(Math.max(E,e),a),er={duration:.3,delay:0,endDelay:0,repeat:0,easing:"ease"},Cr=e=>typeof e=="number",hr=e=>Array.isArray(e)&&!Cr(e[0]),s$=(e,a,E)=>{const V=a-e;return((E-e)%V+V)%V+e};function $$(e,a){return hr(e)?e[s$(0,e.length,a)]:e}const hi=(e,a,E)=>-E*e+E*a+e,pi=()=>{},$r=e=>e,xn=(e,a,E)=>a-e===0?1:(E-e)/(a-e);function mi(e,a){const E=e[e.length-1];for(let V=1;V<=a;V++){const I=xn(0,a,V);e.push(hi(E,1,I))}}function o$(e){const a=[0];return mi(a,e-1),a}function a$(e,a=o$(e.length),E=$r){const V=e.length,I=V-a.length;return I>0&&mi(a,I),_e=>{let ne=0;for(;ne<V-2&&!(_e<a[ne+1]);ne++);let ae=di(0,1,xn(a[ne],a[ne+1],_e));return ae=$$(E,ne)(ae),hi(e[ne],e[ne+1],ae)}}const gi=e=>Array.isArray(e)&&Cr(e[0]),dn=e=>typeof e=="object"&&!!e.createAnimation,mr=e=>typeof e=="function",l$=e=>typeof e=="string",$n={ms:e=>e*1e3,s:e=>e/1e3},vi=(e,a,E)=>(((1-3*E+3*a)*e+(3*E-6*a))*e+3*a)*e,u$=1e-7,c$=12;function f$(e,a,E,V,I){let _e,ne,ae=0;do ne=a+(E-a)/2,_e=vi(ne,V,I)-e,_e>0?E=ne:a=ne;while(Math.abs(_e)>u$&&++ae<c$);return ne}function wr(e,a,E,V){if(e===a&&E===V)return $r;const I=_e=>f$(_e,0,1,e,E);return _e=>_e===0||_e===1?_e:vi(I(_e),a,V)}const _$=(e,a="end")=>E=>{E=a==="end"?Math.min(E,.999):Math.max(E,.001);const V=E*e,I=a==="end"?Math.floor(V):Math.ceil(V);return di(0,1,I/e)},Fn={ease:wr(.25,.1,.25,1),"ease-in":wr(.42,0,1,1),"ease-in-out":wr(.42,0,.58,1),"ease-out":wr(0,0,.58,1)},d$=/\((.*?)\)/;function Nn(e){if(mr(e))return e;if(gi(e))return wr(...e);if(Fn[e])return Fn[e];if(e.startsWith("steps")){const a=d$.exec(e);if(a){const E=a[1].split(",");return _$(parseFloat(E[0]),E[1].trim())}}return $r}class h${constructor(a,E=[0,1],{easing:V,duration:I=er.duration,delay:_e=er.delay,endDelay:ne=er.endDelay,repeat:ae=er.repeat,offset:ue,direction:B="normal"}={}){if(this.startTime=null,this.rate=1,this.t=0,this.cancelTimestamp=null,this.easing=$r,this.duration=0,this.totalDuration=0,this.repeat=0,this.playState="idle",this.finished=new Promise((ze,xe)=>{this.resolve=ze,this.reject=xe}),V=V||er.easing,dn(V)){const ze=V.createAnimation(E);V=ze.easing,E=ze.keyframes||E,I=ze.duration||I}this.repeat=ae,this.easing=hr(V)?$r:Nn(V),this.updateDuration(I);const Ae=a$(E,ue,hr(V)?V.map(Nn):$r);this.tick=ze=>{var xe;_e=_e;let Ue=0;this.pauseTime!==void 0?Ue=this.pauseTime:Ue=(ze-this.startTime)*this.rate,this.t=Ue,Ue/=1e3,Ue=Math.max(Ue-_e,0),this.playState==="finished"&&this.pauseTime===void 0&&(Ue=this.totalDuration);const Ke=Ue/this.duration;let qe=Math.floor(Ke),re=Ke%1;!re&&Ke>=1&&(re=1),re===1&&qe--;const Fe=qe%2;(B==="reverse"||B==="alternate"&&Fe||B==="alternate-reverse"&&!Fe)&&(re=1-re);const Ve=Ue>=this.totalDuration?1:Math.min(re,1),Me=Ae(this.easing(Ve));a(Me),this.pauseTime===void 0&&(this.playState==="finished"||Ue>=this.totalDuration+ne)?(this.playState="finished",(xe=this.resolve)===null||xe===void 0||xe.call(this,Me)):this.playState!=="idle"&&(this.frameRequestId=requestAnimationFrame(this.tick))},this.play()}play(){const a=performance.now();this.playState="running",this.pauseTime!==void 0?this.startTime=a-this.pauseTime:this.startTime||(this.startTime=a),this.cancelTimestamp=this.startTime,this.pauseTime=void 0,this.frameRequestId=requestAnimationFrame(this.tick)}pause(){this.playState="paused",this.pauseTime=this.t}finish(){this.playState="finished",this.tick(0)}stop(){var a;this.playState="idle",this.frameRequestId!==void 0&&cancelAnimationFrame(this.frameRequestId),(a=this.reject)===null||a===void 0||a.call(this,!1)}cancel(){this.stop(),this.tick(this.cancelTimestamp)}reverse(){this.rate*=-1}commitStyles(){}updateDuration(a){this.duration=a,this.totalDuration=a*(this.repeat+1)}get currentTime(){return this.t}set currentTime(a){this.pauseTime!==void 0||this.rate===0?this.pauseTime=a:this.startTime=performance.now()-a/this.rate}get playbackRate(){return this.rate}set playbackRate(a){this.rate=a}}class p${setAnimation(a){this.animation=a,a?.finished.then(()=>this.clearAnimation()).catch(()=>{})}clearAnimation(){this.animation=this.generator=void 0}}const on=new WeakMap;function bi(e){return on.has(e)||on.set(e,{transforms:[],values:new Map}),on.get(e)}function m$(e,a){return e.has(a)||e.set(a,new p$),e.get(a)}const g$=["","X","Y","Z"],v$=["translate","scale","rotate","skew"],gr={x:"translateX",y:"translateY",z:"translateZ"},Ln={syntax:"<angle>",initialValue:"0deg",toDefaultUnit:e=>e+"deg"},b$={translate:{syntax:"<length-percentage>",initialValue:"0px",toDefaultUnit:e=>e+"px"},rotate:Ln,scale:{syntax:"<number>",initialValue:1,toDefaultUnit:$r},skew:Ln},vr=new Map,Zr=e=>`--motion-${e}`,Ur=["x","y","z"];v$.forEach(e=>{g$.forEach(a=>{Ur.push(e+a),vr.set(Zr(e+a),b$[e])})});const y$=(e,a)=>Ur.indexOf(e)-Ur.indexOf(a),w$=new Set(Ur),kn=e=>w$.has(e),x$=(e,a)=>{gr[a]&&(a=gr[a]);const{transforms:E}=bi(e);_i(E,a),e.style.transform=yi(E)},yi=e=>e.sort(y$).reduce(k$,"").trim(),k$=(e,a)=>`${e} ${a}(var(${Zr(a)}))`,hn=e=>e.startsWith("--"),Dn=new Set;function A$(e){if(!Dn.has(e)){Dn.add(e);try{const{syntax:a,initialValue:E}=vr.has(e)?vr.get(e):{};CSS.registerProperty({name:e,inherits:!1,syntax:a,initialValue:E})}catch{}}}const an=(e,a)=>document.createElement("div").animate(e,a),Mn={cssRegisterProperty:()=>typeof CSS<"u"&&Object.hasOwnProperty.call(CSS,"registerProperty"),waapi:()=>Object.hasOwnProperty.call(Element.prototype,"animate"),partialKeyframes:()=>{try{an({opacity:[1]})}catch{return!1}return!0},finished:()=>!!an({opacity:[0,1]},{duration:.001}).finished,linearEasing:()=>{try{an({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0}},ln={},dr={};for(const e in Mn)dr[e]=()=>(ln[e]===void 0&&(ln[e]=Mn[e]()),ln[e]);const E$=.015,S$=(e,a)=>{let E="";const V=Math.round(a/E$);for(let I=0;I<V;I++)E+=e(xn(0,V-1,I))+", ";return E.substring(0,E.length-2)},Bn=(e,a)=>mr(e)?dr.linearEasing()?`linear(${S$(e,a)})`:er.easing:gi(e)?C$(e):e,C$=([e,a,E,V])=>`cubic-bezier(${e}, ${a}, ${E}, ${V})`;function q$(e,a){for(let E=0;E<e.length;E++)e[E]===null&&(e[E]=E?e[E-1]:a());return e}const R$=e=>Array.isArray(e)?e:[e];function pn(e){return gr[e]&&(e=gr[e]),kn(e)?Zr(e):e}const xr={get:(e,a)=>{a=pn(a);let E=hn(a)?e.style.getPropertyValue(a):getComputedStyle(e)[a];if(!E&&E!==0){const V=vr.get(a);V&&(E=V.initialValue)}return E},set:(e,a,E)=>{a=pn(a),hn(a)?e.style.setProperty(a,E):e.style[a]=E}};function I$(e,a=!0){if(!(!e||e.playState==="finished"))try{e.stop?e.stop():(a&&e.commitStyles(),e.cancel())}catch{}}function T$(e,a){var E;let V=a?.toDefaultUnit||$r;const I=e[e.length-1];if(l$(I)){const _e=((E=I.match(/(-?[\d.]+)([a-z%]*)/))===null||E===void 0?void 0:E[2])||"";_e&&(V=ne=>ne+_e)}return V}function z$(){return window.__MOTION_DEV_TOOLS_RECORD}function F$(e,a,E,V={},I){const _e=z$(),ne=V.record!==!1&&_e;let ae,{duration:ue=er.duration,delay:B=er.delay,endDelay:Ae=er.endDelay,repeat:ze=er.repeat,easing:xe=er.easing,persist:Ue=!1,direction:Ke,offset:qe,allowWebkitAcceleration:re=!1}=V;const Fe=bi(e),Ve=kn(a);let Me=dr.waapi();Ve&&x$(e,a);const Ie=pn(a),ce=m$(Fe.values,Ie),ye=vr.get(Ie);return I$(ce.animation,!(dn(xe)&&ce.generator)&&V.record!==!1),()=>{const le=()=>{var pe,Q;return(Q=(pe=xr.get(e,Ie))!==null&&pe!==void 0?pe:ye?.initialValue)!==null&&Q!==void 0?Q:0};let Re=q$(R$(E),le);const ie=T$(Re,ye);if(dn(xe)){const pe=xe.createAnimation(Re,a!=="opacity",le,Ie,ce);xe=pe.easing,Re=pe.keyframes||Re,ue=pe.duration||ue}if(hn(Ie)&&(dr.cssRegisterProperty()?A$(Ie):Me=!1),Ve&&!dr.linearEasing()&&(mr(xe)||hr(xe)&&xe.some(mr))&&(Me=!1),Me){ye&&(Re=Re.map(p=>Cr(p)?ye.toDefaultUnit(p):p)),Re.length===1&&(!dr.partialKeyframes()||ne)&&Re.unshift(le());const pe={delay:$n.ms(B),duration:$n.ms(ue),endDelay:$n.ms(Ae),easing:hr(xe)?void 0:Bn(xe,ue),direction:Ke,iterations:ze+1,fill:"both"};ae=e.animate({[Ie]:Re,offset:qe,easing:hr(xe)?xe.map(p=>Bn(p,ue)):void 0},pe),ae.finished||(ae.finished=new Promise((p,de)=>{ae.onfinish=p,ae.oncancel=de}));const Q=Re[Re.length-1];ae.finished.then(()=>{Ue||(xr.set(e,Ie,Q),ae.cancel())}).catch(pi),re||(ae.playbackRate=1.000001)}else if(I&&Ve)Re=Re.map(pe=>typeof pe=="string"?parseFloat(pe):pe),Re.length===1&&Re.unshift(parseFloat(le())),ae=new I(pe=>{xr.set(e,Ie,ie?ie(pe):pe)},Re,Object.assign(Object.assign({},V),{duration:ue,easing:xe}));else{const pe=Re[Re.length-1];xr.set(e,Ie,ye&&Cr(pe)?ye.toDefaultUnit(pe):pe)}return ne&&_e(e,a,Re,{duration:ue,delay:B,easing:xe,repeat:ze,offset:qe},"motion-one"),ce.setAnimation(ae),ae}}const N$=(e,a)=>e[a]?Object.assign(Object.assign({},e),e[a]):Object.assign({},e);function L$(e,a){var E;return typeof e=="string"?a?((E=a[e])!==null&&E!==void 0||(a[e]=document.querySelectorAll(e)),e=a[e]):e=document.querySelectorAll(e):e instanceof Element&&(e=[e]),Array.from(e||[])}function wi(e,a){var E={};for(var V in e)Object.prototype.hasOwnProperty.call(e,V)&&a.indexOf(V)<0&&(E[V]=e[V]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var I=0,V=Object.getOwnPropertySymbols(e);I<V.length;I++)a.indexOf(V[I])<0&&Object.prototype.propertyIsEnumerable.call(e,V[I])&&(E[V[I]]=e[V[I]]);return E}const D$={any:0,all:1};function M$(e,a,{root:E,margin:V,amount:I="any"}={}){if(typeof IntersectionObserver>"u")return()=>{};const _e=L$(e),ne=new WeakMap,ae=B=>{B.forEach(Ae=>{const ze=ne.get(Ae.target);if(Ae.isIntersecting!==!!ze)if(Ae.isIntersecting){const xe=a(Ae);mr(xe)?ne.set(Ae.target,xe):ue.unobserve(Ae.target)}else ze&&(ze(Ae),ne.delete(Ae.target))})},ue=new IntersectionObserver(ae,{root:E,rootMargin:V,threshold:typeof I=="number"?I:D$[I]});return _e.forEach(B=>ue.observe(B)),()=>ue.disconnect()}function B$(e,a){return typeof e!=typeof a?!0:Array.isArray(e)&&Array.isArray(a)?!P$(e,a):e!==a}function P$(e,a){const E=a.length;if(E!==e.length)return!1;for(let V=0;V<E;V++)if(a[V]!==e[V])return!1;return!0}function j$(e){return typeof e=="object"}function Pn(e,a){if(j$(e))return e;if(e&&a)return a[e]}let or;function U$(){if(!or)return;const e=or.sort(K$).map(Y$);e.forEach(jn),e.forEach(jn),or=void 0}function un(e){or?_i(or,e):(or=[e],requestAnimationFrame(U$))}function H$(e){or&&i$(or,e)}const K$=(e,a)=>e.getDepth()-a.getDepth(),Y$=e=>e.animateUpdates(),jn=e=>e.next(),Un=(e,a)=>new CustomEvent(e,{detail:{target:a}});function mn(e,a,E){e.dispatchEvent(new CustomEvent(a,{detail:{originalEvent:E}}))}function Hn(e,a,E){e.dispatchEvent(new CustomEvent(a,{detail:{originalEntry:E}}))}const G$={isActive:e=>!!e.inView,subscribe:(e,{enable:a,disable:E},{inViewOptions:V={}})=>{const{once:I}=V,_e=wi(V,["once"]);return M$(e,ne=>{if(a(),Hn(e,"viewenter",ne),!I)return ae=>{E(),Hn(e,"viewleave",ae)}},_e)}},Kn=(e,a,E)=>V=>{V.pointerType&&V.pointerType!=="mouse"||(E(),mn(e,a,V))},W$={isActive:e=>!!e.hover,subscribe:(e,{enable:a,disable:E})=>{const V=Kn(e,"hoverstart",a),I=Kn(e,"hoverend",E);return e.addEventListener("pointerenter",V),e.addEventListener("pointerleave",I),()=>{e.removeEventListener("pointerenter",V),e.removeEventListener("pointerleave",I)}}},V$={isActive:e=>!!e.press,subscribe:(e,{enable:a,disable:E})=>{const V=_e=>{E(),mn(e,"pressend",_e),window.removeEventListener("pointerup",V)},I=_e=>{a(),mn(e,"pressstart",_e),window.addEventListener("pointerup",V)};return e.addEventListener("pointerdown",I),()=>{e.removeEventListener("pointerdown",I),window.removeEventListener("pointerup",V)}}},Fr={inView:G$,hover:W$,press:V$},Yn=["initial","animate",...Object.keys(Fr),"exit"],Gn=new WeakMap;function X$(e={},a){let E,V=a?a.getDepth()+1:0;const I={initial:!0,animate:!0},_e={},ne={};for(const qe of Yn)ne[qe]=typeof e[qe]=="string"?e[qe]:a?.getContext()[qe];const ae=e.initial===!1?"animate":"initial";let ue=Pn(e[ae]||ne[ae],e.variants)||{},B=wi(ue,["transition"]);const Ae=Object.assign({},B);function*ze(){var qe,re;const Fe=B;B={};const Ve={};for(const le of Yn){if(!I[le])continue;const Re=Pn(e[le]);if(Re)for(const ie in Re)ie!=="transition"&&(B[ie]=Re[ie],Ve[ie]=N$((re=(qe=Re.transition)!==null&&qe!==void 0?qe:e.transition)!==null&&re!==void 0?re:{},ie))}const Me=new Set([...Object.keys(B),...Object.keys(Fe)]),Ie=[];Me.forEach(le=>{var Re;B[le]===void 0&&(B[le]=Ae[le]),B$(Fe[le],B[le])&&((Re=Ae[le])!==null&&Re!==void 0||(Ae[le]=xr.get(E,le)),Ie.push(F$(E,le,B[le],Ve[le],h$)))}),yield;const ce=Ie.map(le=>le()).filter(Boolean);if(!ce.length)return;const ye=B;E.dispatchEvent(Un("motionstart",ye)),Promise.all(ce.map(le=>le.finished)).then(()=>{E.dispatchEvent(Un("motioncomplete",ye))}).catch(pi)}const xe=(qe,re)=>()=>{I[qe]=re,un(Ke)},Ue=()=>{for(const qe in Fr){const re=Fr[qe].isActive(e),Fe=_e[qe];re&&!Fe?_e[qe]=Fr[qe].subscribe(E,{enable:xe(qe,!0),disable:xe(qe,!1)},e):!re&&Fe&&(Fe(),delete _e[qe])}},Ke={update:qe=>{E&&(e=qe,Ue(),un(Ke))},setActive:(qe,re)=>{E&&(I[qe]=re,un(Ke))},animateUpdates:ze,getDepth:()=>V,getTarget:()=>B,getOptions:()=>e,getContext:()=>ne,mount:qe=>(E=qe,Gn.set(E,Ke),Ue(),()=>{Gn.delete(E),H$(Ke);for(const re in _e)_e[re]()}),isMounted:()=>!!E};return Ke}function J$(e){const a={},E=[];for(let V in e){const I=e[V];kn(V)&&(gr[V]&&(V=gr[V]),E.push(V),V=Zr(V));let _e=Array.isArray(I)?I[0]:I;const ne=vr.get(V);ne&&(_e=Cr(I)?ne.toDefaultUnit(I):I),a[V]=_e}return E.length&&(a.transform=yi(E)),a}const Z$=Yr(),Q$=(e,a)=>e.addEventListener("motioncomplete",a);function O$(e,a,E,V){const I=X$(E?.()===!1?{...a(),initial:!1}:a(),V);return Si(()=>{const _e=I.mount(e());Kr(()=>{E&&a().exit?(I.setActive("exit",!0),Q$(e(),_e)):_e()}),mr(a)&&On(()=>I.update(a()))}),[I,J$(I.getTarget())]}var eo=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g;function Wn(e){const a={};let E;for(;E=eo.exec(e);)a[E[1]]=E[2];return a}function to(e,a){if(typeof e=="string"){if(typeof a=="string")return`${e};${a}`;e=Wn(e)}else typeof a=="string"&&(a=Wn(a));return{...e,...a}}const ro=["initial","animate","inView","inViewOptions","hover","press","variants","transition","exit"],no=["tag","ref","style","onMotionStart","onMotionComplete","onHoverStart","onHoverEnd","onPressStart","onPressEnd","onViewEnter","onViewLeave"],Vn=Yr(),Xn=e=>{const[a,,E]=bn(e,ro,no),[V,I]=O$(()=>_e,()=>({...a}),Ar(Z$),Ar(Vn));let _e;return Tt(Vn.Provider,{value:V,get children(){return Tt(as,Er({ref:ne=>{_e=ne,e.ref?.(ne)},get component(){return e.tag||"div"},get style(){return Lt(()=>!!e.style)()?to(e.style,I):I},get["on:motionstart"](){return e.onMotionStart},get["on:motioncomplete"](){return e.onMotionComplete},get["on:hoverstart"](){return e.onHoverStart},get["on:hoverend"](){return e.onHoverEnd},get["on:pressstart"](){return e.onPressStart},get["on:pressend"](){return e.onPressEnd},get["on:viewenter"](){return e.onViewEnter},get["on:viewleave"](){return e.onViewLeave}},E))}})},yr=new Proxy(Xn,{get:(e,a)=>E=>Tt(Xn,Er(E,{tag:a}))}),io="_Book_g5bi3_20",so="_nav_button_g5bi3_25",$o="_next_g5bi3_1",oo="_previous_g5bi3_1",ao="_open_g5bi3_1",lo="_chapter_container_g5bi3_53",uo="_Sidebar_g5bi3_58",sr={Book:io,nav_button:so,next:$o,previous:oo,open:ao,chapter_container:lo,Sidebar:uo};const co=Qt('<i class="material-symbols-outlined">menu'),fo=Qt("<button>. "),_o=Qt('<button><i class="material-symbols-outlined">chevron_right'),ho=Qt('<i class="material-symbols-outlined">chevron_left'),po=Qt("<div>"),mo=Qt("<span>Loading...");let go=n$();const vo=async e=>await(await fetch(`chapters/chapter${e}.adoc`)).text(),Jn=["The Graphene Programming language","Introduction","Getting Started"];function bo(){const[e,a]=Zt(0),[E]=Ei(e,vo),V=Jn.length,I=()=>go.convert(E(),{standalone:!0,attributes:{showtitle:!0,StyleSheet:!1},doctype:"book"}),[_e,ne]=Zt(0);function ae(){return[Tt(yr.button,{get id(){return sr.open},onClick:()=>ne(_e()?0:20),get animate(){return{left:`${_e()?_e()+5:1}em`}},transition:{duration:.25},get children(){return co()}}),Tt(yr,{get animate(){return{width:`${_e()}em`}},transition:{duration:.25},get class(){return sr.Sidebar},get children(){return Tt(Pi,{each:Jn,children:(ue,B)=>(()=>{const Ae=fo(),ze=Ae.firstChild;return Ae.$$click=()=>a(B),Ht(Ae,B,ze),Ht(Ae,ue,null),Ae})()})}})]}return(()=>{const ue=po();return Ht(ue,Tt(yr,{get animate(){return{margin:`0 0em 0 ${_e()}em`}},transition:{duration:.25},get children(){return Tt(Jr,{})}}),null),Ht(ue,Tt(ae,{}),null),Ht(ue,Tt(kr,{get when(){return!E.loading},get fallback(){return mo()},get children(){return Tt(yr,{get animate(){return{margin:`0 5em 1em ${_e()+5}em`}},transition:{duration:.25},get class(){return sr.chapter_container},get innerHTML(){return I()}})}}),null),Ht(ue,Tt(kr,{get when(){return e()<V-1},get children(){const B=_o();return B.$$click=()=>a(e()+1),Jt(Ae=>{const ze=sr.nav_button,xe=sr.next;return ze!==Ae._v$&&rr(B,Ae._v$=ze),xe!==Ae._v$2&&jr(B,"id",Ae._v$2=xe),Ae},{_v$:void 0,_v$2:void 0}),B}}),null),Ht(ue,Tt(kr,{get when(){return e()!=0},get children(){return Tt(yr.button,{get animate(){return{left:`${_e()?_e()+4:0}em`}},transition:{duration:.25},get class(){return sr.nav_button},get id(){return sr.previous},onClick:()=>a(e()-1),get children(){return ho()}})}}),null),Jt(()=>rr(ue,sr.Book)),ue})()}yn(["click"]);function yo(){return Tt(Jr,{})}const wo=document.getElementById("root");Zi(()=>Tt(Ms,{get children(){return Tt(Bs,{get children(){return[Tt(Ir,{path:"/",component:Hs}),Tt(Ir,{path:"/learn",component:Js}),Tt(Ir,{path:"/download",component:yo}),Tt(Ir,{path:"/learn/book",component:bo})]}})}}),wo);
